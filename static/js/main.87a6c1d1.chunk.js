(this["webpackJsonpfrontend-blog"]=this["webpackJsonpfrontend-blog"]||[]).push([[0],[,,,,function(e,t){var n="https://jorlane.com.br",c="".concat(n,"/api"),a="".concat(n,"/oapi"),i="".concat(n,"/images");e.exports={API_URL:c,OPEN_API_URL:a,IMAGE_URL_API:i,IMAGE_PROFILE_DEFAULT:"img_init_profile.jpg"}},,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"a":"0.1.3"}')},function(e,t,n){},,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(28);var c=n(12),a=n.n(c),i=n(1),o=n.n(i),s=n(8),r=n.n(s),l=n(11),d=n(2),u=(n(34),n(4)),m=n(5),j=n.n(m),b=(n(53),n(7)),h=n(6),f={modalVisible:"hidden",children:"",modalJustifyContent:"none",messageVisible:!1,messageText:"",messageType:"info",user:{name:"",email:"",token:"",validToken:!1,isAdministrator:!1},profileLoggedUser:{id:null,name:null,email:null,photo:null,bioDescription:null,allowEmailNotification:null,frequencyEmailNotification:null,firstAccess:null,lastAccess:null},toolBarContent:null,footerContent:null},O="blog_token_key";function g(e,t){switch(t.type){case"reset":return Object(h.a)(Object(h.a)({},f),{},{user:e.user,profileLoggedUser:e.profileLoggedUser,toolBarContent:e.toolBarContent,footerContent:e.footerContent});case"show_modal":return Object(h.a)(Object(h.a)({},e),{},{modalVisible:"visible",children:t.payload.children,modalJustifyContent:t.payload.modalJustifyContent});case"show_message":return Object(h.a)(Object(h.a)({},e),{},{messageVisible:!0,messageType:t.payload.messageType,messageText:t.payload.messageText});case"hide_message":return Object(h.a)(Object(h.a)({},e),{},{messageVisible:!1,messageType:"info",messageText:""});case"update_user":t.payload.validToken?localStorage.setItem(O,t.payload.token):localStorage.removeItem(O);var n={};return n.name=t.payload.userProfile.name||"",n.email=t.payload.userProfile.email||"",n.token=t.payload.token||"",n.validToken=t.payload.validToken||!1,n.isAdministrator=t.payload.userProfile.isAdministrator||!1,Object(h.a)(Object(h.a)({},e),{},{user:n,profileLoggedUser:t.payload.userProfile});case"set_toolbar_content":return Object(h.a)(Object(h.a)({},e),{},{toolBarContent:t.payload});case"set_footer_content":return Object(h.a)(Object(h.a)({},e),{},{footerContent:t.payload});default:return e}}var v=n(0),p=o.a.createContext(f),x=function(e){var t=Object(i.useReducer)(g,f),n=Object(d.a)(t,2),c=n[0],a=n[1];return Object(v.jsx)(p.Provider,{value:{modalVisible:c.modalVisible,children:c.children,modalJustifyContent:c.modalJustifyContent,closeModal:function(){return a({type:"reset"})},showModal:function(e,t){return function(e,t){a({type:"show_modal",payload:{children:e,modalJustifyContent:t}})}(e,t||"none")},messageVisible:c.messageVisible,messageType:c.messageType,messageText:c.messageText,showMessage:function(e,t){return function(){a({type:"show_message",payload:{messageType:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",messageText:arguments.length>1?arguments[1]:void 0}}),setTimeout((function(){a({type:"hide_message"})}),2e3)}(e,t)},user:c.user,profileLoggedUser:c.profileLoggedUser,updateLoggedUser:function(e){!function(e){a({type:"update_user",payload:e})}(e)},toolBarContent:c.toolBarContent,setToolBarContent:function(e){return function(e){a({type:"set_toolbar_content",payload:e})}(e)},footerContent:c.footerContent,setFooterContent:function(e){return function(e){a({type:"set_footer_content",payload:e})}(e)}},children:e.children})},N=(n(55),n(56),n(3));n(57);function y(e){var t=new Date(e);return t.getDate().toString().padStart(2,"0")+"/"+(t.getMonth()+1).toString().padStart(2,"0")+"/"+t.getFullYear()}var I=function(e){var t=Object(i.useState)(e.article.writer?"".concat(e.article.writer.name," em ").concat(y(e.article.statusDate)):"Em ".concat(y(e.article.statusDate))),n=Object(d.a)(t,1)[0],c=Object(i.useState)(function(){var t=e.article.writer.bioDescription||"";return t.length>200?t.substr(0,180)+"...":t}()),a=Object(d.a)(c,1)[0],o=Object(i.useState)(""),s=Object(d.a)(o,2),r=s[0],l=s[1],m=Object(i.useState)(""),j=Object(d.a)(m,2),b=j[0],h=j[1];return Object(i.useEffect)((function(){for(var t=e.article.sectionsinarticles,n="",c=0;c<t.length;c++)"PARAGRAPH"===t[c].sectionId?""===n&&n.length<580?n=t[c].text:n.length<200&&(n=n+"/n"+t[c].text):""===b&&"IMAGE"===t[c].sectionId&&h("".concat(u.IMAGE_URL_API,"/article/").concat(t[c].imagePath)),n.length>=580&&(n=n.substring(0,580)+"...");l(n)}),[n]),Object(v.jsx)("div",{className:"",children:Object(v.jsx)("div",{className:"HomeArticlesItem",children:Object(v.jsxs)("div",{className:"div-content-article",onClick:function(){return e.handleClickArticleItem(e.article)},children:[Object(v.jsx)("div",{className:"title",children:e.article.title}),Object(v.jsxs)("div",{className:"div-body-article",children:[Object(v.jsx)("div",{className:"text-view",children:r}),Object(v.jsx)("img",{className:"img-view",src:b,alt:""})]}),Object(v.jsxs)("div",{className:"div-article-writer",children:[Object(v.jsx)("div",{className:"div-img-article-profile",children:Object(v.jsx)("img",{className:"image-article-profile",src:"".concat(u.IMAGE_URL_API,"/").concat(e.article.writer.photo||u.IMAGE_PROFILE_DEFAULT),alt:""})}),Object(v.jsxs)("div",{className:"div-details",children:[Object(v.jsx)("div",{className:"author-article",children:n}),Object(v.jsx)("div",{className:"bio-writer-article",children:a})]})]})]})},"key_".concat(e.article.id))})},C="".concat(u.OPEN_API_URL,"/articles"),k="".concat(u.OPEN_API_URL,"/users"),_=function(e){var t=Object(i.useState)([]),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)(e.refresh||!0),s=Object(d.a)(o,1)[0],u=Object(N.f)();function m(e){u("/articleview?param=".concat(e.id))}function b(){return h.apply(this,arguments)}function h(){return h=Object(l.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=C,e.writerIdOnly&&(n="".concat(C,"/bywriter/").concat(e.writerIdOnly)),t.next=4,j.a.get(n).then(function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=4;break}return e.delegateYield(r.a.mark((function e(){var n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data,c=r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(k,"/").concat(n[t].writerId)).then((function(e){var c=e.data;n[t].writer=c}));case 2:case"end":return e.stop()}}),e)})),i=0;case 3:if(!(i<n.length)){e.next=8;break}return e.delegateYield(c(i),"t0",5);case 5:i++,e.next=3;break;case 8:a(n);case 9:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=5;break;case 4:a([]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("Erro ao selecionar articles => ",e)}));case 4:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}return Object(i.useEffect)((function(){function e(){return(e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]),Object(v.jsx)("div",{className:"HomeArticles",children:Object(v.jsx)("div",{className:"list-home-articles",children:c.map((function(e,t){return Object(v.jsx)(I,{article:e,handleClickArticleItem:m},"item_".concat(t))}))})})},E=function(e){var t=Object(i.useContext)(p),n=t.setToolBarContent,c=t.setFooterContent,a=Object(i.useState)(!0),o=Object(d.a)(a,1)[0];return Object(i.useEffect)((function(){n(null),c(null)}),[o]),Object(v.jsx)("div",{className:"Home",children:Object(v.jsx)(_,{})})},A=function(e){var t=Object(i.useContext)(p).footerContent;return t?Object(v.jsxs)("footer",{className:"Footer Customized",children:[t,Object(v.jsxs)(b.b,{className:"button-link",id:"btn-home",to:"/blog-jorlane",element:Object(v.jsx)(E,{}),children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"home"}),Object(v.jsx)("label",{children:"Home"})]})]}):Object(v.jsxs)("footer",{className:"Footer",children:[Object(v.jsxs)("button",{className:"button-link",id:"btn-write-article",children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"search"}),Object(v.jsx)("label",{children:"Pesquisar"})]}),Object(v.jsxs)(b.b,{className:"button-link",id:"btn-write-article",to:"/blog-jorlane/article",children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"post_add"}),Object(v.jsx)("label",{children:"Escrever Artigo"})]}),Object(v.jsxs)(b.b,{className:"button-link",id:"btn-home",to:"/blog-jorlane/",element:Object(v.jsx)(E,{}),children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"home"}),Object(v.jsx)("label",{children:"Home"})]})]})},w=(n(58),function(){var e=Object(i.useContext)(p),t=e.modalVisible,n=e.children,c=e.modalJustifyContent,a=e.closeModal;return Object(v.jsx)("div",{className:"Modal","modal-justify-content":c,id:"main-modal",visible:t,onClick:function(e){return function(e){"main-modal"===e.target.id&&(console.log("dentro de handleClickOutsideModal"),a())}(e)},children:n})});n(59),n(60),n(61);var P=function(e){var t=Object(i.useContext)(p).user;return Object(v.jsxs)("nav",{className:"Menu",children:[Object(v.jsxs)("ul",{id:"menu-list",children:[Object(v.jsxs)("li",{className:"menu-item ".concat(t.isAdministrator?"active":""),onClick:function(e){return function(e){var t=e.target.children;console.log("CHILDREN => ",t)}(e)},children:[Object(v.jsx)("span",{children:"Administra\xe7\xe3o"}),Object(v.jsxs)("ul",{id:"submenu-adm",className:"submenu",children:[Object(v.jsx)("li",{className:"submenu-item",children:Object(v.jsx)(b.b,{to:"blog-jorlane/categories",children:"Categorias"})}),Object(v.jsx)("li",{className:"submenu-item",children:Object(v.jsx)(b.b,{to:"blog-jorlane/",children:"Den\xfancias"})}),Object(v.jsx)("li",{className:"submenu-item",children:Object(v.jsx)(b.b,{to:"blog-jorlane/",children:"Usu\xe1rios Bloqueados"})})]})]}),Object(v.jsx)("li",{className:"menu-item ".concat(t.validToken?"active":""),children:Object(v.jsx)(b.b,{to:"blog-jorlane/profile",children:"Perfil"})}),Object(v.jsxs)("li",{className:"menu-item ".concat(t.validToken?"active":""),children:[Object(v.jsx)("span",{children:"Blog"}),Object(v.jsxs)("ul",{id:"submenu-blog",className:"submenu",children:[Object(v.jsx)("li",{className:"submenu-item",children:Object(v.jsx)(b.b,{to:"blog-jorlane/blogpreferences",children:"Prefer\xeancias"})}),Object(v.jsx)("li",{className:"submenu-item",children:Object(v.jsx)(b.b,{to:"blog-jorlane/in",children:"Minhas Conex\xf5es"})}),Object(v.jsx)("li",{className:"submenu-item",children:Object(v.jsx)(b.b,{to:"blog-jorlane//",children:"Meus Indicadores"})}),Object(v.jsx)("li",{className:"submenu-item",children:Object(v.jsx)(b.b,{to:"blog-jorlane/myarticles",children:"Meus Artigos"})})]})]}),Object(v.jsx)("li",{className:"menu-item active",children:Object(v.jsx)(b.b,{to:"blog-jorlane/",children:"Pesquisar"})}),Object(v.jsx)("li",{className:"menu-item active",children:Object(v.jsx)(b.b,{to:"blog-jorlane/article",children:"Escrever"})}),Object(v.jsx)("li",{className:"menu-item ".concat(t.validToken?"active":""),children:Object(v.jsx)(b.b,{to:"blog-jorlane//",children:"Notifica\xe7\xf5es"})}),Object(v.jsx)("li",{className:"menu-item ".concat(t.validToken?"active":""),children:Object(v.jsx)(b.b,{to:"blog-jorlane/logout",children:"Sair"})})]}),Object(v.jsx)("button",{id:"btn-mobile",onClick:function(){return function(){var e=document.getElementById("menu-list");e.classList.toggle("active");var t=document.getElementById("hamburger");e.classList.contains("active")?t.innerHTML="close":t.innerHTML="menu"}()},children:Object(v.jsx)("span",{id:"hamburger",className:"material-icons-outlined",children:"menu"})})]})},L=(n(62),n(27)),S=function(e){return Object(v.jsxs)("div",{className:"Logo",children:[Object(v.jsx)("span",{id:"imageLogo",className:"material-icons-outlined",children:"newspaper"}),"Meu Blog ",L.a]})},B=(n(63),function(e){var t=Object(i.useContext)(p),n=t.showModal,c=t.closeModal,a=t.user,o=t.profileLoggedUser,s=t.toolBarContent;if(s)return Object(v.jsx)("div",{className:"ToolBar",children:s});var r=window.location.pathname;return console.log("location ===> ",r),Object(v.jsxs)("div",{className:"ToolBar",children:[Object(v.jsxs)("div",{className:"user-greetings",children:[Object(v.jsx)("button",{className:"button-back-toolbar button_icon ".concat(a.validToken&&"/blog-jorlane/"!==r?"active":""),onClick:function(){window.history.back()},children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"arrow_back"})}),Object(v.jsx)("div",{className:"user-name ".concat(a.validToken?"active":""),children:Object(v.jsxs)("span",{children:["Ol\xe1 ",a.name,"! ",Object(v.jsx)(b.b,{className:"text-link-exit",to:"/blog-jorlane/logout",children:"(Sair)"})]})}),Object(v.jsx)("div",{className:"no-user-name ".concat(a.validToken?"":"active"),children:Object(v.jsx)(b.b,{to:"/blog-jorlane/login",children:"Entrar"})})]}),Object(v.jsxs)("div",{className:"toolbar-buttons",children:[Object(v.jsx)("button",{id:"btn-admin",className:"material-icons-outlined ".concat(a.isAdministrator?"active":""),onClick:function(e){return function(e){var t=e.pageX-300;t<0&&(t=10);var a={left:t+"px",width:"300px"},i=Object(v.jsxs)("ul",{id:"menu-admin",style:a,children:[Object(v.jsx)("li",{className:"menu-option",children:Object(v.jsx)(b.b,{to:"blog-jorlane/categories",onClick:c,children:"Categorias"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"blog-jorlane/",children:"Den\xfancias"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"blog-jorlane/",children:"Usu\xe1rios Bloqueados"})})]});n(i)}(e)},children:"settings"}),Object(v.jsx)("button",{id:"btn-notification",className:"material-icons-outlined",children:"notifications_none"}),Object(v.jsx)("button",{id:"btn-profile",children:Object(v.jsx)(b.b,{to:"/blog-jorlane/profile",onClick:c,children:o.id&&o.photo?Object(v.jsx)("img",{className:"tumb-profile",src:"".concat(u.IMAGE_URL_API,"/").concat(o.photo||u.IMAGE_PROFILE_DEFAULT),alt:""}):Object(v.jsx)("span",{className:"tumb-profile material-icons-outlined",children:" account_circle "})})})]})]})}),T=function(e){return Object(v.jsxs)("header",{className:"Header",children:[Object(v.jsxs)("div",{className:"header-title",children:[Object(v.jsx)(S,{}),Object(v.jsx)(P,{})]}),Object(v.jsx)(B,{})]})},R=(n(64),n(65),function(e){var t=e.item.category,n=e.item.children||[],c=y(t.initDate);var a="category_"+t.id;return Object(v.jsxs)("li",{className:"CategoryListItem",children:[Object(v.jsxs)("div",{className:e.position%2===0?"category-list-item-root pair":"category-list-item-root odd",children:[Object(v.jsx)("div",{className:"column-expand","show-icon":n.length>0?"yes":"no",onClick:function(e){return function(e){e.target.classList.toggle("column-expand-down");var t=e.target.parentElement.nextSibling;t&&t.classList.toggle("active")}(e)}}),Object(v.jsx)("div",{className:"column-category",onClick:function(){return e.handleClickListItem(t)},children:t.name}),Object(v.jsx)("div",{className:"column-date",onClick:function(){return e.handleClickListItem(t)},children:c}),Object(v.jsx)("div",{className:"column-action",id:"button-remove",onClick:function(){return e.handleRemoveListItem(t)},children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"delete"})})]}),Object(v.jsx)("div",{className:"category-children",children:n.map((function(t){return Object(v.jsxs)("div",{className:"category-list-item-child-header",children:[Object(v.jsx)("div",{className:"column-space-child",children:"_"}),Object(v.jsxs)("div",{className:"category-list-item-child",children:[Object(v.jsx)("div",{className:"column-category-child",onClick:function(){return e.handleClickListItem(t)},children:t.name}),Object(v.jsx)("div",{className:"column-date-child",onClick:function(){return e.handleClickListItem(t)},children:y(t.initDate)}),Object(v.jsx)("div",{className:"column-action",id:"button-remove",onClick:function(){return e.handleRemoveListItem(t)},children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"delete"})})]})]},"id_"+(n=t).id+"_child_of_"+n.categoryParent);var n}))})]},a)}),U=(n(66),n(67),function(e){var t=Object(i.useContext)(p),n=t.messageVisible,c=t.messageType,a=t.messageText;return Object(v.jsx)("div",{className:"Message",visible:n?"visible":"hidden",children:Object(v.jsx)("div",{className:"message-text",type:c,children:a})})}),D={name:"",categoryParent:null,initDate:null,endDate:null},F=function(e){var t=Object(i.useState)(e.category||D),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)(e.category.categoryParent||""),s=Object(d.a)(o,2),r=s[0],l=s[1];function u(){a(D),l(""),m(document.getElementById("select-category")),document.getElementById("input-name-category").focus()}function m(e){""===e.value?e.classList.contains("place-holder")||e.classList.add("place-holder"):e.classList.remove("place-holder")}return Object(v.jsxs)("div",{className:e.readOnly?"CategoryForm color-readonly":"CategoryForm color-updatable",children:[Object(v.jsxs)("div",{className:"header-form",children:[Object(v.jsx)("div",{className:"form-title",children:e.title||"Formul\xe1rio Categoria"}),Object(v.jsx)("button",{className:"btn-exit",onClick:e.close,children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"close"})})]}),Object(v.jsxs)("form",{className:"form",children:[Object(v.jsxs)("div",{className:"form-fields",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Nome da categoria"}),Object(v.jsx)("input",{id:"input-name-category",placeholder:"Nome da categoria...",type:"text",name:"name",autoComplete:"off",onChange:function(t){return function(t){"input-name-category"!==t.target.id||e.readOnly||a(Object(h.a)(Object(h.a)({},c),{},{name:t.target.value}))}(t)},value:c.name}),Object(v.jsx)("label",{htmlFor:"init-date",visible:e.readOnly?"visible":"hidden",children:"Data de in\xedcio"}),Object(v.jsx)("input",{id:"input-init-date-category",visible:e.readOnly?"visible":"hidden",type:"text",name:"init-date",readOnly:!0,value:y(c.initDate)}),Object(v.jsx)("label",{htmlFor:"categories",children:"Categoria Agrupadora"}),Object(v.jsxs)("select",{className:"select-parent-category place-holder",id:"select-category",name:"categories",onChange:function(t){return function(t){if(t){var n=t.target;m(n),e.readOnly||l(n.value)}}(t)},value:r,children:[Object(v.jsx)("option",{value:"",children:"(Sem categoria agrupadora)"}),e.categories.map((function(e){return null===e.category.categoryParent?Object(v.jsx)("option",{value:e.category.id,children:e.category.name},e.category.id):""}))]})]}),Object(v.jsxs)("div",{className:"buttons-form",visible:e.readOnly?"hidden":"visible",children:[Object(v.jsx)("span",{className:"btn-form btn-form-clear",onClick:u,children:"Limpar"}),Object(v.jsx)("span",{className:"btn-form btn-form-save",onClick:function(){if(e.saveCategory){var t=c;t.categoryParent=""===r?null:r,a(t),e.saveCategory(c),u()}},children:"Adicionar"})]}),Object(v.jsx)(U,{})]})]})},M=(n(68),function(e){return Object(v.jsxs)("div",{className:"Confirmation",children:[Object(v.jsxs)("div",{className:"header-confirmation",children:[Object(v.jsxs)("div",{className:"box-title",children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"help_outline"}),Object(v.jsx)("p",{className:"title-message",children:"Confirma\xe7\xe3o"})]}),Object(v.jsx)("button",{className:"btn-exit",onClick:e.close,children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"close"})})]}),Object(v.jsxs)("div",{className:"box-body-message",children:[Object(v.jsx)("div",{className:"message",children:e.message}),Object(v.jsxs)("div",{className:"buttons-confirmation",children:[Object(v.jsxs)("button",{className:"btn-confirmation btn-no color-no background-no",onClick:e.cancel,children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"close"}),"N\xe3o"]}),Object(v.jsxs)("button",{className:"btn-confirmation btn-yes color-yes background-yes",onClick:e.confirm,children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"done"}),"Sim"]})]})]})]})}),H="".concat(u.OPEN_API_URL,"/categories"),q=function(){return new Promise((function(e,t){j.a.get(H).then((function(n){var c=[],a=[],i=[];n.data.forEach((function(e){null!=e.categoryParent?a.push(e):(c.push({category:e,children:[]}),i.push(e.id))})),a.forEach((function(e){var n=i.indexOf(e.categoryParent);n>-1?c[n].children.push(e):t({error:"ERRO ====> Category parent ".concat(e.categoryParent," n\xe3o encontrada.")})})),e(c)})).catch((function(e){t({error:e.message})}))}))},K="".concat(u.API_URL,"/categories"),G=("".concat(u.OPEN_API_URL,"/categories"),function(e){var t=Object(i.useState)([]),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)([]),s=Object(d.a)(o,2),r=s[0],l=s[1],u=Object(i.useState)(e.refresh||!0),m=Object(d.a)(u,1)[0],b=Object(i.useContext)(p),h=b.showModal,f=b.closeModal,O=b.showMessage,g=b.user,x=b.setToolBarContent;Object(N.f)();function y(){window.history.back()}function I(){q().then((function(e){a(e),l(e)})).catch((function(e){return O("error",e.message)}))}function C(e){h(Object(v.jsx)(F,{title:"Consulta Categoria",close:_,readOnly:"true",category:e,categories:c}),"center")}function k(e){j.a.post(K,e,{headers:{Authorization:g.token}}).then((function(e){O("info","Registro inclu\xeddo com sucesso!"),I()})).catch((function(e){O("error",e.response.data.message)}))}function _(){f()}function E(e){var t='Tem certeza que deseja excluir a categoria "'+e.name+'"? ';h(Object(v.jsx)(M,{message:t,confirm:function(){return t=e.id,j.a.delete("".concat(K,"/").concat(t),{headers:{Authorization:g.token}}).then((function(e){O("info","Registro exclu\xeddo com sucesso!"),I()})).catch((function(e){O("error",e.response.data.message)})),void f();var t},close:function(){return f()},cancel:function(){return f()}}),"center")}return Object(i.useEffect)((function(){I(),x(Object(v.jsxs)("div",{className:"category_toolbar",children:[Object(v.jsx)("button",{className:"button-back button_icon",onClick:y,children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"arrow_back"})}),Object(v.jsx)("div",{children:" Cadastro de Categoria "})]}))}),[m,g.token]),Object(v.jsxs)("div",{className:"CategoryList",children:[Object(v.jsxs)("div",{className:"list-category",children:[Object(v.jsxs)("div",{className:"list-title",children:[Object(v.jsx)("div",{className:"title-expand",children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"expand_more"})}),Object(v.jsx)("div",{className:"title-category",children:"Categoria"}),Object(v.jsx)("div",{className:"title-date",children:"In\xedcio"}),Object(v.jsx)("div",{className:"title-action",children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"delete"})})]}),Object(v.jsx)("ul",{children:r.map((function(e,t){return Object(v.jsx)(R,{listItemKey:t.toString(),item:e,position:t,handleClickListItem:C,handleRemoveListItem:E},e.category.id.toString())}))})]}),Object(v.jsx)("button",{id:"button-add-category",className:"btn-add-item material-icons-outlined",onClick:function(){h(Object(v.jsx)(F,{title:"Adicionar Categoria",close:_,saveCategory:k,category:{},categories:c}),"center")},children:"add_circle_outline"})]})}),z=n(14),V=n(13),J=(n(69),n(70)),Q="".concat(u.API_URL,"/users"),W="".concat(u.OPEN_API_URL,"/users/profile/image"),Y=!1,X=function(e){var t=Object(i.useContext)(p),n=t.profileLoggedUser,c=t.user,a=t.showMessage,o=t.updateLoggedUser,s=t.setToolBarContent,r=t.setFooterContent,l=t.showModal,m=t.closeModal,b=Object(i.useState)(n),f=Object(d.a)(b,2),O=f[0],g=f[1],x=Object(i.useRef)(null),I=Object(i.useState)(!0),C=Object(d.a)(I,1)[0],k=Object(N.f)();function _(e,t){Y=!0,g(Object(h.a)(Object(h.a)({},O),{},Object(V.a)({},t,e.target.value)))}function E(e,t){for(var n=document.getElementsByClassName("tab_icon_title"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById(e).classList.add("active"),t&&k(t)}function A(){var e=O;if(e.name=document.getElementById("input-name").value,e.bioDescription=document.getElementById("input-biodescription").value,e.allowEmailNotification=document.getElementById("input-allowemail").checked,e.frequencyEmailNotification=document.getElementById("input-frequency").value,x.current.files.length>=1){var t,n=new J,i=Object(z.a)(x.current.files);try{for(i.s();!(t=i.n()).done;){var s=t.value;n.append("file",s)}}catch(l){i.e(l)}finally{i.f()}j.a.post(W,n).then((function(t){e.photo=t.data.filename,r(e)}))}else r(e);function r(e){j.a.put(Q,e,{headers:{Authorization:c.token}}).then((function(t){var n={userProfile:e,token:c.token,validToken:c.validToken};o(n),a("info",t.data.message)})).catch((function(e){a("error",e.response.data.message)}))}Y=!1}function w(){if(Y){l(Object(v.jsx)(M,{message:"Tem certeza que deseja sair da tela e cancelar as altera\xe7\xf5es efetuadas? ",confirm:function(){k("/blog-jorlane/"),m()},close:function(){return m()},cancel:function(){return m()}}),"center")}else k("/blog-jorlane/")}function P(){Y=!0;var e=document.getElementById("select-file-image");e.click(),e.addEventListener("change",(function(){if(e.files.length>0){var t=new FileReader;t.onloadend=function(e){document.getElementById("image-profile").src=e.target.result},t.readAsDataURL(e.files[0])}}))}return Object(i.useEffect)((function(){s(Object(v.jsxs)("div",{className:"profile_toolbar",children:[Object(v.jsxs)("div",{id:"tab_profile",className:"tab_icon_title active",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(){return E("tab_profile","/blog-jorlane/profile")},children:"person"}),Object(v.jsx)("span",{children:"Perfil"})]}),Object(v.jsxs)("div",{id:"tab_blog",className:"tab_icon_title",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(){return E("tab_blog","/blog-jorlane/blogpreferences")},children:"menu_book"}),Object(v.jsx)("span",{children:"Blog"})]}),Object(v.jsxs)("div",{id:"tab_indicators",className:"tab_icon_title",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(){return E("tab_indicators","/blog-jorlane/indicators")},children:"bar_chart"}),Object(v.jsx)("span",{children:"Indicadores"})]}),Object(v.jsxs)("div",{id:"tab_my_articles",className:"tab_icon_title",onClick:function(){return E("tab_my_articles","/blog-jorlane/myarticles")},children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",children:"library_books"}),Object(v.jsx)("span",{children:"Artigos"})]}),Object(v.jsxs)("div",{id:"tab_connections",className:"tab_icon_title",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(){return E("tab_connections","/blog-jorlane/connections")},children:"people"}),Object(v.jsx)("span",{children:"Conex\xf5es"})]})]})),r(Object(v.jsxs)("div",{className:"profile_footer",children:[Object(v.jsxs)("div",{id:"btn-cancel-update",className:"button-link",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:w,children:"close"}),Object(v.jsx)("span",{children:"Cancelar"})]}),Object(v.jsxs)("div",{id:"btn-save-profile",className:"button-link",onClick:A,children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",children:"done"}),Object(v.jsx)("span",{children:"Salvar altera\xe7\xf5es"})]})]})),Y=!1}),[C]),Object(v.jsx)("div",{className:"Profile",children:Object(v.jsxs)("div",{className:"profile-content",children:[Object(v.jsxs)("form",{action:"",children:[Object(v.jsxs)("div",{className:"div-info-profile",children:[Object(v.jsx)("p",{children:O.email}),Object(v.jsxs)("p",{children:["Inscrito desde: ",y(O.firstAccess)]})]}),Object(v.jsxs)("div",{className:"div-img-profile",children:[Object(v.jsx)("img",{id:"image-profile",src:"".concat(u.IMAGE_URL_API,"/").concat(O.photo||u.IMAGE_PROFILE_DEFAULT),alt:"Imagem de perfil",onClick:P}),Object(v.jsx)("span",{id:"btn-img-profile",className:"material-icons-outlined",onClick:P,children:"photo_camera"})]}),Object(v.jsx)("input",{id:"select-file-image",type:"file",accept:"image/png, image/jpeg, image/jpg",ref:x}),Object(v.jsx)("label",{htmlFor:"",children:"Nome:"}),Object(v.jsx)("input",{id:"input-name",type:"text",maxLength:"20",onChange:function(e){return _(e,"name")},value:O.name}),Object(v.jsx)("label",{htmlFor:"",children:"Descri\xe7\xe3o:"}),Object(v.jsx)("textarea",{id:"input-biodescription",type:"text",rows:"3",onChange:function(e){return _(e,"bioDescription")},value:O.bioDescription}),Object(v.jsxs)("div",{className:"div-field-profile",children:[Object(v.jsx)("label",{htmlFor:"",children:"Notifica\xe7\xf5es por email?"}),Object(v.jsx)("input",{id:"input-allowemail",className:"check-box",type:"checkbox",onChange:function(e){return function(e,t,n){Y=!0,g(Object(h.a)(Object(h.a)({},O),{},Object(V.a)({},t,e.target.checked)))}(e,"allowEmailNotification")},checked:O.allowEmailNotification}),Object(v.jsx)("div",{className:"custom-select",children:Object(v.jsxs)("select",{id:"input-frequency",className:"frequency-select ".concat(O.allowEmailNotification?"active":""),onChange:function(e){return _(e,"frequencyEmailNotification")},value:O.frequencyEmailNotification,children:[Object(v.jsx)("option",{value:"SEMANAL",children:"Semanal"}),Object(v.jsx)("option",{value:"QUINZENAL",children:"Quinzenal"}),Object(v.jsx)("option",{value:"MENSAL",children:"Mensal"})]})})]})]}),Object(v.jsx)("a",{href:"#",id:"btn-remove-profile",children:"Quero encerrar minha conta"})]})})},Z=(n(71),function(e){var t=Object(i.useContext)(p).setFooterContent;return Object(i.useEffect)((function(){t(null)})),Object(v.jsxs)("div",{className:"BlogPreferences",children:[Object(v.jsx)("h2",{children:"Prefer\xeancias do blog "}),Object(v.jsx)("h3",{children:"(Em desenvolvimento)"})]})}),$=(n(72),{email:"",password:""}),ee="".concat(u.OPEN_API_URL,"/users/login"),te=function(e){var t=Object(i.useState)($),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useContext)(p).updateLoggedUser,s=Object(i.useState)(""),r=Object(d.a)(s,2),l=r[0],u=r[1],m=Object(N.f)();function f(e,t){a(Object(h.a)(Object(h.a)({},c),{},Object(V.a)({},t,e.target.value)))}function O(e){j.a.post(ee,c).then((function(e){var t={userProfile:e.data.userProfile,token:e.data.token,validToken:e.data.valid};o(t),m("/blog-jorlane/",{replace:!0})})).catch((function(e){var t,n;t=e.response.data.message,n="user-email",u(t),document.getElementById(n).focus()})),e.preventDefault()}return Object(v.jsxs)("div",{className:"Login",children:[Object(v.jsxs)("form",{className:"form-login",children:[Object(v.jsx)("label",{htmlFor:"user-email",children:"Email:"}),Object(v.jsx)("input",{type:"email",id:"user-email",name:"user-email",value:c.email,onChange:function(e){return f(e,"email")}}),Object(v.jsx)("label",{htmlFor:"user-password",children:"Senha:"}),Object(v.jsx)("input",{type:"password",id:"user-password",name:"user-password",value:c.password,onChange:function(e){return f(e,"password")}}),Object(v.jsx)("div",{id:"message-alert",children:l}),Object(v.jsx)("button",{className:"btn-login",onClick:function(e){return O(e)},children:"Entrar"})]}),Object(v.jsxs)("div",{className:"link-new-account",children:[Object(v.jsx)(b.b,{to:"/blog-jorlane/signup",children:"Clique aqui"})," para criar uma conta!"]})]})},ne=(n(73),{name:"",email:"",password:"",confirmPassword:""}),ce="".concat(u.OPEN_API_URL,"/users/signup"),ae=function(e){var t=Object(i.useState)(ne),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useContext)(p).updateLoggedUser,s=Object(i.useState)(""),r=Object(d.a)(s,2),l=r[0],u=r[1],m=Object(N.f)();function b(e,t){a(Object(h.a)(Object(h.a)({},c),{},Object(V.a)({},t,e.target.value))),""!==l&&u("")}function f(e){j.a.post(ce,c).then((function(e){var t={userProfile:e.data.userProfile,token:e.data.token,validToken:e.data.valid};o(t),m("/",{replace:!0})})).catch((function(e){var t,n,c="user-email";"password"===e.response.data.column?c="user-password":"name"===e.response.data.column&&(c="user-name"),t=e.response.data.message,n=c,u(t),document.getElementById(n).focus()})),e.preventDefault()}return Object(v.jsx)("div",{className:"Signup",children:Object(v.jsxs)("form",{className:"form-signup",children:[Object(v.jsx)("label",{htmlFor:"user-name",children:"Nome:"}),Object(v.jsx)("input",{type:"name",id:"user-name",name:"user-name",value:c.name,onChange:function(e){return b(e,"name")}}),Object(v.jsx)("label",{htmlFor:"user-email",children:"Email:"}),Object(v.jsx)("input",{type:"email",id:"user-email",name:"user-email",value:c.email,onChange:function(e){return b(e,"email")}}),Object(v.jsx)("label",{htmlFor:"user-password",children:"Senha:"}),Object(v.jsx)("input",{type:"password",id:"user-password",name:"user-password",value:c.password,onChange:function(e){return b(e,"password")}}),Object(v.jsx)("label",{htmlFor:"user-password",children:"Confirma\xe7\xe3o de senha:"}),Object(v.jsx)("input",{type:"password",id:"confirm-password",name:"confirm-password",value:c.confirmPassword,onChange:function(e){return b(e,"confirmPassword")}}),Object(v.jsx)("div",{id:"message-alert",children:l}),Object(v.jsx)("button",{className:"btn-signup",onClick:function(e){return f(e)},children:"Registrar"})]})})},ie=(n(74),function(e){var t=Object(i.useState)(f),n=Object(d.a)(t,1)[0],c=Object(i.useContext)(p).updateLoggedUser,a=Object(N.f)();return Object(i.useEffect)((function(){c({userProfile:f.profileLoggedUser,token:"",validToken:!1}),a("/blog-jorlane",{replace:!0})}),[n,a,c]),Object(v.jsx)("div",{className:"Logout"})}),oe=(n(75),n(76),function(e){return Object(v.jsxs)("div",{className:"ToolbarArticle",id:"toolbar-".concat(e.itemId),children:[e.isRemoveButtonVisible&&Object(v.jsx)("button",{className:"button-remove-section material-icons-outlined",onClick:function(){return e.handleRemoveSection(e.itemId)},children:"remove_circle_outline"}),Object(v.jsx)("button",{className:"button-add-section material-icons-outlined",onClick:function(){document.getElementById("btn-section-".concat(e.itemId)).classList.toggle("active")},children:"add_circle_outline"}),Object(v.jsxs)("div",{className:"buttons-section",id:"btn-section-".concat(e.itemId),children:[Object(v.jsx)("button",{title:"Subt\xedtulo",className:"btn-toolbar btn-subtitle material-icons-outlined",onClick:function(){return e.handleAddSection("caption",e.divParent)},children:"short_text"}),Object(v.jsx)("button",{title:"Imagem",className:"btn-toolbar btn-picture material-icons-outlined",onClick:function(){return e.handleAddSection("image",e.divParent)},children:"image"}),Object(v.jsx)("button",{title:"Par\xe1grafo",className:"btn-toolbar btn-paragraph material-icons-outlined",onClick:function(){return e.handleAddSection("paragraph",e.divParent)},children:"notes"}),Object(v.jsx)("button",{title:"Lista",className:"btn-toolbar btn-list material-icons-outlined",onClick:function(){return e.handleAddSection("list",e.divParent)},children:"list"}),Object(v.jsx)("button",{title:"Cita\xe7\xe3o",className:"btn-toolbar btn-quote material-icons-outlined",onClick:function(){return e.handleAddSection("quote",e.divParent)},children:"format_quote"}),Object(v.jsx)("button",{title:"C\xf3digo-fonte",className:"btn-toolbar btn-code material-icons-outlined",onClick:function(){return e.handleAddSection("code",e.divParent)},children:"code"})]})]})}),se=(n(77),function(e){var t=Object(i.useState)(e.initText||""),n=Object(d.a)(t,2),c=n[0],a=n[1];function o(){var t=document.getElementById(e.itemId);if(t)for(;t.scrollHeight>t.offsetHeight;)console.log("e.target.scrollHeight => ",t.scrollHeight),console.log("e.target.offsetHeight => ",t.offsetHeight),t.rows++}return Object(v.jsxs)("div",{className:"Article-Section",sectiontype:"Paragraph",value:c,id:"div_".concat(e.itemId),children:[Object(v.jsx)("textarea",{className:"input-paragraph",id:e.itemId,type:"text",placeholder:"par\xe1grafo...",multiple:!0,onKeyUp:function(t){return e.onKeyUp(t,e.divParent)},onKeyPress:function(e){e.key&&"ENTER"===e.key.toUpperCase()&&e.preventDefault()},onChange:function(e){o(),a(e.target.value)},onFocus:function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.paragraph_id)).classList.add("active"),o()},value:c}),Object(v.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.paragraph_id),children:e.menu})]})}),re=(n(78),function(e){var t=Object(i.useState)(e.initTitle),n=Object(d.a)(t,2),c=n[0],a=n[1];function o(t){a(t.target.value),function(){var t=document.getElementById(e.itemId);if(t)for(;t.scrollHeight>t.offsetHeight;)console.log("e.target.scrollHeight => ",t.scrollHeight),console.log("e.target.offsetHeight => ",t.offsetHeight),t.rows++}()}return Object(v.jsxs)("div",{className:"Title",children:[Object(v.jsx)("input",{className:"input-title",id:e.itemId,type:"text",placeholder:"T\xedtulo...",value:c,maxLength:"80",autoComplete:"off",rows:"2",onKeyUp:function(t){return e.handleKeyUp(t,e.divParent)},onKeyDown:e.handleKeyDown,onKeyPress:e.handleKeyPress,onFocus:function(t){return function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.itemId)).classList.add("active")}()},onChange:function(e){return o(e)}}),Object(v.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.itemId),children:e.menu})]})}),le=(n(79),function(e){var t=Object(i.useState)(e.initText||""),n=Object(d.a)(t,2),c=n[0],a=n[1];return Object(v.jsxs)("div",{className:"Article-Section",sectiontype:"Caption",value:c,id:"div_".concat(e.itemId),children:[Object(v.jsx)("input",{className:"input-caption",id:e.itemId,type:"text",placeholder:"Subt\xedtulo...",multiple:!1,onKeyUp:function(t){return e.onKeyUp(t,e.divParent)},onKeyPress:function(e){e.key&&"ENTER"===e.key.toUpperCase()&&e.preventDefault()},onChange:function(e){a(e.target.value)},onFocus:function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.caption_id)).classList.add("active")},value:c}),Object(v.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.caption_id),children:e.menu})]})}),de=(n(80),"".concat(u.OPEN_API_URL,"/sectionInArticle/image/")),ue=function(e){var t=Object(i.useState)(e.initText||""),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)(""),s=Object(d.a)(o,2),r=s[0],l=s[1],m=Object(i.useRef)(null),b=Object(i.useState)(!0),h=Object(d.a)(b,1)[0],f=Object(i.useState)(null),O=Object(d.a)(f,2),g=O[0],p=O[1];function x(){for(var t=document.getElementsByClassName("item-toolbar"),n=0;n<t.length;n++)t[n].classList.remove("active");document.getElementById("item-toolbar-".concat(e.image_id)).classList.add("active")}return Object(i.useEffect)((function(){e.src&&""!=e.src?(document.getElementById("image-container-".concat(e.itemId)).classList.add("active"),l("".concat(u.IMAGE_URL_API,"/article/").concat(e.src))):(l(""),function(t){var n=document.getElementById("select-image-".concat(t));n.click(),n.addEventListener("change",(function(){if(n.files.length>0){var c=new FileReader;c.onloadend=function(n){var c=document.getElementById(t);c.src=n.target.result,c.click(),document.getElementById("image-container-".concat(e.itemId)).classList.add("active")},c.readAsDataURL(n.files[0])}}))}(e.itemId))}),[h]),Object(v.jsxs)("div",{className:"Article-Section",sectiontype:"Image",filename:e.src,value:c,buttonupload:"button-upload-".concat(e.itemId),id:"div_".concat(e.itemId),children:[Object(v.jsx)("div",{className:"image-div",children:Object(v.jsxs)("div",{className:"image-container",id:"image-container-".concat(e.itemId),children:[Object(v.jsx)("img",{className:"input-image",id:e.itemId,src:r,alt:c,onClick:function(e){if(x(),!g&&m.current.files.length>=1){var t,n=new FormData,c=Object(z.a)(m.current.files);try{for(c.s();!(t=c.n()).done;){var a=t.value;n.append("file",a)}}catch(i){c.e(i)}finally{c.f()}p(n)}}}),Object(v.jsx)("input",{className:"image-subtitle",type:"text",placeholder:"Legenda...",value:c,onChange:function(e){a(e.target.value)},onFocus:x})]})}),Object(v.jsx)("form",{action:"",children:Object(v.jsx)("input",{className:"invisible-select-image",id:"select-image-".concat(e.itemId),type:"file",accept:"image/png, image/jpeg",ref:m})}),Object(v.jsx)("button",{className:"button-upload-image",id:"button-upload-".concat(e.itemId),onClick:function(){if(console.log("vai fazer upload da imagem"),m.current.files.length>=1){var t,n=new FormData,a=Object(z.a)(m.current.files);try{for(a.s();!(t=a.n()).done;){var i=t.value;n.append("file",i)}}catch(o){a.e(o)}finally{a.f()}n&&j.a.post(de,n).then((function(t){e.saveImageFileName&&e.saveImageFileName("div_".concat(e.itemId),t.data.filename,c)}))}else console.log("vai tentar com src ==> ",e.src),e.src&&e.saveImageFileName("div_".concat(e.itemId),e.src,c)},children:"salvar imagem"}),Object(v.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.image_id),children:e.menu})]})},me=(n(81),1),je=function(e){var t=Object(i.useState)(e.initList||[]),n=Object(d.a)(t,1)[0],c=Object(i.useState)(!0),a=Object(d.a)(c,1)[0];function o(t){me++;var n=document.createElement("li"),c="section_".concat(e.itemId,"_li_").concat(me);n.id=c,document.getElementById(e.itemId).appendChild(n);var a=document.createElement("input");a.type="text",a.placeholder="Novo item...",a.value=t&&""!==t?t:"",a.classList.add("input-list-item"),a.classList.add("input-list-item-".concat(e.itemId)),a.addEventListener("keypress",r,!1),document.getElementById("section_".concat(e.itemId,"_li_").concat(me)).appendChild(a),a.focus()}function s(){for(var t=document.getElementsByClassName("input-list-item-".concat(e.itemId)),n=[],c=0;c<t.length;c++)n.push(t[c].value);return n}function r(t){t.key&&"ENTER"===t.key.toUpperCase()&&(""===t.target.value?(t.preventDefault(),e.onKeyUp(t,e.divParent)):o())}return Object(i.useEffect)((function(){if(e.initList)for(var t=0;t<e.initList.length;t++)o(e.initList[t]);else o();e.setCallbackGetList&&e.setCallbackGetList(e.itemId,s)}),[a]),Object(v.jsxs)("div",{className:"Article-Section",itemid:e.itemId,sectiontype:"List",value:n,id:"div_".concat(e.itemId),children:[Object(v.jsx)("ul",{className:"input-list",id:e.itemId,type:"text",onKeyDown:function(e){!function(e){e.target.scrollHeight>e.target.offsetHeight&&(console.log("e.target.scrollHeight => ",e.target.scrollHeight),console.log("e.target.offsetHeight => ",e.target.offsetHeight),e.target.rows++)}(e)},onChange:function(e){},onClick:function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.list_id)).classList.add("active")}}),Object(v.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.list_id),children:e.menu})]})},be=(n(82),function(e){var t=Object(i.useState)(e.initText||""),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)(e.complement||""),s=Object(d.a)(o,2),r=s[0],l=s[1];function u(){var t=document.getElementById(e.itemId);if(t)for(;t.scrollHeight>t.offsetHeight;)console.log("e.target.scrollHeight => ",t.scrollHeight),console.log("e.target.offsetHeight => ",t.offsetHeight),t.rows++}return Object(v.jsxs)("div",{className:"Article-Section",sectiontype:"Quote",value:c,author:r,id:"div_".concat(e.itemId),children:[Object(v.jsx)("div",{className:"div-quote-area",children:Object(v.jsxs)("div",{className:"group-quote-items",children:[Object(v.jsx)("span",{className:"quotation-mark",children:'"'}),Object(v.jsx)("textarea",{className:"input-quote",id:e.itemId,type:"text",placeholder:"Cita\xe7\xe3o...",multiple:!0,onKeyUp:function(t){return e.onKeyUp(t,e.divParent)},onKeyPress:function(e){e.key&&"ENTER"===e.key.toUpperCase()&&e.preventDefault()},onChange:function(e){a(e.target.value),u()},onFocus:function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.quote_id)).classList.add("active"),u()},value:c}),Object(v.jsx)("span",{className:"quotation-mark rigth",children:'"'}),Object(v.jsx)("input",{className:"quote-author",type:"text",placeholder:"Autor...",value:r,onChange:function(e){l(e.target.value)}})]})}),Object(v.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.quote_id),children:e.menu})]})}),he=(n(83),function(e){var t=Object(i.useState)(e.initText||""),n=Object(d.a)(t,2),c=n[0],a=n[1];function o(){var t=document.getElementById(e.itemId);if(t)for(;t.scrollHeight>t.offsetHeight;)console.log("e.target.scrollHeight => ",t.scrollHeight),console.log("e.target.offsetHeight => ",t.offsetHeight),t.rows++}return Object(v.jsxs)("div",{className:"Article-Section",sectiontype:"CODE",value:c,id:"div_".concat(e.itemId),children:[Object(v.jsx)("div",{className:"div-source-area",children:Object(v.jsx)("textarea",{className:"input-sourcecode",id:e.itemId,type:"text",placeholder:"C\xf3digo fonte...",multiple:!0,onKeyPress:function(e){},onChange:function(e){a(e.target.value),o()},onFocus:function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.sourcecode_id)).classList.add("active"),o()},value:c})}),Object(v.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.sourcecode_id),children:e.menu})]})}),fe="".concat(u.API_URL,"/articles"),Oe="".concat(u.API_URL,"/sectionInArticle"),ge=0,ve={id:null,writerId:null,title:"",categoryId:1,htmlFilePath:"sem html",route:"sem rota"},pe=Object(h.a)({},ve),xe=[],Ne=[],ye=[],Ie=function(e){var t=Object(i.useContext)(p),n=t.setFooterContent,c=t.user,o=t.profileLoggedUser,s=t.showMessage,u=(t.setToolBarContent,Object(i.useState)([])),m=Object(d.a)(u,2),f=m[0],O=m[1],g=Object(i.useState)(!0),x=Object(d.a)(g,1)[0];function N(e){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(fe,"/").concat(t),{headers:{Authorization:c.token}}).then((function(e){pe={id:e.data.id,writerId:e.data.writerId,title:e.data.title,categoryId:e.data.categoryId,status:e.data.status,statusDate:e.data.statusDate,htmlFilePath:e.data.htmlFilePath,route:e.data.route},e.data.sectionsinarticles.map((function(e){A(e.sectionId.toUpperCase(),null,e)}))})).catch((function(e){console.log("error ====> ",e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){var t=document.getElementById("title");t&&(pe.title=t.getAttribute("value"));var n=e||pe.status;"RETIRADO"===pe.status&&(pe.status="RASCUNHO"),pe.id?j.a.put(fe,pe,{headers:{Authorization:c.token}}).then((function(e){"RETIRADO"===n?"PUBLICADO"===pe.status?s("info","Artigo republicado sem altera\xe7\xe3o!"):s("info","Artigo salvo como rascunho!"):(C(pe.id),s("info","Artigo salvo com sucesso!")),Ne&&Ne.length>0&&j.a.post("".concat(Oe,"/images"),Ne,{headers:{Authorization:c.token}}).then((function(e){Ne=[]})).catch((function(e){s("error","Ocorreu um erro. Contate o administrador!")}))})).catch((function(e){s("error","Erro ao salvar artigo: Contate administrador!"),console.log("Erro: ",e.response.data.message)})):(pe.writerId=o.id,j.a.post(fe,pe,{headers:{Authorization:c.token}}).then((function(e){pe.id=e.data.id,C(e.data.id),s("info","Artigo salvo com sucesso!")})).catch((function(e){s("error","Ocorreu um erro. Contate o Administrador!"),console.log("Erro: ",e.response.data.message)})))}function C(e){xe=[],j.a.delete("".concat(fe,"/sections/").concat(e),{headers:{Authorization:c.token}}).then((function(t){!function(e){for(var t=document.getElementsByClassName("Article-Section"),n=0;n<t.length;n++){var a=t[n],i=a.getAttribute("sectiontype").toUpperCase(),o=n+1;if("IMAGE"===i)k(a,e,o);else{var r=a.getAttribute("value"),l="";if("LIST"===i)for(var d=a.getAttribute("itemid"),u=0;u<ye.length;u++){var m=ye[u];m.itemId===d&&(r=m.getListFunction().join("#!#"))}else"QUOTE"===i&&(l=a.getAttribute("author"));var b={articleId:e,sectionId:i,text:r,complement:l,sequence:o};j.a.post(Oe,b,{headers:{Authorization:c.token}}).then((function(e){console.log("SectionInArticle salvo com sucesso.")})).catch((function(e){console.log("Error => ",e.response.data.message),s("error","Ocorreu um erro. Contate o administrador!")}))}}}(e)})).catch((function(e){console.log("Ocorreu um erro ao salvar o artigo. Contate o administrador!",e)}))}function k(e,t,n){var c=e.getAttribute("id"),a=e.getAttribute("buttonupload"),i=document.getElementById(a),o={sectionId:c,articleId:t,sequence:n};xe.push(o),i.click()}function _(e,t,n){for(var a=0;a<xe.length;a++)if(xe[a].sectionId===e){var i={articleId:xe[a].articleId,sectionId:"IMAGE",text:n,imagePath:t,sequence:xe[a].sequence};j.a.post(Oe,i,{headers:{Authorization:c.token}}).then((function(e){console.log("SectionInArticle salvo com sucesso. ")})).catch((function(e){s("error","Ocorreu um erro. Contate o administrador!")}))}}function E(){var e=document.getElementById("title");if(e&&(pe.title=e.getAttribute("value")),pe.title&&""!==pe.title){var t=pe.status;pe.status="PUBLICADO",I(t)}else{s("error","Por favor, informe um t\xedtulo para o artigo!"),document.getElementById("title").focus()}}function A(e,t,n){switch(e.toUpperCase()){case"PARAGRAPH":L(t,n);break;case"CAPTION":!function(e,t){var n=P(e,t),c=n.divItem,i=n.sequenceId,o=n.itemId,s=n.initText;a.a.render(Object(v.jsx)(le,{caption_id:i,itemId:o,divParent:c.id,onKeyUp:B,initText:s,menu:Object(v.jsx)(oe,{id:"nav-add-section",itemId:o,handleAddSection:A,handleRemoveSection:w,isRemoveButtonVisible:!0,divParent:c.id})}),c),document.getElementById(o).focus(),c.id}(t,n);break;case"IMAGE":!function(e,t){var n=P(e,t),c=n.divItem,i=n.sequenceId,o=n.itemId,s=n.initText,r=n.imagePath;a.a.render(Object(v.jsx)(ue,{image_id:i,itemId:o,divParent:c.id,initText:s,src:r,saveImageFileName:_,menu:Object(v.jsx)(oe,{id:"nav-add-section",itemId:o,handleAddSection:A,handleRemoveSection:w,isRemoveButtonVisible:!0,divParent:c.id})}),c),c.id}(t,n);break;case"LIST":!function(e,t){var n=P(e,t),c=n.divItem,i=n.sequenceId,o=n.itemId,s=n.initText.split("#!#");a.a.render(Object(v.jsx)(je,{paragraph_id:i,itemId:o,divParent:c.id,onKeyUp:B,initList:s,setCallbackGetList:S,menu:Object(v.jsx)(oe,{id:"nav-add-section",itemId:o,handleAddSection:A,handleRemoveSection:w,isRemoveButtonVisible:!0,divParent:c.id})}),c),document.getElementById(o).click(),c.id}(t,n);break;case"QUOTE":!function(e,t){var n=P(e,t),c=n.divItem,i=n.sequenceId,o=n.itemId,s=n.initText,r=n.complement;a.a.render(Object(v.jsx)(be,{quote_id:i,itemId:o,divParent:c.id,onKeyUp:B,initText:s,complement:r,menu:Object(v.jsx)(oe,{id:"nav-add-section",itemId:o,handleAddSection:A,handleRemoveSection:w,isRemoveButtonVisible:!0,divParent:c.id})}),c),document.getElementById(o).focus(),c.id}(t,n);break;case"CODE":!function(e,t){var n=P(e,t),c=n.divItem,i=n.sequenceId,o=n.itemId,s=n.initText;a.a.render(Object(v.jsx)(he,{sourcecode_id:i,itemId:o,divParent:c.id,onKeyUp:B,initText:s,menu:Object(v.jsx)(oe,{id:"nav-add-section",itemId:o,handleAddSection:A,handleRemoveSection:w,isRemoveButtonVisible:!0,divParent:c.id})}),c),document.getElementById(o).focus(),c.id}(t,n)}}function w(e){var t=document.getElementById("div_"+e),n=t.getAttribute("sectiontype");if(n&&"IMAGE"===n.toUpperCase()){var c=t.getAttribute("filename");c&&""!=c&&Ne.push(c)}t.remove()}function P(e,t){var n="",c="",a="";t&&(n=t.text||"",c=t.complement||"",a=t.imagePath||"");var i=document.getElementById("article-body");ge++;var o=document.createElement("div"),s="section_".concat(ge);if(o.id="div_"+ge,e)if("div-title"===e){var r=i.firstElementChild;r?i.insertBefore(o,r):i.appendChild(o)}else{var l=document.getElementById(e);i.insertBefore(o,l.nextSibling)}else i.appendChild(o);return{divItem:o,sequenceId:ge,itemId:s,initText:n,complement:c,imagePath:a}}function L(e,t){var n=P(e,t),c=n.divItem,i=n.sequenceId,o=n.itemId,s=n.initText;return a.a.render(Object(v.jsx)(se,{paragraph_id:i,itemId:o,divParent:c.id,onKeyUp:B,initText:s,menu:Object(v.jsx)(oe,{id:"nav-add-section",itemId:o,handleAddSection:A,handleRemoveSection:w,isRemoveButtonVisible:!0,divParent:c.id})}),c),document.getElementById(o).focus(),c.id}function S(e,t){var n={itemId:e,getListFunction:t};ye.push(n)}function B(e,t){e.key&&"ENTER"===e.key.toUpperCase()&&L(t)}function T(e){e.target.scrollHeight>e.target.offsetHeight&&e.target.rows++}function R(e){e.key&&"ENTER"===e.key.toUpperCase()&&e.preventDefault()}function U(e){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(r.a.mark((function e(t){var n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("div-title"),c="title",e.next=4,a.a.render(Object(v.jsx)(re,{id:"input-title",handleKeyUp:B,handleKeyDow:T,handleKeyPress:R,itemId:c,initTitle:t||"",divParent:"div-title",menu:Object(v.jsx)(oe,{id:"nav-add-section",itemId:c,handleAddSection:A,isRemoveButtonVisible:!1,divParent:"div-title"})}),n);case 4:return(i=document.getElementById(c))&&i.focus(),e.abrupt("return",n.id);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)(Object(l.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xe=[],ye=[],pe=Object(h.a)({},ve),!(t=window.location.search)||""==t.trim()){e.next=9;break}if(null==(c=t.replace("?param=","").trim())||""==c){e.next=9;break}return e.next=9,N(c);case 9:U(pe.title),n(Object(v.jsxs)("div",{className:"profile_footer",children:[Object(v.jsxs)("div",{id:"btn-undo",className:"button-link",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",children:"undo"}),Object(v.jsx)("span",{children:"Desfazer"})]}),Object(v.jsxs)("div",{id:"btn-save-draft",className:"button-link",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:I,children:"save"}),Object(v.jsx)("span",{children:"Salvar"})]}),Object(v.jsxs)("div",{id:"btn-publish",className:"button-link",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:E,children:"public"}),Object(v.jsx)("span",{children:"Publicar"})]}),Object(v.jsxs)(b.b,{className:"button-link",to:"/blog-jorlane/myarticles",children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:" library_books "}),Object(v.jsx)("label",{children:"Meus Artigos"})]})]})),q().then((function(e){var t=[];e.forEach((function(e){t.push(e.category),e.children&&e.children.forEach((function(e){t.push(e)}))})),O(t)})).catch((function(e){return console.log("Erro ao ler categorias: ",e.message)}));case 12:case"end":return e.stop()}}),e)}))),[x]),Object(v.jsxs)("div",{className:"Article",children:[Object(v.jsxs)("div",{className:"div-category",children:[Object(v.jsx)("label",{htmlFor:"categories",children:" Categoria: "}),Object(v.jsx)("select",{id:"categories",className:"category-select",children:f.map((function(e){return e.categoryParent?Object(v.jsx)("option",{value:e.id,children:"+--".concat(e.name)},e.id):Object(v.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(v.jsx)("div",{id:"div-title"}),Object(v.jsx)("div",{id:"article-body"})]})},Ce=(n(84),n(85),function(e){var t=Object(i.useState)(function(){var t="";t="PUBLICADO"===e.article.status.toUpperCase()?"Publicado em "+y(e.article.statusDate):"RETIRADO"===e.article.status.toUpperCase()?"Retirado do ar em "+y(e.article.statusDate):"Criado em "+y(e.article.statusDate);return t}()),n=Object(d.a)(t,2),c=n[0];n[1];return Object(v.jsx)("div",{className:"",children:Object(v.jsxs)("div",{className:"MyArticlesItem",children:[Object(v.jsxs)("div",{className:"div-content-article",onClick:function(){return e.handleClickArticleItem(e.article.id)},children:[Object(v.jsx)("div",{className:"title",children:e.article.title}),Object(v.jsxs)("div",{className:"div-details",children:[Object(v.jsx)("div",{className:"status",children:c}),Object(v.jsx)("div",{className:"comments",children:"Sem coment\xe1rios"}),Object(v.jsx)("div",{className:"likes",children:"Sem curtidas"})]})]}),Object(v.jsx)("div",{className:"div-buttons",children:Object(v.jsx)("div",{className:"button-delete-article material-icons-outlined",onClick:function(){return e.deleteArticle(e.article)},children:"delete"})})]},"key_".concat(e.article.id))})}),ke="".concat(u.API_URL,"/articles"),_e=function(e){var t=Object(i.useState)([]),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)("RASCUNHO"),s=Object(d.a)(o,2),r=s[0],l=s[1],u=Object(i.useState)("Artigos no Rascunho"),m=Object(d.a)(u,2),b=m[0],h=m[1],f=Object(i.useState)(e.refresh||!0),O=Object(d.a)(f,1)[0],g=Object(i.useContext)(p),x=g.setFooterContent,y=g.setToolBarContent,I=g.user,C=g.profileLoggedUser,k=g.showMessage,E=g.showModal,A=g.closeModal,w=Object(N.f)();function P(e){w("/blog-jorlane/article?param=".concat(e))}function L(){var e="draftArticlesByWriter";switch(r){default:e="draftArticlesByWriter";break;case"PUBLICADO":e="publishedArticlesByWriter";break;case"RETIRADO":e="unpublisheArticlesByWriter"}j.a.get("".concat(ke,"/").concat(e,"/").concat(C.id),{headers:{Authorization:I.token}}).then((function(e){200===e.status?a(e.data):a([])})).catch((function(e){console.log("Erro ao selecionar articles => ",e)}))}function S(e){if("PUBLICADO"===e.status){var t='Tem certeza que deseja retirar do ar o artigo "'+e.title+'"? ';E(Object(v.jsx)(M,{message:t,confirm:function(){return function(e){var t=e;e.status="RETIRADO",j.a.put(ke,t,{headers:{Authorization:I.token}}).then((function(e){k("info","O Artigo foi retirado do ar com sucesso!")})).catch((function(e){k("error","Erro retirar o artigo do ar: Contate administrador!"),console.log("Erro: ",e.response.data.message)})),A()}(e)},close:function(){return A()},cancel:function(){return A()}}),"center")}else{var n='Tem certeza que deseja excluir o artigo "'+e.title+'"? ';E(Object(v.jsx)(M,{message:n,confirm:function(){return t=e.id,j.a.delete("".concat(ke,"/").concat(t),{headers:{Authorization:I.token}}).then((function(e){console.log("Depois de deletar o artigo: ",e),L()})).catch((function(e){console.log("Erro ao selecionar articles => ",e)})),void A();var t},close:function(){return A()},cancel:function(){return A()}}),"center")}}function B(e,t,n){if(l(e),h(t),n){for(var c=document.getElementsByClassName("button-link"),a=0;a<c.length;a++)c[a].classList.remove("active");document.getElementById(n).classList.add("active")}}return Object(i.useEffect)((function(){var e=window.location.search;e&&""!==e.trim()&&l(e.replace("?param=","").trim()),L(),y(null),x(Object(v.jsxs)("div",{className:"profile_footer",children:[Object(v.jsxs)("div",{id:"btn-list-draft",className:"button-link active",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(e){return B("RASCUNHO","Artigos no Rascunho","btn-list-draft")},children:"receipt"}),Object(v.jsx)("span",{children:"Rascunhos"})]}),Object(v.jsxs)("div",{id:"btn-list-published",className:"button-link",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(e){return B("PUBLICADO","Artigos Publicados","btn-list-published")},children:"task"}),Object(v.jsx)("span",{children:"Publicados"})]}),Object(v.jsxs)("div",{id:"btn-list-unpublished",className:"button-link",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(e){return B("RETIRADO","Artigos Retirados do Ar","btn-list-unpublished")},children:"unpublished"}),Object(v.jsx)("span",{children:"Retirados"})]})]}))}),[O,r]),Object(v.jsxs)("div",{className:"MyArticles",children:[Object(v.jsx)("div",{className:"tab-title",children:b}),"PUBLICADO"===r?Object(v.jsx)(_,{writerIdOnly:C.id}):Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"list-articles",children:c.map((function(e,t){return Object(v.jsx)(Ce,{article:e,handleClickArticleItem:P,deleteArticle:S},"item_".concat(t))}))}),Object(v.jsx)("button",{id:"button-add-article",className:"btn-add-item material-icons-outlined",onClick:function(){return w("/blog-jorlane/article")},children:"add_circle_outline"})]})]})},Ee=(n(86),function(e){return Object(v.jsx)("div",{className:"PageError",children:Object(v.jsx)("p",{children:e.message})})}),Ae=function(e){var t=Object(i.useContext)(p).user;return t.validToken?t.isAdministrator?e.element:Object(v.jsx)(Ee,{message:"Acesso n\xe3o permitido! Por favor, entre em contato com o administrador do sistema!"}):Object(v.jsx)(te,{})},we=function(e){return Object(i.useContext)(p).user.validToken?e.element:Object(v.jsx)(te,{})},Pe=(n(87),function(e){var t=Object(i.useContext)(p).setFooterContent;return Object(i.useEffect)((function(){t(null)})),Object(v.jsxs)("div",{className:"Indicators",children:[Object(v.jsx)("h2",{children:"Indicadores"}),Object(v.jsx)("h3",{children:"(Em desenvolvimento)"})]})}),Le=(n(88),function(e){return Object(v.jsxs)("div",{className:"Connections",children:[Object(v.jsx)("h2",{children:"Conex\xf5es"}),Object(v.jsx)("h3",{children:"(Em desenvolvimento)"})]})}),Se=(n(89),{id:null,writerId:null,title:"teste de titulo",categoryId:1,htmlFilePath:"sem html",route:"sem rota",writer:{id:"",name:"",bioDescription:"",photo:""},sectionsinarticles:[]}),Be="".concat(u.OPEN_API_URL,"/articles"),Te=function(e){var t=Object(i.useContext)(p),n=t.setFooterContent,c=t.profileLoggedUser,a=t.showModal,o=t.closeModal,s=t.user,m=t.showMessage,b=Object(i.useState)(Se),h=Object(d.a)(b,2),f=h[0],O=h[1],g=Object(i.useState)(""),x=Object(d.a)(g,2),N=x[0],I=x[1],C=Object(i.useState)(""),k=Object(d.a)(C,2),_=k[0],E=k[1],A=Object(i.useState)(!0),w=Object(d.a)(A,1)[0],P=Object(i.useState)(null),L=Object(d.a)(P,2),S=L[0],B=L[1];function T(){return T=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(Be,"/").concat(t)).then(function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=6;break}return n=t.data,e.next=4,j.a.get("".concat(u.OPEN_API_URL,"/users/").concat(n.writerId)).then((function(e){var t=e.data;n.writer=t,B(t.id)}));case 4:O(n),n.writer&&(I("".concat(n.writer.name," em ").concat(y(n.statusDate))),E(n.writer.bioDescription||""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("error ====> ",e)}));case 2:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function R(){if(f&&c&&f.writerId===c.id){var e='Tem certeza que deseja retirar do ar o artigo "'+f.title+'"? ';a(Object(v.jsx)(M,{message:e,confirm:function(){return function(e){var t=e;e.status="RETIRADO",j.a.put("".concat(u.API_URL,"/articles"),t,{headers:{Authorization:s.token}}).then((function(e){m("info","O Artigo foi retirado do ar com sucesso!")})).catch((function(e){m("error","Erro retirar o artigo do ar: Contate administrador!"),console.log("Erro: ",e.response.data.message)})),o()}(f)},close:function(){return o()},cancel:function(){return o()}}),"center")}}return Object(i.useEffect)((function(){var e=window.location.search;if(e&&""!==e.trim()){var t=e.replace("?param=","").trim();null!==t&&""!==t&&function(e){T.apply(this,arguments)}(t)}}),[w]),Object(i.useEffect)((function(){n(null);var e=document.getElementById("button-unpublish-article");e.classList.remove("active"),S&&c&&S===c.id&&e.classList.add("active")}),[S]),Object(v.jsxs)("div",{className:"ArticleView",children:[Object(v.jsxs)("div",{className:"div-writer-article-view",children:[Object(v.jsx)("div",{className:"div-profile-img-article-view",children:Object(v.jsx)("img",{className:"image-profile-article-view",src:"".concat(u.IMAGE_URL_API,"/").concat(f.writer.photo||u.IMAGE_PROFILE_DEFAULT),alt:""})}),Object(v.jsxs)("div",{className:"div-details-article-view",children:[Object(v.jsx)("div",{className:"author-article-view",children:N}),Object(v.jsx)("p",{className:"bio-writer-article-view",children:_}),Object(v.jsx)("a",{href:"#",className:"link-follow",children:"(Seguir +)"})]})]}),Object(v.jsxs)("div",{className:"ArticleViewBody",children:[Object(v.jsx)("h1",{children:f.title}),f.sectionsinarticles.map((function(e,t){switch(e.sectionId){case"CAPTION":return Object(v.jsx)("h2",{children:e.text},"{h2_".concat(t,"}"));case"PARAGRAPH":return Object(v.jsx)("p",{children:e.text},"{p_".concat(t,"}"));case"IMAGE":return Object(v.jsxs)("div",{className:"div-img-view",children:[Object(v.jsx)("img",{className:"img-view",src:"".concat(u.IMAGE_URL_API,"/article/").concat(e.imagePath),alt:""}),Object(v.jsx)("p",{children:e.text})]},"{div_".concat(t,"}"));case"CODE":return Object(v.jsx)("pre",{children:e.text},"{pre_".concat(t,"}"));case"QUOTE":return Object(v.jsxs)("div",{className:"div-quote-view",children:[Object(v.jsxs)("p",{className:"text-quote-view",children:[Object(v.jsx)("span",{children:'"'}),e.text,Object(v.jsx)("span",{children:'"'})]}),Object(v.jsxs)("p",{className:"author-quote-view",children:["--",e.complement]})]},"{div_".concat(t,"}"));case"LIST":return function(e,t){var n=e.split("#!#");return Object(v.jsx)("ul",{children:n.map((function(e,n){return Object(v.jsx)("li",{children:e},"list_".concat(t,"_item_").concat(n))}))},"{ul_".concat(t,"}"))}(e.text,t);default:return Object(v.jsx)("p",{children:e.sectionId})}})),Object(v.jsxs)("div",{className:"ArticleViewFooter",children:[Object(v.jsxs)("div",{className:"div-button-like",children:[Object(v.jsx)("button",{children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"thumb_up"})}),Object(v.jsx)("span",{children:"Gostei"})]}),Object(v.jsxs)("div",{className:"div-icon-comment",children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"campaign"}),Object(v.jsx)("span",{children:"Coment\xe1rios:"})]}),Object(v.jsx)("div",{className:"div-form-comments",children:Object(v.jsx)("p",{children:"Seja o primeiro a comentar..."})})]})]}),Object(v.jsx)("button",{id:"button-unpublish-article",className:"btn-unpublish-article material-icons-outlined",onClick:R,children:"highlight_off"})]})},Re=function(e){return Object(v.jsxs)("div",{className:"Content",children:[Object(v.jsx)(T,{}),Object(v.jsxs)(N.c,{children:[Object(v.jsx)(N.a,{path:"blog-jorlane/",element:Object(v.jsx)(E,{})}),Object(v.jsx)(N.a,{path:"blog-jorlane/categories",element:Object(v.jsx)(Ae,{element:Object(v.jsx)(G,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/profile",element:Object(v.jsx)(we,{element:Object(v.jsx)(X,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/blogpreferences",element:Object(v.jsx)(we,{element:Object(v.jsx)(Z,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/indicators",element:Object(v.jsx)(we,{element:Object(v.jsx)(Pe,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/connections",element:Object(v.jsx)(we,{element:Object(v.jsx)(Le,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/article",element:Object(v.jsx)(we,{element:Object(v.jsx)(Ie,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/myarticles",element:Object(v.jsx)(we,{element:Object(v.jsx)(_e,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/articleview",element:Object(v.jsx)(Te,{})}),Object(v.jsx)(N.a,{path:"blog-jorlane/login",element:Object(v.jsx)(te,{})}),Object(v.jsx)(N.a,{path:"blog-jorlane/signup",element:Object(v.jsx)(ae,{})}),"s",Object(v.jsx)(N.a,{path:"blog-jorlane/logout",element:Object(v.jsx)(ie,{})})]})]})},Ue="".concat(u.OPEN_API_URL,"/users/validate"),De="blog_token_key",Fe=function(){var e=Object(i.useState)(!0),t=Object(d.a)(e,1)[0],n=Object(i.useContext)(p).updateLoggedUser;return Object(i.useEffect)((function(){function e(){return(e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=localStorage.getItem(De))&&j.a.post(Ue,{token:t}).then((function(e){var c={userProfile:e.data.userProfile,token:t,validToken:e.data.valid};n(c)})).catch((function(e){console.log("error",e.message)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(v.jsx)("div",{className:"App",id:"app",children:Object(v.jsxs)(b.a,{children:[Object(v.jsx)(Re,{}),Object(v.jsx)(A,{}),Object(v.jsx)(w,{}),Object(v.jsx)(U,{})]})})};a.a.render(Object(v.jsx)(x,{children:Object(v.jsx)(Fe,{})}),document.getElementById("root"))}],[[90,1,2]]]);
//# sourceMappingURL=main.87a6c1d1.chunk.js.map