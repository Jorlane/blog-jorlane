(this["webpackJsonpfrontend-blog"]=this["webpackJsonpfrontend-blog"]||[]).push([[0],[,,,function(e,t){var n="https://jorlane.com.br",c="".concat(n,"/api"),a="".concat(n,"/oapi"),i="".concat(n,"/images");e.exports={API_URL:c,OPEN_API_URL:a,IMAGE_URL_API:i,IMAGE_PROFILE_DEFAULT:"img_init_profile.jpg"}},,,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"a":"1.0.0"}')},,function(e,t,n){},,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(29);var c=n(12),a=n.n(c),i=n(1),o=n.n(i),s=n(8),r=n.n(s),l=n(11),d=n(2),u=(n(35),n(3)),m=n(4),j=n.n(m),b=(n(54),n(7)),h=n(6),f={modalVisible:"hidden",children:"",modalJustifyContent:"none",messageVisible:!1,messageText:"",messageType:"info",user:{name:"",email:"",token:"",validToken:!1,isAdministrator:!1},profileLoggedUser:{id:null,name:null,email:null,photo:null,bioDescription:null,allowEmailNotification:null,frequencyEmailNotification:null,firstAccess:null,lastAccess:null,commentBlocked:!1},toolBarContent:null,footerContent:null},O="blog_token_key";function g(e,t){switch(t.type){case"reset":return Object(h.a)(Object(h.a)({},f),{},{user:e.user,profileLoggedUser:e.profileLoggedUser,toolBarContent:e.toolBarContent,footerContent:e.footerContent});case"show_modal":return Object(h.a)(Object(h.a)({},e),{},{modalVisible:"visible",children:t.payload.children,modalJustifyContent:t.payload.modalJustifyContent});case"show_message":return Object(h.a)(Object(h.a)({},e),{},{messageVisible:!0,messageType:t.payload.messageType,messageText:t.payload.messageText});case"hide_message":return Object(h.a)(Object(h.a)({},e),{},{messageVisible:!1,messageType:"info",messageText:""});case"update_user":t.payload.validToken?localStorage.setItem(O,t.payload.token):localStorage.removeItem(O);var n={};return n.name=t.payload.userProfile.name||"",n.email=t.payload.userProfile.email||"",n.token=t.payload.token||"",n.validToken=t.payload.validToken||!1,n.isAdministrator=t.payload.userProfile.isAdministrator||!1,Object(h.a)(Object(h.a)({},e),{},{user:n,profileLoggedUser:t.payload.userProfile});case"set_toolbar_content":return Object(h.a)(Object(h.a)({},e),{},{toolBarContent:t.payload});case"set_footer_content":return Object(h.a)(Object(h.a)({},e),{},{footerContent:t.payload});default:return e}}var v=n(0),p=o.a.createContext(f),x=function(e){var t=Object(i.useReducer)(g,f),n=Object(d.a)(t,2),c=n[0],a=n[1];return Object(v.jsx)(p.Provider,{value:{modalVisible:c.modalVisible,children:c.children,modalJustifyContent:c.modalJustifyContent,closeModal:function(){return a({type:"reset"})},showModal:function(e,t){return function(e,t){a({type:"show_modal",payload:{children:e,modalJustifyContent:t}})}(e,t||"none")},messageVisible:c.messageVisible,messageType:c.messageType,messageText:c.messageText,showMessage:function(e,t){return function(){a({type:"show_message",payload:{messageType:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",messageText:arguments.length>1?arguments[1]:void 0}}),setTimeout((function(){a({type:"hide_message"})}),2e3)}(e,t)},user:c.user,profileLoggedUser:c.profileLoggedUser,updateLoggedUser:function(e){!function(e){a({type:"update_user",payload:e})}(e)},toolBarContent:c.toolBarContent,setToolBarContent:function(e){return function(e){a({type:"set_toolbar_content",payload:e})}(e)},footerContent:c.footerContent,setFooterContent:function(e){return function(e){a({type:"set_footer_content",payload:e})}(e)}},children:e.children})},N=(n(56),n(57),n(5));n(58);function I(e){var t=new Date(e);return t.getDate().toString().padStart(2,"0")+"/"+(t.getMonth()+1).toString().padStart(2,"0")+"/"+t.getFullYear()}var C=function(e){var t=Object(i.useState)(e.article.writer?"".concat(e.article.writer.name," em ").concat(I(e.article.statusDate)):"Em ".concat(I(e.article.statusDate))),n=Object(d.a)(t,1)[0],c=Object(i.useState)(function(){var t=e.article.writer.bioDescription||"";return t.length>200?t.substr(0,180)+"...":t}()),a=Object(d.a)(c,1)[0],o=Object(i.useState)(""),s=Object(d.a)(o,2),r=s[0],l=s[1];return Object(i.useEffect)((function(){for(var t=e.article.sectionsinarticles,n="",c=document.getElementById("text-view-".concat(e.article.id)),a=0;a<t.length;a++)if("PARAGRAPH"===t[a].sectionId){if(n.length<200){var i=200-n.length,o="";t[a].text.length<=i?o=t[a].text:t[a].text.length>i&&(o=t[a].text.substring(0,i)+"..."),n+=o;var s=document.createElement("p");s.innerText=o,c.appendChild(s)}}else""===r&&"IMAGE"===t[a].sectionId&&l("".concat(u.IMAGE_URL_API,"/article/").concat(t[a].imagePath))}),[n]),Object(v.jsx)("div",{className:"",children:Object(v.jsx)("div",{className:"HomeArticlesItem",children:Object(v.jsxs)("div",{className:"div-content-article",onClick:function(){return e.handleClickArticleItem(e.article)},children:[Object(v.jsx)("div",{className:"title",children:e.article.title}),Object(v.jsxs)("div",{className:"div-body-article",children:[Object(v.jsx)("div",{className:"text-view",id:"text-view-".concat(e.article.id)}),Object(v.jsx)("img",{className:"img-view",src:r,alt:""})]}),Object(v.jsxs)("div",{className:"div-article-writer",children:[Object(v.jsx)("div",{className:"div-img-article-profile",children:Object(v.jsx)("img",{className:"image-article-profile",src:"".concat(u.IMAGE_URL_API,"/").concat(e.article.writer.photo||u.IMAGE_PROFILE_DEFAULT),alt:""})}),Object(v.jsxs)("div",{className:"div-details",children:[Object(v.jsx)("div",{className:"author-article",children:n}),Object(v.jsx)("div",{className:"bio-writer-article",children:a})]})]})]})},"key_".concat(e.article.id))})},y="".concat(u.OPEN_API_URL,"/articles"),k="".concat(u.OPEN_API_URL,"/users"),E=function(e){var t=Object(i.useState)([]),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)(e.refresh||!0),s=Object(d.a)(o,1)[0],u=Object(N.f)();function m(e){u("/blog-jorlane/articleview?param=".concat(e.id))}function b(){return h.apply(this,arguments)}function h(){return h=Object(l.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=y,e.writerIdOnly&&(n="".concat(y,"/bywriter/").concat(e.writerIdOnly)),t.next=4,j.a.get(n).then(function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=4;break}return e.delegateYield(r.a.mark((function e(){var n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data,c=r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(k,"/").concat(n[t].writerId)).then((function(e){var c=e.data;n[t].writer=c}));case 2:case"end":return e.stop()}}),e)})),i=0;case 3:if(!(i<n.length)){e.next=8;break}return e.delegateYield(c(i),"t0",5);case 5:i++,e.next=3;break;case 8:a(n);case 9:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=5;break;case 4:a([]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("Erro ao selecionar articles => ",e)}));case 4:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}return Object(i.useEffect)((function(){function e(){return(e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[s]),Object(v.jsxs)("div",{className:"HomeArticles",children:[Object(v.jsx)("div",{className:"home-left-column"}),Object(v.jsx)("div",{className:"list-home-articles",children:c.map((function(e,t){return Object(v.jsx)(C,{article:e,handleClickArticleItem:m},"item_".concat(t))}))}),Object(v.jsx)("div",{className:"home-right-column"})]})},A=function(e){var t=Object(i.useContext)(p),n=t.setToolBarContent,c=t.setFooterContent,a=Object(i.useState)(!0),o=Object(d.a)(a,1)[0];return Object(i.useEffect)((function(){n(null),c(null)}),[o]),Object(v.jsx)("div",{className:"Home",children:Object(v.jsx)(E,{})})},_=function(e){var t=Object(i.useContext)(p).footerContent;return t?Object(v.jsxs)("footer",{className:"Footer Customized",children:[t,Object(v.jsxs)(b.b,{className:"button-link",id:"btn-home",to:"/blog-jorlane",element:Object(v.jsx)(A,{}),children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"home"}),Object(v.jsx)("label",{children:"Home"})]})]}):Object(v.jsxs)("footer",{className:"Footer",children:[Object(v.jsxs)("button",{className:"button-link",id:"btn-write-article",children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"search"}),Object(v.jsx)("label",{children:"Pesquisar"})]}),Object(v.jsxs)(b.b,{className:"button-link",id:"btn-write-article",to:"/blog-jorlane/article",children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"post_add"}),Object(v.jsx)("label",{children:"Escrever Artigo"})]}),Object(v.jsxs)(b.b,{className:"button-link",id:"btn-home",to:"/blog-jorlane/",element:Object(v.jsx)(A,{}),children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"home"}),Object(v.jsx)("label",{children:"Home"})]})]})},w=(n(59),function(){var e=Object(i.useContext)(p),t=e.modalVisible,n=e.children,c=e.modalJustifyContent,a=e.closeModal;return Object(v.jsx)("div",{className:"Modal","modal-justify-content":c,id:"main-modal",visible:t,onClick:function(e){return function(e){"main-modal"===e.target.id&&(console.log("dentro de handleClickOutsideModal"),a())}(e)},children:n})});n(60),n(61),n(62);function L(){var e=document.getElementById("menu-list");e.classList.toggle("active");var t=document.getElementById("hamburger");e.classList.contains("active")?t.innerHTML="close":t.innerHTML="menu"}var P=function(e){var t=Object(i.useContext)(p).user;return Object(v.jsxs)("nav",{className:"Menu",children:[Object(v.jsxs)("ul",{id:"menu-list",children:[Object(v.jsxs)("li",{className:"menu-item ".concat(t.isAdministrator?"active":""),onClick:function(e){return function(e){var t=e.target.children;console.log("CHILDREN => ",t)}(e)},children:[Object(v.jsx)("a",{className:"link-submenu",children:"Administra\xe7\xe3o"}),Object(v.jsxs)("ul",{id:"submenu-adm",className:"submenu",children:[Object(v.jsx)("li",{className:"submenu-item",onClick:function(){return L()},children:Object(v.jsx)(b.b,{to:"blog-jorlane/categories",children:"Categorias"})}),Object(v.jsx)("li",{className:"submenu-item",onClick:function(){return L()},children:Object(v.jsx)(b.b,{to:"blog-jorlane/complaints",children:"Den\xfancias"})}),Object(v.jsx)("li",{className:"submenu-item",onClick:function(){return L()},children:Object(v.jsx)(b.b,{to:"blog-jorlane/blockedUsers",children:"Usu\xe1rios Bloqueados"})})]})]}),Object(v.jsx)("li",{className:"menu-item ".concat(t.validToken?"active":""),onClick:function(){return L()},children:Object(v.jsx)(b.b,{to:"blog-jorlane/profile",children:"Perfil"})}),Object(v.jsxs)("li",{className:"menu-item ".concat(t.validToken?"active":""),children:[Object(v.jsx)("a",{className:"link-submenu",children:"Blog"}),Object(v.jsxs)("ul",{id:"submenu-blog",className:"submenu",children:[Object(v.jsx)("li",{className:"submenu-item",onClick:function(){return L()},children:Object(v.jsx)(b.b,{to:"blog-jorlane/blogpreferences",children:"Prefer\xeancias"})}),Object(v.jsx)("li",{className:"submenu-item",onClick:function(){return L()},children:Object(v.jsx)(b.b,{to:"blog-jorlane/connections",children:"Minhas Conex\xf5es"})}),Object(v.jsx)("li",{className:"submenu-item",onClick:function(){return L()},children:Object(v.jsx)(b.b,{to:"blog-jorlane/indicators",children:"Meus Indicadores"})}),Object(v.jsx)("li",{className:"submenu-item",onClick:function(){return L()},children:Object(v.jsx)(b.b,{to:"blog-jorlane/myarticles",children:"Meus Artigos"})})]})]}),Object(v.jsx)("li",{className:"menu-item active",onClick:function(){return L()},children:Object(v.jsx)(b.b,{to:"blog-jorlane/",children:"Pesquisar"})}),Object(v.jsx)("li",{className:"menu-item active",onClick:function(){return L()},children:Object(v.jsx)(b.b,{to:"blog-jorlane/article",children:"Escrever"})}),Object(v.jsx)("li",{className:"menu-item ".concat(t.validToken?"active":""),onClick:function(){return L()},children:Object(v.jsx)(b.b,{to:"blog-jorlane//",children:"Notifica\xe7\xf5es"})}),Object(v.jsx)("li",{className:"menu-item ".concat(t.validToken?"active":""),onClick:function(){return L()},children:Object(v.jsx)(b.b,{to:"blog-jorlane/logout",children:"Sair"})})]}),Object(v.jsx)("button",{id:"btn-mobile",onClick:function(){return L()},children:Object(v.jsx)("span",{id:"hamburger",className:"material-icons-outlined",children:"menu"})})]})},S=(n(63),n(27)),U=function(e){return Object(v.jsxs)("div",{className:"Logo",children:[Object(v.jsx)("span",{id:"imageLogo",className:"material-icons-outlined",children:"newspaper"}),"Meu Blog ",S.a]})},R=(n(64),function(e){var t=Object(i.useContext)(p),n=t.showModal,c=t.closeModal,a=t.user,o=t.profileLoggedUser,s=t.toolBarContent;if(s)return Object(v.jsx)("div",{className:"ToolBar",children:s});var r=window.location.pathname;return console.log("location ===> ",r),Object(v.jsxs)("div",{className:"ToolBar",children:[Object(v.jsxs)("div",{className:"user-greetings",children:[Object(v.jsx)("button",{className:"button-back-toolbar button_icon ".concat(a.validToken&&"/blog-jorlane/"!==r?"active":""),onClick:function(){window.history.back()},children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"arrow_back"})}),Object(v.jsx)("div",{className:"user-name ".concat(a.validToken?"active":""),children:Object(v.jsxs)("span",{children:["Ol\xe1 ",a.name,"! ",Object(v.jsx)(b.b,{className:"text-link-exit",to:"/blog-jorlane/logout",children:"(Sair)"})]})}),Object(v.jsx)("div",{className:"no-user-name ".concat(a.validToken?"":"active"),children:Object(v.jsx)(b.b,{to:"/blog-jorlane/login",children:"Entrar"})})]}),Object(v.jsxs)("div",{className:"toolbar-buttons",children:[Object(v.jsx)("button",{id:"btn-admin",className:"material-icons-outlined ".concat(a.isAdministrator?"active":""),onClick:function(e){return function(e){var t=e.pageX-300;t<0&&(t=10);var a={left:t+"px",width:"300px"},i=Object(v.jsxs)("ul",{id:"menu-admin",style:a,children:[Object(v.jsx)("li",{className:"menu-option",children:Object(v.jsx)(b.b,{to:"blog-jorlane/categories",onClick:c,children:"Categorias"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"blog-jorlane/",children:"Den\xfancias"})}),Object(v.jsx)("li",{children:Object(v.jsx)("a",{href:"blog-jorlane/",children:"Usu\xe1rios Bloqueados"})})]});n(i)}(e)},children:"settings"}),Object(v.jsx)("button",{id:"btn-notification",className:"material-icons-outlined",children:"notifications_none"}),Object(v.jsx)("button",{id:"btn-profile",children:Object(v.jsx)(b.b,{to:"/blog-jorlane/profile",onClick:c,children:o.id&&o.photo?Object(v.jsx)("img",{className:"tumb-profile",src:"".concat(u.IMAGE_URL_API,"/").concat(o.photo||u.IMAGE_PROFILE_DEFAULT),alt:""}):Object(v.jsx)("span",{className:"tumb-profile material-icons-outlined",children:" account_circle "})})})]})]})}),B=function(e){return Object(v.jsxs)("header",{className:"Header",children:[Object(v.jsxs)("div",{className:"header-title",children:[Object(v.jsx)(U,{}),Object(v.jsx)(P,{})]}),Object(v.jsx)(R,{})]})},T=(n(65),n(66),function(e){var t=e.item.category,n=e.item.children||[],c=I(t.initDate);var a="category_"+t.id;return Object(v.jsxs)("li",{className:"CategoryListItem",children:[Object(v.jsxs)("div",{className:e.position%2===0?"category-list-item-root pair":"category-list-item-root odd",children:[Object(v.jsx)("div",{className:"column-expand","show-icon":n.length>0?"yes":"no",onClick:function(e){return function(e){e.target.classList.toggle("column-expand-down");var t=e.target.parentElement.nextSibling;t&&t.classList.toggle("active")}(e)}}),Object(v.jsx)("div",{className:"column-category",onClick:function(){return e.handleClickListItem(t)},children:t.name}),Object(v.jsx)("div",{className:"column-date",onClick:function(){return e.handleClickListItem(t)},children:c}),Object(v.jsx)("div",{className:"column-action",id:"button-remove",onClick:function(){return e.handleRemoveListItem(t)},children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"delete"})})]}),Object(v.jsx)("div",{className:"category-children",children:n.map((function(t){return Object(v.jsxs)("div",{className:"category-list-item-child-header",children:[Object(v.jsx)("div",{className:"column-space-child",children:"_"}),Object(v.jsxs)("div",{className:"category-list-item-child",children:[Object(v.jsx)("div",{className:"column-category-child",onClick:function(){return e.handleClickListItem(t)},children:t.name}),Object(v.jsx)("div",{className:"column-date-child",onClick:function(){return e.handleClickListItem(t)},children:I(t.initDate)}),Object(v.jsx)("div",{className:"column-action",id:"button-remove",onClick:function(){return e.handleRemoveListItem(t)},children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"delete"})})]})]},"id_"+(n=t).id+"_child_of_"+n.categoryParent);var n}))})]},a)}),D=(n(67),n(68),function(e){var t=Object(i.useContext)(p),n=t.messageVisible,c=t.messageType,a=t.messageText;return Object(v.jsx)("div",{className:"Message",visible:n?"visible":"hidden",children:Object(v.jsx)("div",{className:"message-text",type:c,children:a})})}),F="".concat(u.OPEN_API_URL,"/categories"),M=function(){return new Promise((function(e,t){j.a.get(F).then((function(n){var c=[],a=[],i=[];n.data.forEach((function(e){null!=e.categoryParent?a.push(e):(c.push({category:e,children:[]}),i.push(e.id))})),a.forEach((function(e){var n=i.indexOf(e.categoryParent);n>-1?c[n].children.push(e):t({error:"ERRO ====> Category parent ".concat(e.categoryParent," n\xe3o encontrada.")})})),e(c)})).catch((function(e){t({error:e.message})}))}))},q={name:"",categoryParent:null,initDate:null,endDate:null},H=function(e){var t=Object(i.useState)(e.category||q),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)(e.category.categoryParent||""),s=Object(d.a)(o,2),r=s[0],l=s[1],u=Object(i.useState)([]),m=Object(d.a)(u,2),j=m[0],b=m[1],f=Object(i.useState)(0),O=Object(d.a)(f,2),g=O[0],x=O[1],N=Object(i.useContext)(p).showMessage;function C(){a(q),l(""),y(document.getElementById("select-category")),x(g+1),document.getElementById("input-name-category").focus()}function y(e){""===e.value?e.classList.contains("place-holder")||e.classList.add("place-holder"):e.classList.remove("place-holder")}return Object(i.useEffect)((function(){M().then((function(e){b(e)})).catch((function(e){return N("error",e.message)}))}),[g]),Object(v.jsxs)("div",{className:e.readOnly?"CategoryForm color-readonly":"CategoryForm color-updatable",children:[Object(v.jsxs)("div",{className:"header-form",children:[Object(v.jsx)("div",{className:"form-title",children:e.title||"Formul\xe1rio Categoria"}),Object(v.jsx)("button",{className:"btn-exit",onClick:e.close,children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"close"})})]}),Object(v.jsxs)("form",{className:"form",children:[Object(v.jsxs)("div",{className:"form-fields",children:[Object(v.jsx)("label",{htmlFor:"name",children:"Nome da categoria"}),Object(v.jsx)("input",{id:"input-name-category",placeholder:"Nome da categoria...",type:"text",name:"name",autoComplete:"off",onChange:function(t){return function(t){"input-name-category"!==t.target.id||e.readOnly||a(Object(h.a)(Object(h.a)({},c),{},{name:t.target.value}))}(t)},value:c.name}),Object(v.jsx)("label",{htmlFor:"init-date",visible:e.readOnly?"visible":"hidden",children:"Data de in\xedcio"}),Object(v.jsx)("input",{id:"input-init-date-category",visible:e.readOnly?"visible":"hidden",type:"text",name:"init-date",readOnly:!0,value:I(c.initDate)}),Object(v.jsx)("label",{htmlFor:"categories",children:"Categoria Agrupadora"}),Object(v.jsxs)("select",{className:"select-parent-category place-holder",id:"select-category",name:"categories",onChange:function(t){return function(t){if(t){var n=t.target;y(n),e.readOnly||l(n.value)}}(t)},value:r,children:[Object(v.jsx)("option",{value:"",children:"(Sem categoria agrupadora)"}),j.map((function(e){return null===e.category.categoryParent?Object(v.jsx)("option",{value:e.category.id,children:e.category.name},e.category.id):""}))]})]}),Object(v.jsxs)("div",{className:"buttons-form",visible:e.readOnly?"hidden":"visible",children:[Object(v.jsx)("span",{className:"btn-form btn-form-clear",onClick:C,children:"Limpar"}),Object(v.jsx)("span",{className:"btn-form btn-form-save",onClick:function(){if(e.saveCategory){var t=c;t.categoryParent=""===r?null:r,a(t),e.saveCategory(c),C()}},children:"Adicionar"})]}),Object(v.jsx)(D,{})]})]})},z=(n(69),function(e){return Object(v.jsxs)("div",{className:"Confirmation",children:[Object(v.jsxs)("div",{className:"header-confirmation",children:[Object(v.jsxs)("div",{className:"box-title",children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"help_outline"}),Object(v.jsx)("p",{className:"title-message",children:"Confirma\xe7\xe3o"})]}),Object(v.jsx)("button",{className:"btn-exit",onClick:e.close,children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"close"})})]}),Object(v.jsxs)("div",{className:"box-body-message",children:[Object(v.jsx)("div",{className:"message",children:e.message}),Object(v.jsxs)("div",{className:"buttons-confirmation",children:[Object(v.jsxs)("button",{className:"btn-confirmation btn-no color-no background-no",onClick:e.cancel,children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"close"}),"N\xe3o"]}),Object(v.jsxs)("button",{className:"btn-confirmation btn-yes color-yes background-yes",onClick:e.confirm,children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"done"}),"Sim"]})]})]})]})}),G="".concat(u.API_URL,"/categories"),V=("".concat(u.OPEN_API_URL,"/categories"),function(e){var t=Object(i.useState)([]),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)(e.refresh||!0),s=Object(d.a)(o,1)[0],r=Object(i.useContext)(p),l=r.showModal,u=r.closeModal,m=r.showMessage,b=r.user,h=r.setToolBarContent;Object(N.f)();function f(){window.history.back()}function O(){M().then((function(e){a(e)})).catch((function(e){return m("error",e.message)}))}function g(e){l(Object(v.jsx)(H,{title:"Consulta Categoria",close:I,readOnly:"true",category:e}),"center")}function x(e){j.a.post(G,e,{headers:{Authorization:b.token}}).then((function(e){m("info","Registro inclu\xeddo com sucesso!"),O()})).catch((function(e){m("error",e.response.data.message)}))}function I(){u()}function C(e){var t='Tem certeza que deseja excluir a categoria "'+e.name+'"? ';l(Object(v.jsx)(z,{message:t,confirm:function(){return t=e.id,j.a.delete("".concat(G,"/").concat(t),{headers:{Authorization:b.token}}).then((function(e){m("info","Registro exclu\xeddo com sucesso!"),O()})).catch((function(e){m("error",e.response.data.message)})),void u();var t},close:function(){return u()},cancel:function(){return u()}}),"center")}return Object(i.useEffect)((function(){O(),h(Object(v.jsxs)("div",{className:"category_toolbar",children:[Object(v.jsx)("button",{className:"button-back button_icon",onClick:f,children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"arrow_back"})}),Object(v.jsx)("div",{children:" Cadastro de Categoria "})]}))}),[s,b.token]),Object(v.jsxs)("div",{className:"CategoryList",children:[Object(v.jsxs)("div",{className:"list-category",children:[Object(v.jsxs)("div",{className:"list-title",children:[Object(v.jsx)("div",{className:"title-expand",children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"expand_more"})}),Object(v.jsx)("div",{className:"title-category",children:"Categoria"}),Object(v.jsx)("div",{className:"title-date",children:"In\xedcio"}),Object(v.jsx)("div",{className:"title-action",children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"delete"})})]}),Object(v.jsx)("ul",{children:c.map((function(e,t){return Object(v.jsx)(T,{listItemKey:t.toString(),item:e,position:t,handleClickListItem:g,handleRemoveListItem:C},e.category.id.toString())}))})]}),Object(v.jsx)("button",{id:"button-add-category",className:"btn-add-item material-icons-outlined",onClick:function(){l(Object(v.jsx)(H,{title:"Adicionar Categoria",close:I,saveCategory:x,category:{}}),"center")},children:"add_circle_outline"})]})}),K=n(14),J=n(13),W=(n(70),n(71)),Q="".concat(u.API_URL,"/users"),X="".concat(u.OPEN_API_URL,"/users/profile/image"),Y=!1,Z=function(e){var t=Object(i.useContext)(p),n=t.profileLoggedUser,c=t.user,a=t.showMessage,o=t.updateLoggedUser,s=t.setToolBarContent,r=t.setFooterContent,l=t.showModal,m=t.closeModal,b=Object(i.useState)(n),f=Object(d.a)(b,2),O=f[0],g=f[1],x=Object(i.useRef)(null),C=Object(i.useState)(!0),y=Object(d.a)(C,1)[0],k=Object(N.f)();function E(e,t){Y=!0,g(Object(h.a)(Object(h.a)({},O),{},Object(J.a)({},t,e.target.value)))}function A(e,t){for(var n=document.getElementsByClassName("tab_icon_title"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById(e).classList.add("active"),t&&k(t)}function _(){var e=O;if(e.name=document.getElementById("input-name").value,e.bioDescription=document.getElementById("input-biodescription").value,e.allowEmailNotification=document.getElementById("input-allowemail").checked,e.frequencyEmailNotification=document.getElementById("input-frequency").value,x.current.files.length>=1){var t,n=new W,i=Object(K.a)(x.current.files);try{for(i.s();!(t=i.n()).done;){var s=t.value;n.append("file",s)}}catch(l){i.e(l)}finally{i.f()}j.a.post(X,n).then((function(t){e.photo=t.data.filename,r(e)}))}else r(e);function r(e){j.a.put(Q,e,{headers:{Authorization:c.token}}).then((function(t){var n={userProfile:e,token:c.token,validToken:c.validToken};o(n),a("info",t.data.message)})).catch((function(e){a("error",e.response.data.message)}))}Y=!1}function w(){if(Y){l(Object(v.jsx)(z,{message:"Tem certeza que deseja sair da tela e cancelar as altera\xe7\xf5es efetuadas? ",confirm:function(){k("/blog-jorlane/"),m()},close:function(){return m()},cancel:function(){return m()}}),"center")}else k("/blog-jorlane/")}function L(){Y=!0;var e=document.getElementById("select-file-image");e.click(),e.addEventListener("change",(function(){if(e.files.length>0){var t=new FileReader;t.onloadend=function(e){document.getElementById("image-profile").src=e.target.result},t.readAsDataURL(e.files[0])}}))}return Object(i.useEffect)((function(){s(Object(v.jsxs)("div",{className:"profile_toolbar",children:[Object(v.jsxs)("div",{id:"tab_profile",className:"tab_icon_title active",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(){return A("tab_profile","/blog-jorlane/profile")},children:"person"}),Object(v.jsx)("span",{children:"Perfil"})]}),Object(v.jsxs)("div",{id:"tab_blog",className:"tab_icon_title",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(){return A("tab_blog","/blog-jorlane/blogpreferences")},children:"menu_book"}),Object(v.jsx)("span",{children:"Blog"})]}),Object(v.jsxs)("div",{id:"tab_indicators",className:"tab_icon_title",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(){return A("tab_indicators","/blog-jorlane/indicators")},children:"bar_chart"}),Object(v.jsx)("span",{children:"Indicadores"})]}),Object(v.jsxs)("div",{id:"tab_my_articles",className:"tab_icon_title",onClick:function(){return A("tab_my_articles","/blog-jorlane/myarticles")},children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",children:"library_books"}),Object(v.jsx)("span",{children:"Artigos"})]}),Object(v.jsxs)("div",{id:"tab_connections",className:"tab_icon_title",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(){return A("tab_connections","/blog-jorlane/connections")},children:"people"}),Object(v.jsx)("span",{children:"Conex\xf5es"})]})]})),r(Object(v.jsxs)("div",{className:"profile_footer",children:[Object(v.jsxs)("div",{id:"btn-cancel-update",className:"button-link",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:w,children:"close"}),Object(v.jsx)("span",{children:"Cancelar"})]}),Object(v.jsxs)("div",{id:"btn-save-profile",className:"button-link",onClick:_,children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",children:"done"}),Object(v.jsx)("span",{children:"Salvar altera\xe7\xf5es"})]})]})),Y=!1}),[y]),Object(v.jsx)("div",{className:"Profile",children:Object(v.jsxs)("div",{className:"profile-content",children:[Object(v.jsxs)("form",{action:"",children:[Object(v.jsxs)("div",{className:"div-info-profile",children:[Object(v.jsx)("p",{children:O.email}),Object(v.jsxs)("p",{children:["Inscrito desde: ",I(O.firstAccess)]})]}),Object(v.jsxs)("div",{className:"div-img-profile",children:[Object(v.jsx)("img",{id:"image-profile",src:"".concat(u.IMAGE_URL_API,"/").concat(O.photo||u.IMAGE_PROFILE_DEFAULT),alt:"Imagem de perfil",onClick:L}),Object(v.jsx)("span",{id:"btn-img-profile",className:"material-icons-outlined",onClick:L,children:"photo_camera"})]}),Object(v.jsx)("input",{id:"select-file-image",type:"file",accept:"image/png, image/jpeg, image/jpg",ref:x}),Object(v.jsx)("label",{htmlFor:"",children:"Nome:"}),Object(v.jsx)("input",{id:"input-name",type:"text",maxLength:"20",onChange:function(e){return E(e,"name")},value:O.name}),Object(v.jsx)("label",{htmlFor:"",children:"Descri\xe7\xe3o:"}),Object(v.jsx)("textarea",{id:"input-biodescription",type:"text",rows:"3",onChange:function(e){return E(e,"bioDescription")},value:O.bioDescription}),Object(v.jsxs)("div",{className:"div-field-profile",children:[Object(v.jsx)("label",{htmlFor:"",children:"Notifica\xe7\xf5es por email?"}),Object(v.jsx)("input",{id:"input-allowemail",className:"check-box",type:"checkbox",onChange:function(e){return function(e,t,n){Y=!0,g(Object(h.a)(Object(h.a)({},O),{},Object(J.a)({},t,e.target.checked)))}(e,"allowEmailNotification")},checked:O.allowEmailNotification}),Object(v.jsx)("div",{className:"custom-select",children:Object(v.jsxs)("select",{id:"input-frequency",className:"frequency-select ".concat(O.allowEmailNotification?"active":""),onChange:function(e){return E(e,"frequencyEmailNotification")},value:O.frequencyEmailNotification,children:[Object(v.jsx)("option",{value:"SEMANAL",children:"Semanal"}),Object(v.jsx)("option",{value:"QUINZENAL",children:"Quinzenal"}),Object(v.jsx)("option",{value:"MENSAL",children:"Mensal"})]})})]})]}),Object(v.jsx)("a",{href:"#",id:"btn-remove-profile",children:"Quero encerrar minha conta"})]})})},$=(n(72),function(e){var t=Object(i.useContext)(p).setFooterContent;return Object(i.useEffect)((function(){t(null)})),Object(v.jsxs)("div",{className:"BlogPreferences",children:[Object(v.jsx)("h2",{children:"Prefer\xeancias do blog "}),Object(v.jsx)("h3",{children:"(Em desenvolvimento)"})]})}),ee=(n(73),n(28)),te=n.n(ee),ne={email:"",password:""},ce="".concat(u.OPEN_API_URL,"/users/login"),ae="".concat(u.OPEN_API_URL,"/users/loginWithGoogle"),ie=function(e){var t=Object(i.useState)(ne),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useContext)(p).updateLoggedUser,s=Object(i.useState)(""),r=Object(d.a)(s,2),l=r[0],u=r[1],m=Object(N.f)();function f(e,t){a(Object(h.a)(Object(h.a)({},c),{},Object(J.a)({},t,e.target.value)))}function O(e,t){u(e),document.getElementById(t).focus()}return Object(v.jsxs)("div",{className:"Login",children:[Object(v.jsx)(te.a,{className:"google-login",clientId:"858076946609-f75tmm9sabls2466eftkrv48podsqqni.apps.googleusercontent.com",buttonText:"Continuar com o Google",onSuccess:function(e){console.log("Dentro de loginWithGoogleSuccessfully"),console.log(e);var t=e.profileObj,n=t.email,c=t.name,a=t.imageUrl,i=e.accessToken;console.log(n,c,a,i),j.a.post(ae,{email:n,name:c,imageUrl:a,tokenGoogle:i}).then((function(e){var t={userProfile:e.data.userProfile,token:e.data.token,validToken:e.data.valid};o(t),m("/blog-jorlane/",{replace:!0})})).catch((function(e){O(e.response.data.message,"user-email")}))},onFailure:function(e){console.log("Dentro de loginWithGoogleFailed"),console.log(e)}}),Object(v.jsxs)("form",{className:"form-login",children:[Object(v.jsx)("label",{htmlFor:"user-email",children:"Email:"}),Object(v.jsx)("input",{type:"email",id:"user-email",name:"user-email",value:c.email,onChange:function(e){return f(e,"email")}}),Object(v.jsx)("label",{htmlFor:"user-password",children:"Senha:"}),Object(v.jsx)("input",{type:"password",id:"user-password",name:"user-password",value:c.password,onChange:function(e){return f(e,"password")}}),Object(v.jsx)("div",{id:"message-alert",children:l}),Object(v.jsx)("button",{className:"btn-login",onClick:function(e){return function(e){j.a.post(ce,c).then((function(e){var t={userProfile:e.data.userProfile,token:e.data.token,validToken:e.data.valid};o(t),m("/blog-jorlane/",{replace:!0})})).catch((function(e){O(e.response.data.message,"user-email")})),e.preventDefault()}(e)},children:"Entrar"})]}),Object(v.jsxs)("div",{className:"link-new-account",children:[Object(v.jsx)(b.b,{to:"/blog-jorlane/signup",children:"Clique aqui"})," para criar uma conta!"]})]})},oe=(n(74),{name:"",email:"",password:"",confirmPassword:""}),se="".concat(u.OPEN_API_URL,"/users/signup"),re=function(e){var t=Object(i.useState)(oe),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useContext)(p).updateLoggedUser,s=Object(i.useState)(""),r=Object(d.a)(s,2),l=r[0],u=r[1],m=Object(N.f)();function b(e,t){a(Object(h.a)(Object(h.a)({},c),{},Object(J.a)({},t,e.target.value))),""!==l&&u("")}function f(e){j.a.post(se,c).then((function(e){var t={userProfile:e.data.userProfile,token:e.data.token,validToken:e.data.valid};o(t),m("/",{replace:!0})})).catch((function(e){var t,n,c="user-email";"password"===e.response.data.column?c="user-password":"name"===e.response.data.column&&(c="user-name"),t=e.response.data.message,n=c,u(t),document.getElementById(n).focus()})),e.preventDefault()}return Object(v.jsx)("div",{className:"Signup",children:Object(v.jsxs)("form",{className:"form-signup",children:[Object(v.jsx)("label",{htmlFor:"user-name",children:"Nome:"}),Object(v.jsx)("input",{type:"name",id:"user-name",name:"user-name",value:c.name,onChange:function(e){return b(e,"name")}}),Object(v.jsx)("label",{htmlFor:"user-email",children:"Email:"}),Object(v.jsx)("input",{type:"email",id:"user-email",name:"user-email",value:c.email,onChange:function(e){return b(e,"email")}}),Object(v.jsx)("label",{htmlFor:"user-password",children:"Senha:"}),Object(v.jsx)("input",{type:"password",id:"user-password",name:"user-password",value:c.password,onChange:function(e){return b(e,"password")}}),Object(v.jsx)("label",{htmlFor:"user-password",children:"Confirma\xe7\xe3o de senha:"}),Object(v.jsx)("input",{type:"password",id:"confirm-password",name:"confirm-password",value:c.confirmPassword,onChange:function(e){return b(e,"confirmPassword")}}),Object(v.jsx)("div",{id:"message-alert",children:l}),Object(v.jsx)("button",{className:"btn-signup",onClick:function(e){return f(e)},children:"Registrar"})]})})},le=(n(75),function(e){var t=Object(i.useState)(f),n=Object(d.a)(t,1)[0],c=Object(i.useContext)(p).updateLoggedUser,a=Object(N.f)();return Object(i.useEffect)((function(){c({userProfile:f.profileLoggedUser,token:"",validToken:!1}),a("/blog-jorlane",{replace:!0})}),[n,a,c]),Object(v.jsx)("div",{className:"Logout"})}),de=(n(76),n(77),function(e){return Object(v.jsxs)("div",{className:"ToolbarArticle",id:"toolbar-".concat(e.itemId),children:[e.isRemoveButtonVisible&&Object(v.jsx)("button",{className:"button-remove-section material-icons-outlined",onClick:function(){return e.handleRemoveSection(e.itemId)},children:"remove_circle_outline"}),Object(v.jsx)("button",{className:"button-add-section material-icons-outlined",onClick:function(){document.getElementById("btn-section-".concat(e.itemId)).classList.toggle("active")},children:"add_circle_outline"}),Object(v.jsxs)("div",{className:"buttons-section",id:"btn-section-".concat(e.itemId),children:[Object(v.jsx)("button",{title:"Subt\xedtulo",className:"btn-toolbar btn-subtitle material-icons-outlined",onClick:function(){return e.handleAddSection("caption",e.divParent)},children:"short_text"}),Object(v.jsx)("button",{title:"Imagem",className:"btn-toolbar btn-picture material-icons-outlined",onClick:function(){return e.handleAddSection("image",e.divParent)},children:"image"}),Object(v.jsx)("button",{title:"Par\xe1grafo",className:"btn-toolbar btn-paragraph material-icons-outlined",onClick:function(){return e.handleAddSection("paragraph",e.divParent)},children:"notes"}),Object(v.jsx)("button",{title:"Lista",className:"btn-toolbar btn-list material-icons-outlined",onClick:function(){return e.handleAddSection("list",e.divParent)},children:"list"}),Object(v.jsx)("button",{title:"Cita\xe7\xe3o",className:"btn-toolbar btn-quote material-icons-outlined",onClick:function(){return e.handleAddSection("quote",e.divParent)},children:"format_quote"}),Object(v.jsx)("button",{title:"C\xf3digo-fonte",className:"btn-toolbar btn-code material-icons-outlined",onClick:function(){return e.handleAddSection("code",e.divParent)},children:"code"})]})]})}),ue=(n(78),function(e){var t=Object(i.useState)(e.initText||""),n=Object(d.a)(t,2),c=n[0],a=n[1];function o(){var t=document.getElementById(e.itemId);if(t)for(;t.scrollHeight>t.offsetHeight;)console.log("e.target.scrollHeight => ",t.scrollHeight),console.log("e.target.offsetHeight => ",t.offsetHeight),t.rows++}return Object(v.jsxs)("div",{className:"Article-Section",sectiontype:"Paragraph",value:c,id:"div_".concat(e.itemId),children:[Object(v.jsx)("textarea",{className:"input-paragraph",id:e.itemId,type:"text",placeholder:"par\xe1grafo...",multiple:!0,onKeyUp:function(t){return e.onKeyUp(t,e.divParent)},onKeyPress:function(e){e.key&&"ENTER"===e.key.toUpperCase()&&e.preventDefault()},onChange:function(e){o(),a(e.target.value)},onFocus:function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.paragraph_id)).classList.add("active"),o()},value:c}),Object(v.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.paragraph_id),children:e.menu})]})}),me=(n(79),function(e){var t=Object(i.useState)(e.initTitle),n=Object(d.a)(t,2),c=n[0],a=n[1];function o(t){!function(){var t=document.getElementById(e.itemId);if(t)for(;t.scrollHeight>t.offsetHeight;)t.rows++}(),a(t.target.value)}return Object(v.jsxs)("div",{className:"Title",children:[Object(v.jsx)("textarea",{className:"input-title",id:e.itemId,type:"text",placeholder:"T\xedtulo...",value:c,maxLength:"80",autoComplete:"off",multiple:!0,onKeyUp:function(t){return e.handleKeyUp(t,e.divParent)},onKeyDown:e.handleKeyDown,onKeyPress:e.handleKeyPress,onFocus:function(t){return function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.itemId)).classList.add("active")}()},onChange:function(e){return o(e)}}),Object(v.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.itemId),children:e.menu})]})}),je=(n(80),function(e){var t=Object(i.useState)(e.initText||""),n=Object(d.a)(t,2),c=n[0],a=n[1];return Object(v.jsxs)("div",{className:"Article-Section",sectiontype:"Caption",value:c,id:"div_".concat(e.itemId),children:[Object(v.jsx)("input",{className:"input-caption",id:e.itemId,type:"text",placeholder:"Subt\xedtulo...",multiple:!1,onKeyUp:function(t){return e.onKeyUp(t,e.divParent)},onKeyPress:function(e){e.key&&"ENTER"===e.key.toUpperCase()&&e.preventDefault()},onChange:function(e){a(e.target.value)},onFocus:function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.caption_id)).classList.add("active")},value:c}),Object(v.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.caption_id),children:e.menu})]})}),be=(n(81),"".concat(u.OPEN_API_URL,"/sectionInArticle/image/")),he=function(e){var t=Object(i.useState)(e.initText||""),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)(""),s=Object(d.a)(o,2),r=s[0],l=s[1],m=Object(i.useRef)(null),b=Object(i.useState)(!0),h=Object(d.a)(b,1)[0],f=Object(i.useState)(null),O=Object(d.a)(f,2),g=O[0],p=O[1];function x(){for(var t=document.getElementsByClassName("item-toolbar"),n=0;n<t.length;n++)t[n].classList.remove("active");document.getElementById("item-toolbar-".concat(e.image_id)).classList.add("active")}return Object(i.useEffect)((function(){e.src&&""!=e.src?(document.getElementById("image-container-".concat(e.itemId)).classList.add("active"),l("".concat(u.IMAGE_URL_API,"/article/").concat(e.src))):(l(""),function(t){var n=document.getElementById("select-image-".concat(t));n.click(),n.addEventListener("change",(function(){if(n.files.length>0){var c=new FileReader;c.onloadend=function(n){var c=document.getElementById(t);c.src=n.target.result,c.click(),document.getElementById("image-container-".concat(e.itemId)).classList.add("active")},c.readAsDataURL(n.files[0])}}))}(e.itemId))}),[h]),Object(v.jsxs)("div",{className:"Article-Section",sectiontype:"Image",filename:e.src,value:c,buttonupload:"button-upload-".concat(e.itemId),id:"div_".concat(e.itemId),children:[Object(v.jsx)("div",{className:"image-div",children:Object(v.jsxs)("div",{className:"image-container",id:"image-container-".concat(e.itemId),children:[Object(v.jsx)("img",{className:"input-image",id:e.itemId,src:r,alt:c,onClick:function(e){if(x(),!g&&m.current.files.length>=1){var t,n=new FormData,c=Object(K.a)(m.current.files);try{for(c.s();!(t=c.n()).done;){var a=t.value;n.append("file",a)}}catch(i){c.e(i)}finally{c.f()}p(n)}}}),Object(v.jsx)("textarea",{className:"image-subtitle",type:"text",placeholder:"Legenda...",multiple:!0,value:c,onChange:function(e){a(e.target.value)},onFocus:x})]})}),Object(v.jsx)("form",{action:"",children:Object(v.jsx)("input",{className:"invisible-select-image",id:"select-image-".concat(e.itemId),type:"file",accept:"image/png, image/jpeg",ref:m})}),Object(v.jsx)("button",{className:"button-upload-image",id:"button-upload-".concat(e.itemId),onClick:function(){if(m.current.files.length>=1){var t,n=new FormData,a=Object(K.a)(m.current.files);try{for(a.s();!(t=a.n()).done;){var i=t.value;n.append("file",i)}}catch(o){a.e(o)}finally{a.f()}n&&j.a.post(be,n).then((function(t){e.saveImageFileName&&e.saveImageFileName("div_".concat(e.itemId),t.data.filename,c)}))}else e.src&&e.saveImageFileName("div_".concat(e.itemId),e.src,c)},children:"salvar imagem"}),Object(v.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.image_id),children:e.menu})]})},fe=(n(82),1),Oe=function(e){var t=Object(i.useState)(e.initList||[]),n=Object(d.a)(t,1)[0],c=Object(i.useState)(!0),a=Object(d.a)(c,1)[0];function o(t){fe++;var n=document.createElement("li"),c="section_".concat(e.itemId,"_li_").concat(fe);n.id=c,document.getElementById(e.itemId).appendChild(n);var a=document.createElement("input");a.type="text",a.placeholder="Novo item...",a.setAttribute("parentid",c),a.value=t&&""!==t?t:"",a.classList.add("input-list-item"),a.classList.add("input-list-item-".concat(e.itemId)),a.addEventListener("keypress",r,!1),document.getElementById("section_".concat(e.itemId,"_li_").concat(fe)).appendChild(a),a.focus()}function s(){for(var t=document.getElementsByClassName("input-list-item-".concat(e.itemId)),n=[],c=0;c<t.length;c++)n.push(t[c].value);return n}function r(t){t.key&&"ENTER"===t.key.toUpperCase()&&(""===t.target.value?(t.preventDefault(),e.onKeyUp(t,e.divParent)):o())}return Object(i.useEffect)((function(){if(e.initList)for(var t=0;t<e.initList.length;t++)o(e.initList[t]);else o();e.setCallbackGetList&&e.setCallbackGetList(e.itemId,s)}),[a]),Object(v.jsxs)("div",{className:"Article-Section",itemID:e.itemId,sectiontype:"List",value:n,id:"div_".concat(e.itemId),children:[Object(v.jsx)("ul",{className:"input-list",id:e.itemId,type:"text",onKeyDown:function(t){!function(e){e.target.scrollHeight>e.target.offsetHeight&&(console.log("e.target.scrollHeight => ",e.target.scrollHeight),console.log("e.target.offsetHeight => ",e.target.offsetHeight),e.target.rows++)}(t);var n=t.key;if(("BACKSPACE"===n.toUpperCase()||"DELETE"===n.toUpperCase())&&""===t.target.value){var c=document.getElementById(t.target.getAttribute("parentid")),a=document.getElementById(e.itemId);a.removeChild(c),a&&a.lastChild&&a.lastChild.firstChild?(a.lastChild.firstChild.focus(),t.preventDefault()):e.handleRemoveSection(e.itemId)}},onChange:function(e){},onClick:function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.itemId)).classList.add("active")}}),Object(v.jsx)("div",{className:"item-toolbar toolbar-list",id:"item-toolbar-".concat(e.itemId),children:e.menu})]})},ge=(n(83),function(e){var t=Object(i.useState)(e.initText||""),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)(e.complement||""),s=Object(d.a)(o,2),r=s[0],l=s[1];function u(){var t=document.getElementById(e.itemId);if(t)for(;t.scrollHeight>t.offsetHeight;)console.log("e.target.scrollHeight => ",t.scrollHeight),console.log("e.target.offsetHeight => ",t.offsetHeight),t.rows++}return Object(v.jsxs)("div",{className:"Article-Section",sectiontype:"Quote",value:c,author:r,id:"div_".concat(e.itemId),children:[Object(v.jsx)("div",{className:"div-quote-area",children:Object(v.jsxs)("div",{className:"group-quote-items",children:[Object(v.jsx)("span",{className:"quotation-mark",children:'"'}),Object(v.jsx)("textarea",{className:"input-quote",id:e.itemId,type:"text",placeholder:"Cita\xe7\xe3o...",multiple:!0,onKeyUp:function(t){return e.onKeyUp(t,e.divParent)},onKeyPress:function(e){e.key&&"ENTER"===e.key.toUpperCase()&&e.preventDefault()},onChange:function(e){a(e.target.value),u()},onFocus:function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.quote_id)).classList.add("active"),u()},value:c}),Object(v.jsx)("span",{className:"quotation-mark rigth",children:'"'}),Object(v.jsx)("input",{className:"quote-author",type:"text",placeholder:"Autor...",value:r,onChange:function(e){l(e.target.value)}})]})}),Object(v.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.quote_id),children:e.menu})]})}),ve=(n(84),function(e){var t=Object(i.useState)(e.initText||""),n=Object(d.a)(t,2),c=n[0],a=n[1];function o(){var t=document.getElementById(e.itemId);if(t)for(;t.scrollHeight>t.offsetHeight;)console.log("e.target.scrollHeight => ",t.scrollHeight),console.log("e.target.offsetHeight => ",t.offsetHeight),t.rows++}return Object(v.jsxs)("div",{className:"Article-Section",sectiontype:"CODE",value:c,id:"div_".concat(e.itemId),children:[Object(v.jsx)("div",{className:"div-source-area",children:Object(v.jsx)("textarea",{className:"input-sourcecode",id:e.itemId,type:"text",placeholder:"C\xf3digo fonte...",multiple:!0,onKeyPress:function(e){},onChange:function(e){a(e.target.value),o()},onFocus:function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.sourcecode_id)).classList.add("active"),o()},value:c})}),Object(v.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.sourcecode_id),children:e.menu})]})}),pe="".concat(u.API_URL,"/articles"),xe="".concat(u.API_URL,"/sectionInArticle"),Ne=0,Ie={id:null,writerId:null,title:"",categoryId:null,htmlFilePath:"sem html",route:"sem rota"},Ce=Object(h.a)({},Ie),ye=[],ke=[],Ee=[],Ae=function(e){var t=Object(i.useContext)(p),n=t.setFooterContent,c=t.user,o=t.profileLoggedUser,s=t.showMessage,u=(t.setToolBarContent,Object(i.useState)([])),m=Object(d.a)(u,2),f=m[0],O=m[1],g=Object(i.useState)(null),x=Object(d.a)(g,2),N=x[0],I=x[1],C=Object(i.useState)(!0),y=Object(d.a)(C,1)[0];function k(e){return E.apply(this,arguments)}function E(){return(E=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(pe,"/").concat(t),{headers:{Authorization:c.token}}).then((function(e){Ce={id:e.data.id,writerId:e.data.writerId,title:e.data.title,categoryId:e.data.categoryId,status:e.data.status,statusDate:e.data.statusDate,htmlFilePath:e.data.htmlFilePath,route:e.data.route},I(e.data.categoryId),e.data.sectionsinarticles.map((function(e){S(e.sectionId.toUpperCase(),null,e)}))})).catch((function(e){console.log("error ====> ",e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){var t=document.getElementById("title");t&&(Ce.title=t.value);var n=e||Ce.status;"RETIRADO"===Ce.status&&(Ce.status="RASCUNHO"),Ce.id?j.a.put(pe,Ce,{headers:{Authorization:c.token}}).then((function(e){"RETIRADO"===n?"PUBLICADO"===Ce.status?s("info","Artigo republicado sem altera\xe7\xe3o!"):s("info","Artigo salvo como rascunho!"):(_(Ce.id),s("info","Artigo salvo com sucesso!")),ke&&ke.length>0&&j.a.post("".concat(xe,"/images"),ke,{headers:{Authorization:c.token}}).then((function(e){ke=[]})).catch((function(e){s("error","Ocorreu um erro. Contate o administrador!")}))})).catch((function(e){s("error","Erro ao salvar artigo: Contate administrador!"),console.log("Erro: ",e.response.data.message)})):(Ce.writerId=o.id,j.a.post(pe,Ce,{headers:{Authorization:c.token}}).then((function(e){Ce.id=e.data.id,_(e.data.id),s("info","Artigo salvo com sucesso!")})).catch((function(e){s("error","Ocorreu um erro. Contate o Administrador!"),console.log("Erro: ",e.response.data.message)})))}function _(e){ye=[],j.a.delete("".concat(pe,"/sections/").concat(e),{headers:{Authorization:c.token}}).then((function(t){!function(e){for(var t=document.getElementsByClassName("Article-Section"),n=0;n<t.length;n++){var a=t[n],i=a.getAttribute("sectiontype").toUpperCase(),o=n+1;if("IMAGE"===i)w(a,e,o);else{var r=a.getAttribute("value"),l="";if("LIST"===i)for(var d=a.getAttribute("itemId"),u=0;u<Ee.length;u++){var m=Ee[u];m.itemId===d&&(r=m.getListFunction().join("#!#"))}else"QUOTE"===i&&(l=a.getAttribute("author"));var b={articleId:e,sectionId:i,text:r,complement:l,sequence:o};j.a.post(xe,b,{headers:{Authorization:c.token}}).then((function(e){console.log("SectionInArticle salvo com sucesso.")})).catch((function(e){console.log("Error => ",e.response.data.message),s("error","Ocorreu um erro. Contate o administrador!")}))}}}(e)})).catch((function(e){console.log("Ocorreu um erro ao salvar o artigo. Contate o administrador!",e)}))}function w(e,t,n){var c=e.getAttribute("id"),a=e.getAttribute("buttonupload"),i=document.getElementById(a),o={sectionId:c,articleId:t,sequence:n};ye.push(o),i.click()}function L(e,t,n){for(var a=0;a<ye.length;a++)if(ye[a].sectionId===e){var i={articleId:ye[a].articleId,sectionId:"IMAGE",text:n,imagePath:t,sequence:ye[a].sequence};j.a.post(xe,i,{headers:{Authorization:c.token}}).then((function(e){console.log("SectionInArticle salvo com sucesso. ")})).catch((function(e){s("error","Ocorreu um erro. Contate o administrador!")}))}}function P(){var e=document.getElementById("title");if(e&&(Ce.title=e.value),Ce.title&&""!==Ce.title){var t=Ce.status;Ce.status="PUBLICADO",A(t)}else{s("error","Por favor, informe um t\xedtulo para o artigo!"),document.getElementById("title").focus()}}function S(e,t,n){switch(e.toUpperCase()){case"PARAGRAPH":B(t,n);break;case"CAPTION":!function(e,t){var n=R(e,t),c=n.divItem,i=n.sequenceId,o=n.itemId,s=n.initText;a.a.render(Object(v.jsx)(je,{caption_id:i,itemId:o,divParent:c.id,onKeyUp:D,initText:s,menu:Object(v.jsx)(de,{id:"nav-add-section",itemId:o,handleAddSection:S,handleRemoveSection:U,isRemoveButtonVisible:!0,divParent:c.id})}),c),document.getElementById(o).focus(),c.id}(t,n);break;case"IMAGE":!function(e,t){var n=R(e,t),c=n.divItem,i=n.sequenceId,o=n.itemId,s=n.initText,r=n.imagePath;a.a.render(Object(v.jsx)(he,{image_id:i,itemId:o,divParent:c.id,initText:s,src:r,saveImageFileName:L,menu:Object(v.jsx)(de,{id:"nav-add-section",itemId:o,handleAddSection:S,handleRemoveSection:U,isRemoveButtonVisible:!0,divParent:c.id})}),c),c.id}(t,n);break;case"LIST":!function(e,t){var n=R(e,t),c=n.divItem,i=n.sequenceId,o=n.itemId,s=n.initText.split("#!#");a.a.render(Object(v.jsx)(Oe,{paragraph_id:i,itemId:o,divParent:c.id,onKeyUp:D,initList:s,setCallbackGetList:T,handleRemoveSection:U,menu:Object(v.jsx)(de,{id:"nav-add-section",itemId:o,handleAddSection:S,handleRemoveSection:U,isRemoveButtonVisible:!0,divParent:c.id})}),c),document.getElementById(o).click(),c.id}(t,n);break;case"QUOTE":!function(e,t){var n=R(e,t),c=n.divItem,i=n.sequenceId,o=n.itemId,s=n.initText,r=n.complement;a.a.render(Object(v.jsx)(ge,{quote_id:i,itemId:o,divParent:c.id,onKeyUp:D,initText:s,complement:r,menu:Object(v.jsx)(de,{id:"nav-add-section",itemId:o,handleAddSection:S,handleRemoveSection:U,isRemoveButtonVisible:!0,divParent:c.id})}),c),document.getElementById(o).focus(),c.id}(t,n);break;case"CODE":!function(e,t){var n=R(e,t),c=n.divItem,i=n.sequenceId,o=n.itemId,s=n.initText;a.a.render(Object(v.jsx)(ve,{sourcecode_id:i,itemId:o,divParent:c.id,onKeyUp:D,initText:s,menu:Object(v.jsx)(de,{id:"nav-add-section",itemId:o,handleAddSection:S,handleRemoveSection:U,isRemoveButtonVisible:!0,divParent:c.id})}),c),document.getElementById(o).focus(),c.id}(t,n)}}function U(e){var t=document.getElementById("div_"+e),n=t.getAttribute("sectiontype");if(n&&"IMAGE"===n.toUpperCase()){var c=t.getAttribute("filename");c&&""!=c&&ke.push(c)}t.remove()}function R(e,t){var n="",c="",a="";t&&(n=t.text||"",c=t.complement||"",a=t.imagePath||"");var i=document.getElementById("article-body");Ne++;var o=document.createElement("div"),s="section_".concat(Ne);if(o.id="div_"+Ne,e)if("div-title"===e){var r=i.firstElementChild;r?i.insertBefore(o,r):i.appendChild(o)}else{var l=document.getElementById(e);i.insertBefore(o,l.nextSibling)}else i.appendChild(o);return{divItem:o,sequenceId:Ne,itemId:s,initText:n,complement:c,imagePath:a}}function B(e,t){var n=R(e,t),c=n.divItem,i=n.sequenceId,o=n.itemId,s=n.initText;return a.a.render(Object(v.jsx)(ue,{paragraph_id:i,itemId:o,divParent:c.id,onKeyUp:D,initText:s,menu:Object(v.jsx)(de,{id:"nav-add-section",itemId:o,handleAddSection:S,handleRemoveSection:U,isRemoveButtonVisible:!0,divParent:c.id})}),c),document.getElementById(o).focus(),c.id}function T(e,t){var n={itemId:e,getListFunction:t};Ee.push(n)}function D(e,t){e.key&&"ENTER"===e.key.toUpperCase()&&B(t)}function F(e){e.target.scrollHeight>e.target.offsetHeight&&e.target.rows++}function q(e){e.key&&"ENTER"===e.key.toUpperCase()&&e.preventDefault()}function H(e){return z.apply(this,arguments)}function z(){return(z=Object(l.a)(r.a.mark((function e(t){var n,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("div-title"),c="title",e.next=4,a.a.render(Object(v.jsx)(me,{id:"input-title",handleKeyUp:D,handleKeyDow:F,handleKeyPress:q,itemId:c,initTitle:t||"",divParent:"div-title",menu:Object(v.jsx)(de,{id:"nav-add-section",itemId:c,handleAddSection:S,isRemoveButtonVisible:!1,divParent:"div-title"})}),n);case 4:return(i=document.getElementById(c))&&i.focus(),e.abrupt("return",n.id);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)(Object(l.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ye=[],Ee=[],Ce=Object(h.a)({},Ie),!(t=window.location.search)||""==t.trim()){e.next=9;break}if(null==(c=t.replace("?param=","").trim())||""==c){e.next=9;break}return e.next=9,k(c);case 9:H(Ce.title),n(Object(v.jsxs)("div",{className:"profile_footer",children:[Object(v.jsxs)("div",{id:"btn-undo",className:"button-link",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",children:"undo"}),Object(v.jsx)("span",{children:"Desfazer"})]}),Object(v.jsxs)("div",{id:"btn-save-draft",className:"button-link",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:A,children:"save"}),Object(v.jsx)("span",{children:"Salvar"})]}),Object(v.jsxs)("div",{id:"btn-publish",className:"button-link",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:P,children:"public"}),Object(v.jsx)("span",{children:"Publicar"})]}),Object(v.jsxs)(b.b,{className:"button-link",to:"/blog-jorlane/myarticles",children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:" library_books "}),Object(v.jsx)("label",{children:"Meus Artigos"})]})]})),M().then((function(e){var t=[];e.forEach((function(e){t.push(e.category),e.children&&e.children.forEach((function(e){t.push(e)}))})),O(t)})).catch((function(e){return console.log("Erro ao ler categorias: ",e.message)}));case 12:case"end":return e.stop()}}),e)}))),[y]),Object(v.jsxs)("div",{className:"Article",children:[Object(v.jsxs)("div",{className:"div-category",children:[Object(v.jsx)("label",{htmlFor:"categories",children:" Categoria: "}),Object(v.jsx)("select",{id:"categories",className:"category-select",onChange:function(e){Ce.categoryId=e.target.value,I(e.target.value)},value:N,children:f.map((function(e){return e.categoryParent?Object(v.jsxs)("option",{value:e.id,children:["\xa0\xa0\xa0\xa0","".concat(e.name)]},e.id):Object(v.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(v.jsx)("div",{id:"div-title"}),Object(v.jsx)("div",{id:"article-body"})]})},_e=(n(85),n(86),function(e){var t=Object(i.useState)(function(){var t="";t="PUBLICADO"===e.article.status.toUpperCase()?"Publicado em "+I(e.article.statusDate):"RETIRADO"===e.article.status.toUpperCase()?"Retirado do ar em "+I(e.article.statusDate):"Criado em "+I(e.article.statusDate);return t}()),n=Object(d.a)(t,2),c=n[0];n[1];return Object(v.jsx)("div",{className:"",children:Object(v.jsxs)("div",{className:"MyArticlesItem",children:[Object(v.jsxs)("div",{className:"div-content-article",onClick:function(){return e.handleClickArticleItem(e.article.id)},children:[Object(v.jsx)("div",{className:"title",children:e.article.title}),Object(v.jsxs)("div",{className:"div-details",children:[Object(v.jsx)("div",{className:"status",children:c}),Object(v.jsx)("div",{className:"comments",children:"Sem coment\xe1rios"}),Object(v.jsx)("div",{className:"likes",children:"Sem curtidas"})]})]}),Object(v.jsx)("div",{className:"div-buttons",children:Object(v.jsx)("div",{className:"button-delete-article material-icons-outlined",onClick:function(){return e.deleteArticle(e.article)},children:"delete"})})]},"key_".concat(e.article.id))})}),we="".concat(u.API_URL,"/articles"),Le=function(e){var t=Object(i.useState)([]),n=Object(d.a)(t,2),c=n[0],a=n[1],o=Object(i.useState)("RASCUNHO"),s=Object(d.a)(o,2),r=s[0],l=s[1],u=Object(i.useState)("Artigos no Rascunho"),m=Object(d.a)(u,2),b=m[0],h=m[1],f=Object(i.useState)(e.refresh||!0),O=Object(d.a)(f,1)[0],g=Object(i.useContext)(p),x=g.setFooterContent,I=g.setToolBarContent,C=g.user,y=g.profileLoggedUser,k=g.showMessage,A=g.showModal,_=g.closeModal,w=Object(N.f)();function L(e){w("/blog-jorlane/article?param=".concat(e))}function P(){var e="draftArticlesByWriter";switch(r){default:e="draftArticlesByWriter";break;case"PUBLICADO":e="publishedArticlesByWriter";break;case"RETIRADO":e="unpublisheArticlesByWriter"}j.a.get("".concat(we,"/").concat(e,"/").concat(y.id),{headers:{Authorization:C.token}}).then((function(e){200===e.status?a(e.data):a([])})).catch((function(e){console.log("Erro ao selecionar articles => ",e)}))}function S(e){if("PUBLICADO"===e.status){var t='Tem certeza que deseja retirar do ar o artigo "'+e.title+'"? ';A(Object(v.jsx)(z,{message:t,confirm:function(){return function(e){var t=e;e.status="RETIRADO",j.a.put(we,t,{headers:{Authorization:C.token}}).then((function(e){k("info","O Artigo foi retirado do ar com sucesso!")})).catch((function(e){k("error","Erro retirar o artigo do ar: Contate administrador!"),console.log("Erro: ",e.response.data.message)})),_()}(e)},close:function(){return _()},cancel:function(){return _()}}),"center")}else{var n='Tem certeza que deseja excluir o artigo "'+e.title+'"? ';A(Object(v.jsx)(z,{message:n,confirm:function(){return t=e.id,j.a.delete("".concat(we,"/").concat(t),{headers:{Authorization:C.token}}).then((function(e){console.log("Depois de deletar o artigo: ",e),P()})).catch((function(e){console.log("Erro ao selecionar articles => ",e)})),void _();var t},close:function(){return _()},cancel:function(){return _()}}),"center")}}function U(e,t,n){if(l(e),h(t),n){for(var c=document.getElementsByClassName("button-link"),a=0;a<c.length;a++)c[a].classList.remove("active");document.getElementById(n).classList.add("active")}}return Object(i.useEffect)((function(){var e=window.location.search;e&&""!==e.trim()&&l(e.replace("?param=","").trim()),P(),I(null),x(Object(v.jsxs)("div",{className:"profile_footer",children:[Object(v.jsxs)("div",{id:"btn-list-draft",className:"button-link active",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(e){return U("RASCUNHO","Artigos no Rascunho","btn-list-draft")},children:"receipt"}),Object(v.jsx)("span",{children:"Rascunhos"})]}),Object(v.jsxs)("div",{id:"btn-list-published",className:"button-link",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(e){return U("PUBLICADO","Artigos Publicados","btn-list-published")},children:"task"}),Object(v.jsx)("span",{children:"Publicados"})]}),Object(v.jsxs)("div",{id:"btn-list-unpublished",className:"button-link",children:[Object(v.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(e){return U("RETIRADO","Artigos Retirados do Ar","btn-list-unpublished")},children:"unpublished"}),Object(v.jsx)("span",{children:"Retirados"})]})]}))}),[O,r]),Object(v.jsxs)("div",{className:"MyArticles",children:[Object(v.jsx)("div",{className:"tab-title",children:b}),"PUBLICADO"===r?Object(v.jsx)(E,{writerIdOnly:y.id}):Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"list-articles",children:c.map((function(e,t){return Object(v.jsx)(_e,{article:e,handleClickArticleItem:L,deleteArticle:S},"item_".concat(t))}))}),Object(v.jsx)("button",{id:"button-add-article",className:"btn-add-item material-icons-outlined",onClick:function(){return w("/blog-jorlane/article")},children:"add_circle_outline"})]})]})},Pe=(n(87),function(e){return Object(v.jsx)("div",{className:"PageError",children:Object(v.jsx)("p",{children:e.message})})}),Se=function(e){var t=Object(i.useContext)(p).user;return t.validToken?t.isAdministrator?e.element:Object(v.jsx)(Pe,{message:"Acesso n\xe3o permitido! Por favor, entre em contato com o administrador do sistema!"}):Object(v.jsx)(ie,{})},Ue=function(e){return Object(i.useContext)(p).user.validToken?e.element:Object(v.jsx)(ie,{})},Re=(n(88),function(e){var t=Object(i.useContext)(p).setFooterContent;return Object(i.useEffect)((function(){t(null)})),Object(v.jsxs)("div",{className:"Indicators",children:[Object(v.jsx)("h2",{children:"Indicadores"}),Object(v.jsx)("h3",{children:"(Em desenvolvimento)"})]})}),Be=(n(89),n(90),function(e){var t=Object(i.useContext)(p),n=(t.setFooterContent,t.showMessage),c=(t.user,Object(i.useState)("nome do usu\xe1rio")),a=Object(d.a)(c,2),o=a[0],s=a[1],r=Object(i.useState)(""),l=Object(d.a)(r,2),m=l[0],b=l[1],h=Object(i.useState)("dd/mm/yyyy"),f=Object(d.a)(h,2),O=f[0],g=f[1],x=Object(i.useState)(!0),N=Object(d.a)(x,1)[0];return Object(i.useEffect)((function(){g(I(e.following.startDateConnection)),j.a.get("".concat(u.OPEN_API_URL,"/users/")+e.following.writerId).then((function(e){console.log("Dentro de get Writer ===> resp.data = ",e.data),200===e.status&&(s(e.data.name),b("".concat(u.IMAGE_URL_API,"/").concat(e.data.photo||u.IMAGE_PROFILE_DEFAULT)))})).catch((function(e){n("error","Erro ao selecionar dados do escritor. Contate o administrador!"),console.log("Erro ao selecionar dados do escritor. Verifique o log do servidor.")}))}),[N]),Object(v.jsx)("div",{className:"ConnectionItem",children:Object(v.jsxs)("div",{className:"ConnectionItemMain",children:[Object(v.jsx)("div",{className:"leftColumnFollowing",children:Object(v.jsx)("img",{className:"img-view-profile-following",src:m,alt:""})}),Object(v.jsxs)("div",{className:"middleColumnFollowing",children:[Object(v.jsxs)("div",{className:"div-user-connection",children:[o," "]}),Object(v.jsxs)("div",{className:"div-start-connection",children:["Seguindo desde ",O]})]}),Object(v.jsx)("div",{className:"rightColumnFollowing",children:Object(v.jsxs)("div",{className:"button-remove-connection",onClick:function(){return e.removeConnection(e.following.writerId,o)},children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"cancel"}),Object(v.jsx)("span",{className:"text-button-remove-connection",children:"Deixar de Seguir"})]})})]})})}),Te=function(e){var t=Object(i.useContext)(p),n=t.showMessage,c=t.user,a=t.profileLoggedUser,o=t.showModal,s=t.closeModal,r=Object(i.useState)(0),l=Object(d.a)(r,2),m=l[0],b=l[1],h=Object(i.useState)([]),f=Object(d.a)(h,2),O=f[0],g=f[1],x=Object(i.useState)([]),N=Object(d.a)(x,2),I=N[0],C=N[1];function y(e,t){var a="Tem certeza que voc\xea quer deixar de seguir "+t+"?";o(Object(v.jsx)(z,{message:a,confirm:function(){!function(e){j.a.delete("".concat(u.API_URL,"/connections/").concat(e),{headers:{Authorization:c.token}}).then((function(e){n("info","Agora voc\xea n\xe3o est\xe1 mais seguindo esse escritor.")})).catch((function(e){n("error","Erro ao tentar remover conex\xe3o. Contate o administrador!")})),s(),b(m+1)}(e)},close:function(){return s()},cancel:function(){return s()}}),"center")}return Object(i.useEffect)((function(){!function(){var e=a.id;j.a.get("".concat(u.API_URL,"/connections/followers/")+e,{headers:{Authorization:c.token}}).then((function(e){var t=e.data;g(t)})).catch((function(e){n("error","Erro ao selecionar seguidores. Contate o administrador!"),console.log("Erro ao selecionar seguidores. Verifique o log do servidor.")}))}(),function(){var e=a.id;j.a.get("".concat(u.API_URL,"/connections/following/")+e,{headers:{Authorization:c.token}}).then((function(e){var t=e.data;C(t)})).catch((function(e){n("error","Erro ao selecionar quem o usu\xe1rio segue. Contate o administrador!"),console.log("Erro ao selecionar quem o usu\xe1rio segue. Verifique o log do servidor.")}))}()}),[m,a.id]),Object(v.jsxs)("div",{className:"Connections",children:[Object(v.jsxs)("div",{className:"connections-main",children:[Object(v.jsx)("h2",{children:"Gerencie suas conex\xf5es"}),Object(v.jsxs)("div",{className:"div-title-follow",children:["Voc\xea possui ",Object(v.jsx)("strong",{children:O.length})," seguidor(es)!"]}),Object(v.jsxs)("div",{className:"div-title-follow",children:["Voc\xea est\xe1 seguindo ",Object(v.jsxs)("strong",{children:[" ",I.length," "]})," escritor(es)!"]})]}),Object(v.jsxs)("div",{className:"div-following-list ".concat(I.length>0?"visible":"hidden"),children:[Object(v.jsx)("div",{className:"div-title-following-list",children:"Escritor(es) que voc\xea segue:"}),I.map((function(e){return Object(v.jsx)(Be,{following:e,removeConnection:y})}))]})]})},De=(n(91),n(92),function(e){return Object(v.jsxs)("div",{className:"ComplaintReason",children:[Object(v.jsxs)("div",{className:"header-confirmation",children:[Object(v.jsxs)("div",{className:"box-title",children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"flag_circle"}),Object(v.jsx)("p",{className:"title-message",children:"Den\xfancia do Coment\xe1rio"})]}),Object(v.jsx)("button",{className:"btn-exit",onClick:e.close,children:Object(v.jsx)("span",{className:"material-icons-outlined",children:"close"})})]}),Object(v.jsxs)("div",{className:"box-body-message",children:[Object(v.jsx)("div",{className:"message",children:e.message}),Object(v.jsxs)("div",{children:[Object(v.jsx)("textarea",{className:"text-reason",name:"reason",id:"reason",rows:"5"}),Object(v.jsx)("span",{className:"alert-validation-field",id:"alert-validation-id",children:"* por favor, informe o motivo da den\xfancia."})]}),Object(v.jsxs)("p",{className:"text-info",children:["Fique tranquilo, o denunciante ",Object(v.jsx)("strong",{children:" n\xe3o "})," \xe9 identificado."]}),Object(v.jsxs)("div",{className:"buttons-confirmation",children:[Object(v.jsxs)("button",{className:"btn-confirmation btn-no color-no background-no",onClick:e.cancel,children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"close"}),"Cancelar"]}),Object(v.jsxs)("button",{className:"btn-confirmation btn-yes color-yes background-yes",onClick:function(){var t=document.getElementById("reason"),n=document.getElementById("alert-validation-id");t.value&&""!=t.value.trim()&&"."!=t.value.trim()?e.confirm(e.commentId,t.value):(n.classList.add("visible"),t.classList.add("red-focus"),t.focus())},children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"done"}),"Confirmar"]})]})]})]})}),Fe={id:null,writerId:null,title:"teste de titulo",categoryId:1,htmlFilePath:"sem html",route:"sem rota",writer:{id:"",name:"",bioDescription:"",photo:""},sectionsinarticles:[]},Me=[],qe="".concat(u.OPEN_API_URL,"/articles"),He=function(e){var t=Object(i.useContext)(p),n=t.setFooterContent,c=t.profileLoggedUser,a=t.showModal,o=t.closeModal,s=t.user,m=t.showMessage,b=Object(i.useState)(Fe),h=Object(d.a)(b,2),f=h[0],O=h[1],g=Object(i.useState)(""),x=Object(d.a)(g,2),N=x[0],C=x[1],y=Object(i.useState)(""),k=Object(d.a)(y,2),E=k[0],A=k[1],_=Object(i.useState)(!0),w=Object(d.a)(_,1)[0],L=Object(i.useState)(null),P=Object(d.a)(L,2),S=P[0],U=P[1],R=Object(i.useState)(!1),B=Object(d.a)(R,2),T=B[0],D=B[1],F=Object(i.useState)([]),M=Object(d.a)(F,2),q=(M[0],M[1]),H=Object(i.useState)(Me),G=Object(d.a)(H,2),V=(G[0],G[1]),K=Object(i.useState)("Gostou do artigo?"),J=Object(d.a)(K,2),W=J[0],Q=J[1],X=Object(i.useState)(!1),Y=Object(d.a)(X,2),Z=Y[0],$=Y[1],ee=Object(i.useState)(""),te=Object(d.a)(ee,2),ne=te[0],ce=te[1],ae=Object(i.useState)(0),ie=Object(d.a)(ae,2),oe=(ie[0],ie[1]);function se(){return se=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(qe,"/").concat(t)).then(function(){var e=Object(l.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=11;break}return n=t.data,e.next=4,j.a.get("".concat(u.OPEN_API_URL,"/users/").concat(n.writerId)).then((function(e){var t=e.data;n.writer=t,U(t.id)}));case 4:O(n),n.writer&&(C("".concat(n.writer.name," em ").concat(I(n.statusDate))),A(n.writer.bioDescription||"")),de(n.id),ue(n.id),s&&s.validToken&&(a={userId:c.id,articleId:n.id},j.a.post("".concat(u.API_URL,"/interactions/registerReading/"),a,{headers:{Authorization:s.token}}).then((function(e){console.log("Leitura registrada => ",e)})).catch((function(e){console.log("Erro: ",e.response.data.message)}))),re(n.writerId),le(n.writerId);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("error ====> ",e)}));case 2:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}function re(e){s&&s.token&&""!=s.token&&j.a.get("".concat(u.API_URL,"/connections/")+e,{headers:{Authorization:s.token}}).then((function(e){200===e.status?$(!0):$(!1)})).catch((function(e){m("error","Erro ao tentar verificar se usu\xe1rio segue o escritor. Contate o administrador!")}))}function le(e){j.a.get("".concat(u.OPEN_API_URL,"/connections/qtdfollowers/")+e).then((function(t){200===t.status&&t.data.count>0?(oe(t.data.count),c.id===e?ce("Voc\xea tem "+t.data.count+" seguidor(es)!"):ce(t.data.count+" seguidor(es)!")):(oe(0),c.id===e?ce("Voc\xea"):ce(""))})).catch((function(e){m("error","Erro ao tentar verificar se usu\xe1rio segue o escritor. Contate o administrador!")}))}function de(e){j.a.get("".concat(u.OPEN_API_URL,"/comments/ ").concat(e)).then((function(e){var t=e.data;V(t),document.getElementById("div-comments").innerHTML="",t.map((function(e,t){je(e.text,e.user.name,e.date,e.id)}))})).catch((function(e){m("error","Erro ao selecionar coment\xe1rios. Contate o administrador!"),console.log("Erro ao selecionar coment\xe1rios. Verifique o log do servidor.")}))}function ue(e){j.a.get("".concat(u.OPEN_API_URL,"/interactions/").concat(e)).then((function(e){var t=!1,n=e.data.filter((function(e){if(e.like)return c&&c.id===e.userId&&(D(!0),t=!0),e}));q(n),D(t),function(e,t){Q(e>0?t?e>1?"Voc\xea e mais "+(e-1)+" pessoa(s) gostaram deste artigo":"Voc\xea gostou deste artigo":1===e?e+" pessoa gostou deste artigo":e+" pessoas gostaram deste artigo":"Gostou do artigo?")}(n.length,t)})).catch((function(e){m("error","Erro ao selecionar likes. Contate o administrador!"),console.log("Erro ao selecionar likes. Verifique o log do servidor.")}))}function me(){if(f&&c&&f.writerId===c.id){var e='Tem certeza que deseja retirar do ar o artigo "'+f.title+'"? ';a(Object(v.jsx)(z,{message:e,confirm:function(){return function(e){var t=e;e.status="RETIRADO",j.a.put("".concat(u.API_URL,"/articles"),t,{headers:{Authorization:s.token}}).then((function(e){m("info","O Artigo foi retirado do ar com sucesso!")})).catch((function(e){m("error","Erro retirar o artigo do ar: Contate administrador!"),console.log("Erro: ",e.response.data.message)})),o()}(f)},close:function(){return o()},cancel:function(){return o()}}),"center")}}function je(e,t,n,c){var i=document.getElementById("div-comments"),s=(i.firstChild,document.createElement("div"));s.className="div-group-comment";var r=document.createElement("div");r.className="header-comment";var l=document.createElement("div");if(l.innerText=t+" em "+I(n),r.appendChild(l),c){var d=document.createElement("div");d.className="button-complaint-article material-icons-outlined",d.addEventListener("click",(function(t){return function(e,t){var n=t;t.length>100&&(n=t.substring(0,97)+"...");var c='Por favor, informe o motivo para den\xfancia do coment\xe1rio "'+n+'":';a(Object(v.jsx)(De,{message:c,commentId:e,confirm:be,close:function(){return o()},cancel:function(){return o()}}),"center")}(c,e)})),d.innerText="flag_circle",r.appendChild(d)}var u=document.createElement("div");u.className="text-comment",u.innerText=e,s.appendChild(r),s.appendChild(u),i.appendChild(s)}function be(e,t){var n={commentId:e,reason:t};j.a.post("".concat(u.OPEN_API_URL,"/complaints/"),n).then((function(e){o(),m("info","Den\xfancia registrada. Ser\xe1 verificada pela nossa equipe.")})).catch((function(e){console.log("Erro ao registrar a den\xfancia. Contate o Administrador.")}))}return Object(i.useEffect)((function(){var e=window.location.search;if(e&&""!==e.trim()){var t=e.replace("?param=","").trim();null!==t&&""!==t&&function(e){se.apply(this,arguments)}(t)}var n=document.getElementById("div-edit-comments"),a=document.getElementById("div-comment-blocked");c.commentBlocked?(n.classList.add("hidden"),a.classList.add("visible")):(n.classList.remove("hidden"),a.classList.remove("visible"))}),[w,c.id]),Object(i.useEffect)((function(){n(null);var e=document.getElementById("button-unpublish-article");e.classList.remove("active"),S&&c&&S===c.id&&e.classList.add("active")}),[S]),Object(v.jsxs)("div",{className:"ArticleView",children:[Object(v.jsxs)("div",{className:"div-writer-article-view",children:[Object(v.jsx)("div",{className:"div-profile-img-article-view",children:Object(v.jsx)("img",{className:"image-profile-article-view",src:"".concat(u.IMAGE_URL_API,"/").concat(f.writer.photo||u.IMAGE_PROFILE_DEFAULT),alt:""})}),Object(v.jsxs)("div",{className:"div-details-article-view",children:[Object(v.jsx)("div",{className:"author-article-view",children:N}),Object(v.jsx)("p",{className:"bio-writer-article-view",children:E}),Object(v.jsx)("p",{className:"info-followers",children:ne}),c.id!=f.writerId&&Object(v.jsx)("a",{href:"#",className:"link-follow",onClick:function(e){if(s&&s.token&&c.id&&c.id!=f.writerId){var t={userId:c.id,writerId:f.writerId};Z?j.a.delete("".concat(u.API_URL,"/connections/")+f.writerId,{headers:{Authorization:s.token}}).then((function(e){m("info","Agora voc\xea n\xe3o est\xe1 mais seguindo esse escritor.")})).catch((function(e){m("error","Erro ao tentar deixar de seguir escritor. Contate o administrador!")})):j.a.post("".concat(u.API_URL,"/connections/"),t,{headers:{Authorization:s.token}}).then((function(e){m("info","Agora voc\xea est\xe1 seguindo esse escritor")})).catch((function(e){m("error","Erro ao tentar seguir escritor. Contate o administrador!")})),$(!Z)}else m("info","Para seguir um escritor, \xe9 necess\xe1rio efetuar o login.")},children:Z?"Seguindo (Deixar de seguir)":"(Seguir +)"})]})]}),Object(v.jsxs)("div",{className:"ArticleViewBody",children:[Object(v.jsx)("h2",{children:f.title}),f.sectionsinarticles.map((function(e,t){switch(e.sectionId){case"CAPTION":return Object(v.jsx)("h3",{children:e.text},"{h2_".concat(t,"}"));case"PARAGRAPH":return Object(v.jsx)("p",{children:e.text},"{p_".concat(t,"}"));case"IMAGE":return Object(v.jsxs)("div",{className:"div-img-view",children:[Object(v.jsx)("img",{className:"img-view",src:"".concat(u.IMAGE_URL_API,"/article/").concat(e.imagePath),alt:""}),Object(v.jsx)("p",{children:e.text})]},"{div_".concat(t,"}"));case"CODE":return Object(v.jsx)("pre",{children:e.text},"{pre_".concat(t,"}"));case"QUOTE":return Object(v.jsxs)("div",{className:"div-quote-view",children:[Object(v.jsxs)("p",{className:"text-quote-view",children:[Object(v.jsx)("span",{children:'"'}),e.text,Object(v.jsx)("span",{children:'"'})]}),Object(v.jsxs)("p",{className:"author-quote-view",children:["--",e.complement]})]},"{div_".concat(t,"}"));case"LIST":return function(e,t){var n=e.split("#!#");return Object(v.jsx)("ul",{children:n.map((function(e,n){return Object(v.jsx)("li",{children:e},"list_".concat(t,"_item_").concat(n))}))},"{ul_".concat(t,"}"))}(e.text,t);default:return Object(v.jsx)("p",{children:e.sectionId})}})),Object(v.jsxs)("div",{className:"ArticleViewFooter",children:[Object(v.jsxs)("div",{className:"div-button-like",children:[Object(v.jsx)("button",{onClick:function(e){if(s&&s.validToken){var t={userId:c.id,articleId:f.id};T?j.a.post("".concat(u.API_URL,"/interactions/removeLike/"),t,{headers:{Authorization:s.token}}).then((function(e){ue(f.id)})).catch((function(e){m("error","Erro ao remover o like."),console.log("Erro: ",e.response.data.message)})):j.a.post("".concat(u.API_URL,"/interactions/putLike/"),t,{headers:{Authorization:s.token}}).then((function(e){ue(f.id)})).catch((function(e){m("error","Erro ao registrar o like."),console.log("Erro: ",e.response.data.message)}))}else m("info","Para curtir o artigo, \xe9 necess\xe1rio efetuar login")},children:Object(v.jsx)("span",{id:"buttonThumbUp",className:T?"material-icons-outlined thumb-up fontcolor-blue":"material-icons-outlined thumb-up fontcolor-darkgray",children:"thumb_up"})}),Object(v.jsx)("span",{id:"textSuggestLike",className:"fontcolor-gray",children:W})]}),Object(v.jsxs)("div",{className:"div-icon-comment",children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"campaign"}),Object(v.jsx)("span",{children:"Coment\xe1rios:"})]}),Object(v.jsxs)("div",{className:"div-form-comments",children:[Object(v.jsx)("div",{id:"div-comments"}),Object(v.jsxs)("div",{id:"div-edit-comments",children:[Object(v.jsx)("textarea",{id:"commentToInput",className:"inputComment",type:"text",rows:"3",placeholder:"Digite aqui seu coment\xe1rio..."}),Object(v.jsx)("button",{id:"buttonSendComment",className:"material-icons-outlined",onClick:function(){if(c&&c.name){if(c.commentBlocked)return void m("error","Desculpe, mas voc\xea est\xe1 proibido de fazer coment\xe1rios nos artigos.");var e=document.getElementById("commentToInput"),t=e.value;if(""!=t.trim()){var n={text:t,articleId:f.id,userId:c.id};j.a.post("".concat(u.API_URL,"/comments/"),n,{headers:{Authorization:s.token}}).then((function(n){je(t,c.name,Date.now(),null),e.value="",e.focus()})).catch((function(e){m("error","Erro ao tentar incluir coment\xe1rio. Contate o administrador!"),console.log("Erro => ",e)}))}}else m("info","Para comentar, \xe9 necess\xe1rio fazer o login.")},children:"send"})]}),Object(v.jsx)("div",{id:"div-comment-blocked",children:"Observa\xe7\xe3o: No momento, voc\xea est\xe1 proibido de comentar nos artigos. Contate o administrador!"})]})]})]}),Object(v.jsx)("button",{id:"button-unpublish-article",className:"btn-unpublish-article material-icons-outlined",onClick:me,children:"highlight_off"})]})},ze=(n(93),n(94),function(e){var t=Object(i.useContext)(p),n=(t.setFooterContent,t.showMessage),c=t.user,a=Object(i.useState)("nome do usu\xe1rio"),o=Object(d.a)(a,2),s=o[0],r=o[1],l=Object(i.useState)(""),m=Object(d.a)(l,2),b=m[0],h=m[1],f=Object(i.useState)("conte\xfado do coment\xe1rio"),O=Object(d.a)(f,2),g=O[0],x=O[1],N=Object(i.useState)("dd/mm/yyyy"),C=Object(d.a)(N,2),y=C[0],k=C[1],E=Object(i.useState)("T\xedtulo do artigo"),A=Object(d.a)(E,2),_=A[0],w=A[1],L=Object(i.useState)(e.complaint.status),P=Object(d.a)(L,2),S=P[0],U=P[1],R=Object(i.useState)(!0),B=Object(d.a)(R,1)[0];function T(e){console.log("Atualizando status => ",e),U(e)}return Object(i.useEffect)((function(){j.a.get("".concat(u.API_URL,"/comments/")+e.complaint.commentId,{headers:{Authorization:c.token}}).then((function(e){200===e.status&&(r(e.data.user.name),h("".concat(u.IMAGE_URL_API,"/").concat(e.data.user.photo||u.IMAGE_PROFILE_DEFAULT)),x(e.data.text),k(I(e.data.date)),w(e.data.article.title))})).catch((function(e){n("error","Erro ao selecionar den\xfancias. Contate o administrador!"),console.log("Erro ao selecionar den\xfancias. Verifique o log do servidor.")}))}),[B]),Object(v.jsx)("div",{className:"ComplaintItem",children:Object(v.jsxs)("div",{className:"ComplaintItemMain",children:[Object(v.jsxs)("div",{className:"leftColumn",children:[Object(v.jsx)("div",{children:"Comentado por: "}),Object(v.jsx)("img",{className:"img-view-profile-complaint",src:b,alt:""}),Object(v.jsxs)("div",{className:"div-user-comment",children:[s," "]}),Object(v.jsx)("div",{children:"em:"}),Object(v.jsx)("div",{children:y})]}),Object(v.jsxs)("div",{className:"rightColumn",children:[Object(v.jsxs)("div",{className:"div-status",children:["Status da den\xfancia: ",Object(v.jsx)("span",{className:"text-status ".concat(S),children:S})]}),Object(v.jsxs)("div",{className:"div-article",children:["Artigo: ",_]}),Object(v.jsxs)("div",{className:"div-comment-content",children:['O coment\xe1rio: "',g,'" ']}),Object(v.jsxs)("div",{className:"div-complaint-reason",children:['Motivo da den\xfancia: "',e.complaint.reason,'" ']}),Object(v.jsxs)("div",{className:"div-complaint-buttons",children:[Object(v.jsxs)("div",{className:"button-complaint",onClick:function(){return e.deleteComment(e.complaint.id,e.complaint.comment.id,T)},children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"comments_disabled"}),"Excluir Coment\xe1rio"]}),Object(v.jsxs)("div",{className:"button-complaint",onClick:function(){return e.blockUser(e.complaint.id,e.complaint.comment.id,e.complaint.comment.userId,T)},children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"person_off"}),"Bloquear Usu\xe1rio"]}),Object(v.jsxs)("div",{className:"button-complaint",onClick:function(){return e.ignoreComplaint(e.complaint.id,T)},children:[Object(v.jsx)("span",{className:"material-icons-outlined",children:"delete"}),"Ignorar Den\xfancia"]})]})]})]})})}),Ge=function(e){var t=Object(i.useContext)(p),n=t.setFooterContent,c=t.showMessage,a=t.user,o=Object(i.useState)([]),s=Object(d.a)(o,2),r=s[0],l=s[1],m=Object(i.useState)(!0),b=Object(d.a)(m,1)[0];function h(e){return new Promise((function(t,n){j.a.put("".concat(u.API_URL,"/complaints/")+e,{status:"DEFERIDA"},{headers:{Authorization:a.token}}).then((function(e){t({status:e.status,data:e.data})})).catch((function(e){n(e)}))}))}function f(e,t,n){h(e).then((function(e){j.a.put("".concat(u.API_URL,"/comments/")+t,{status:"EXCLUIDO-ADMIN"},{headers:{Authorization:a.token}}).then((function(e){c("info","A den\xfancia foi aceita e o coment\xe1rio exclu\xeddo."),n&&n("DEFERIDA")})).catch((function(e){c("error","Erro ao tentar excluir o coment\xe1rio. Contate o administrador!")}))})).catch((function(e){c("error","Erro ao tentar deferir a den\xfancia. Contate o administrador!")}))}function O(e,t,n,i){h(e).then((function(e){j.a.put("".concat(u.API_URL,"/comments/")+t,{status:"EXCLUIDO-ADMIN"},{headers:{Authorization:a.token}}).then((function(e){j.a.put("".concat(u.API_URL,"/users/blockComments/"),{userId:n},{headers:{Authorization:a.token}}).then((function(e){c("info","Den\xfancia aceita, coment\xe1rio exclu\xeddo e usu\xe1rio bloqueado de comentar."),i&&i("DEFERIDA")}))})).catch((function(e){c("error","Erro ao tentar excluir o coment\xe1rio. Contate o administrador!")}))})).catch((function(e){c("error","Erro ao tentar deferir a den\xfancia. Contate o administrador!")}))}function g(e,t){j.a.put("".concat(u.API_URL,"/complaints/")+e,{status:"INDEFERIDA"},{headers:{Authorization:a.token}}).then((function(e){c("info","A den\xfancia foi rejeitada com sucesso."),t&&t("INDEFERIDA")})).catch((function(e){c("error","Erro ao tentar deferir a den\xfancia. Contate o administrador!")}))}return Object(i.useEffect)((function(){n(null),j.a.get("".concat(u.API_URL,"/complaints/"),{headers:{Authorization:a.token}}).then((function(e){var t=e.data;l(t)})).catch((function(e){c("error","Erro ao selecionar den\xfancias. Contate o administrador!"),console.log("Erro ao selecionar den\xfancias. Verifique o log do servidor.")}))}),[b]),Object(v.jsxs)("div",{className:"ComplaintList",children:[Object(v.jsx)("div",{className:"ComplaintTitle",children:"Gerenciar Den\xfancias"}),Object(v.jsx)("div",{className:"ComplaintListItens",children:r.map((function(e){return Object(v.jsx)(ze,{complaint:e,deleteComment:f,blockUser:O,ignoreComplaint:g},"complaint_".concat(e.id))}))})]})},Ve=(n(95),function(e){var t=Object(i.useContext)(p).setFooterContent;return Object(i.useEffect)((function(){t(null)})),Object(v.jsxs)("div",{className:"BlockedUsers",children:[Object(v.jsx)("h2",{children:"Usu\xe1rios Bloqueados"}),Object(v.jsx)("h3",{children:"(Em desenvolvimento)"})]})}),Ke=function(e){return Object(v.jsxs)("div",{className:"Content",children:[Object(v.jsx)(B,{}),Object(v.jsxs)(N.c,{children:[Object(v.jsx)(N.a,{path:"blog-jorlane/",element:Object(v.jsx)(A,{})}),Object(v.jsx)(N.a,{path:"blog-jorlane/categories",element:Object(v.jsx)(Se,{element:Object(v.jsx)(V,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/complaints",element:Object(v.jsx)(Se,{element:Object(v.jsx)(Ge,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/blockedUsers",element:Object(v.jsx)(Se,{element:Object(v.jsx)(Ve,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/profile",element:Object(v.jsx)(Ue,{element:Object(v.jsx)(Z,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/blogpreferences",element:Object(v.jsx)(Ue,{element:Object(v.jsx)($,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/indicators",element:Object(v.jsx)(Ue,{element:Object(v.jsx)(Re,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/connections",element:Object(v.jsx)(Ue,{element:Object(v.jsx)(Te,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/article",element:Object(v.jsx)(Ue,{element:Object(v.jsx)(Ae,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/myarticles",element:Object(v.jsx)(Ue,{element:Object(v.jsx)(Le,{})})}),Object(v.jsx)(N.a,{path:"blog-jorlane/articleview",element:Object(v.jsx)(He,{})}),Object(v.jsx)(N.a,{path:"blog-jorlane/login",element:Object(v.jsx)(ie,{})}),Object(v.jsx)(N.a,{path:"blog-jorlane/signup",element:Object(v.jsx)(re,{})}),"s",Object(v.jsx)(N.a,{path:"blog-jorlane/logout",element:Object(v.jsx)(le,{})})]})]})},Je="".concat(u.OPEN_API_URL,"/users/validate"),We="blog_token_key",Qe=function(){var e=Object(i.useState)(!0),t=Object(d.a)(e,1)[0],n=Object(i.useContext)(p).updateLoggedUser;return Object(i.useEffect)((function(){function e(){return(e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=localStorage.getItem(We))&&j.a.post(Je,{token:t}).then((function(e){var c={userProfile:e.data.userProfile,token:t,validToken:e.data.valid};n(c)})).catch((function(e){console.log("error",e.message)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(v.jsx)("div",{className:"App",id:"app",children:Object(v.jsxs)(b.a,{children:[Object(v.jsx)(Ke,{}),Object(v.jsx)(_,{}),Object(v.jsx)(w,{}),Object(v.jsx)(D,{})]})})};a.a.render(Object(v.jsx)(x,{children:Object(v.jsx)(Qe,{})}),document.getElementById("root"))}],[[96,1,2]]]);
//# sourceMappingURL=main.fb238a15.chunk.js.map