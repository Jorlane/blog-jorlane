(this["webpackJsonpfrontend-blog"]=this["webpackJsonpfrontend-blog"]||[]).push([[0],[,,,,function(e,t){var n="http://52.67.107.252:3000",c="".concat(n,"/api"),i="".concat(n,"/oapi"),a="".concat(n,"/images");e.exports={API_URL:c,OPEN_API_URL:i,IMAGE_URL_API:a,IMAGE_PROFILE_DEFAULT:"img_init_profile.jpg"}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(27);var c=n(12),i=n.n(c),a=n(1),s=n.n(a),o=n(8),r=n.n(o),l=n(11),d=n(2),u=(n(33),n(4)),m=n(5),j=n.n(m),b=(n(52),n(7)),h=n(6),f={modalVisible:"hidden",children:"",modalJustifyContent:"none",messageVisible:!1,messageText:"",messageType:"info",user:{name:"",email:"",token:"",validToken:!1,isAdministrator:!1},profileLoggedUser:{id:null,name:null,email:null,photo:null,bioDescription:null,allowEmailNotification:null,frequencyEmailNotification:null,firstAccess:null,lastAccess:null},toolBarContent:null,footerContent:null},O="blog_token_key";function v(e,t){switch(t.type){case"reset":return Object(h.a)(Object(h.a)({},f),{},{user:e.user,profileLoggedUser:e.profileLoggedUser,toolBarContent:e.toolBarContent,footerContent:e.footerContent});case"show_modal":return Object(h.a)(Object(h.a)({},e),{},{modalVisible:"visible",children:t.payload.children,modalJustifyContent:t.payload.modalJustifyContent});case"show_message":return Object(h.a)(Object(h.a)({},e),{},{messageVisible:!0,messageType:t.payload.messageType,messageText:t.payload.messageText});case"hide_message":return Object(h.a)(Object(h.a)({},e),{},{messageVisible:!1,messageType:"info",messageText:""});case"update_user":t.payload.validToken?localStorage.setItem(O,t.payload.token):localStorage.removeItem(O);var n={};return n.name=t.payload.userProfile.name||"",n.email=t.payload.userProfile.email||"",n.token=t.payload.token||"",n.validToken=t.payload.validToken||!1,n.isAdministrator=t.payload.userProfile.isAdministrator||!1,Object(h.a)(Object(h.a)({},e),{},{user:n,profileLoggedUser:t.payload.userProfile});case"set_toolbar_content":return Object(h.a)(Object(h.a)({},e),{},{toolBarContent:t.payload});case"set_footer_content":return Object(h.a)(Object(h.a)({},e),{},{footerContent:t.payload});default:return e}}var g=n(0),p=s.a.createContext(f),x=function(e){var t=Object(a.useReducer)(v,f),n=Object(d.a)(t,2),c=n[0],i=n[1];return Object(g.jsx)(p.Provider,{value:{modalVisible:c.modalVisible,children:c.children,modalJustifyContent:c.modalJustifyContent,closeModal:function(){return i({type:"reset"})},showModal:function(e,t){return function(e,t){i({type:"show_modal",payload:{children:e,modalJustifyContent:t}})}(e,t||"none")},messageVisible:c.messageVisible,messageType:c.messageType,messageText:c.messageText,showMessage:function(e,t){return function(){i({type:"show_message",payload:{messageType:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",messageText:arguments.length>1?arguments[1]:void 0}}),setTimeout((function(){i({type:"hide_message"})}),2e3)}(e,t)},user:c.user,profileLoggedUser:c.profileLoggedUser,updateLoggedUser:function(e){!function(e){i({type:"update_user",payload:e})}(e)},toolBarContent:c.toolBarContent,setToolBarContent:function(e){return function(e){i({type:"set_toolbar_content",payload:e})}(e)},footerContent:c.footerContent,setFooterContent:function(e){return function(e){i({type:"set_footer_content",payload:e})}(e)}},children:e.children})},N=(n(54),n(55),n(3));n(56);function y(e){var t=new Date(e);return t.getDate().toString().padStart(2,"0")+"/"+(t.getMonth()+1).toString().padStart(2,"0")+"/"+t.getFullYear()}var I=function(e){var t=Object(a.useState)(e.article.writer?"".concat(e.article.writer.name," em ").concat(y(e.article.statusDate)):"Em ".concat(y(e.article.statusDate))),n=Object(d.a)(t,1)[0],c=Object(a.useState)(function(){var t=e.article.writer.bioDescription||"";return t.length>200?t.substr(0,180)+"...":t}()),i=Object(d.a)(c,1)[0],s=Object(a.useState)(""),o=Object(d.a)(s,2),r=o[0],l=o[1],m=Object(a.useState)(""),j=Object(d.a)(m,2),b=j[0],h=j[1];return Object(a.useEffect)((function(){for(var t=e.article.sectionsinarticles,n="",c=0;c<t.length;c++)"PARAGRAPH"===t[c].sectionId?""===n&&n.length<580?n=t[c].text:n.length<200&&(n=n+"/n"+t[c].text):""===b&&"IMAGE"===t[c].sectionId&&(h("".concat(u.IMAGE_URL_API,"/article/").concat(t[c].imagePath)),console.log("Setando a imagem ==> ","".concat(u.IMAGE_URL_API,"/article/").concat(t[c].imagePath))),n.length>=580&&(n=n.substring(0,580)+"...");l(n)}),[n]),Object(g.jsx)("div",{className:"",children:Object(g.jsx)("div",{className:"HomeArticlesItem",children:Object(g.jsxs)("div",{className:"div-content-article",onClick:function(){return e.handleClickArticleItem(e.article)},children:[Object(g.jsx)("div",{className:"title",children:e.article.title}),Object(g.jsxs)("div",{className:"div-body-article",children:[Object(g.jsx)("div",{className:"text-view",children:r}),Object(g.jsx)("img",{className:"img-view",src:b,alt:""})]}),Object(g.jsxs)("div",{className:"div-article-writer",children:[Object(g.jsx)("div",{className:"div-img-article-profile",children:Object(g.jsx)("img",{className:"image-article-profile",src:"".concat(u.IMAGE_URL_API,"/").concat(e.article.writer.photo||u.IMAGE_PROFILE_DEFAULT),alt:""})}),Object(g.jsxs)("div",{className:"div-details",children:[Object(g.jsx)("div",{className:"author-article",children:n}),Object(g.jsx)("div",{className:"bio-writer-article",children:i})]})]})]})},"key_".concat(e.article.id))})},C="".concat(u.OPEN_API_URL,"/articles"),_="".concat(u.OPEN_API_URL,"/users"),k=function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(e.refresh||!0),o=Object(d.a)(s,1)[0],u=Object(N.f)();function m(e){u("/articleview?param=".concat(e.id))}function b(){return h.apply(this,arguments)}function h(){return h=Object(l.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=C,e.writerIdOnly&&(n="".concat(C,"/bywriter/").concat(e.writerIdOnly)),console.log("Vai selecionar artigos url: ",n),t.next=5,j.a.get(n).then(function(){var e=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=4;break}return e.delegateYield(r.a.mark((function e(){var n,c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data,c=r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(_,"/").concat(n[t].writerId)).then((function(e){var c=e.data;n[t].writer=c}));case 2:case"end":return e.stop()}}),e)})),a=0;case 3:if(!(a<n.length)){e.next=8;break}return e.delegateYield(c(a),"t0",5);case 5:a++,e.next=3;break;case 8:i(n);case 9:case"end":return e.stop()}}),e)}))(),"t0",2);case 2:e.next=5;break;case 4:i([]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("Erro ao selecionar articles => ",e)}));case 5:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[o]),Object(g.jsx)("div",{className:"HomeArticles",children:Object(g.jsx)("div",{className:"list-home-articles",children:c.map((function(e,t){return Object(g.jsx)(I,{article:e,handleClickArticleItem:m},"item_".concat(t))}))})})},E=function(e){var t=Object(a.useContext)(p),n=t.setToolBarContent,c=t.setFooterContent,i=Object(a.useState)(!0),s=Object(d.a)(i,1)[0];return Object(a.useEffect)((function(){n(null),c(null)}),[s]),Object(g.jsx)("div",{className:"Home",children:Object(g.jsx)(k,{})})},A=function(e){var t=Object(a.useContext)(p).footerContent;return t?Object(g.jsxs)("footer",{className:"Footer Customized",children:[t,Object(g.jsxs)(b.b,{className:"button-link",id:"btn-home",to:"/",element:Object(g.jsx)(E,{}),children:[Object(g.jsx)("span",{className:"material-icons-outlined",children:"home"}),Object(g.jsx)("label",{children:"Home"})]})]}):Object(g.jsxs)("footer",{className:"Footer",children:[Object(g.jsxs)("button",{className:"button-link",id:"btn-write-article",children:[Object(g.jsx)("span",{className:"material-icons-outlined",children:"search"}),Object(g.jsx)("label",{children:"Pesquisar"})]}),Object(g.jsxs)(b.b,{className:"button-link",id:"btn-write-article",to:"/article",children:[Object(g.jsx)("span",{className:"material-icons-outlined",children:"post_add"}),Object(g.jsx)("label",{children:"Escrever Artigo"})]}),Object(g.jsxs)(b.b,{className:"button-link",id:"btn-home",to:"/",element:Object(g.jsx)(E,{}),children:[Object(g.jsx)("span",{className:"material-icons-outlined",children:"home"}),Object(g.jsx)("label",{children:"Home"})]})]})},w=(n(57),function(){var e=Object(a.useContext)(p),t=e.modalVisible,n=e.children,c=e.modalJustifyContent,i=e.closeModal;return Object(g.jsx)("div",{className:"Modal","modal-justify-content":c,id:"main-modal",visible:t,onClick:function(e){return function(e){"main-modal"===e.target.id&&(console.log("dentro de handleClickOutsideModal"),i())}(e)},children:n})});n(58),n(59),n(60);var P=function(e){var t=Object(a.useContext)(p).user;return Object(g.jsxs)("nav",{className:"Menu",children:[Object(g.jsxs)("ul",{id:"menu-list",children:[Object(g.jsxs)("li",{className:"menu-item ".concat(t.isAdministrator?"active":""),onClick:function(e){return function(e){var t=e.target.children;console.log("CHILDREN => ",t)}(e)},children:[Object(g.jsx)("span",{children:"Administra\xe7\xe3o"}),Object(g.jsxs)("ul",{id:"submenu-adm",className:"submenu",children:[Object(g.jsx)("li",{className:"submenu-item",children:Object(g.jsx)(b.b,{to:"categories",children:"Categorias"})}),Object(g.jsx)("li",{className:"submenu-item",children:Object(g.jsx)(b.b,{to:"/",children:"Den\xfancias"})}),Object(g.jsx)("li",{className:"submenu-item",children:Object(g.jsx)(b.b,{to:"/",children:"Usu\xe1rios Bloqueados"})})]})]}),Object(g.jsx)("li",{className:"menu-item ".concat(t.validToken?"active":""),children:Object(g.jsx)(b.b,{to:"profile",children:"Perfil"})}),Object(g.jsxs)("li",{className:"menu-item ".concat(t.validToken?"active":""),children:[Object(g.jsx)("span",{children:"Blog"}),Object(g.jsxs)("ul",{id:"submenu-blog",className:"submenu",children:[Object(g.jsx)("li",{className:"submenu-item",children:Object(g.jsx)(b.b,{to:"blogpreferences",children:"Prefer\xeancias"})}),Object(g.jsx)("li",{className:"submenu-item",children:Object(g.jsx)(b.b,{to:"in",children:"Minhas Conex\xf5es"})}),Object(g.jsx)("li",{className:"submenu-item",children:Object(g.jsx)(b.b,{to:"/",children:"Meus Indicadores"})}),Object(g.jsx)("li",{className:"submenu-item",children:Object(g.jsx)(b.b,{to:"myarticles",children:"Meus Artigos"})})]})]}),Object(g.jsx)("li",{className:"menu-item active",children:Object(g.jsx)(b.b,{to:"/",children:"Pesquisar"})}),Object(g.jsx)("li",{className:"menu-item active",children:Object(g.jsx)(b.b,{to:"article",children:"Escrever"})}),Object(g.jsx)("li",{className:"menu-item ".concat(t.validToken?"active":""),children:Object(g.jsx)(b.b,{to:"/",children:"Notifica\xe7\xf5es"})}),Object(g.jsx)("li",{className:"menu-item ".concat(t.validToken?"active":""),children:Object(g.jsx)(b.b,{to:"logout",children:"Sair"})})]}),Object(g.jsx)("button",{id:"btn-mobile",onClick:function(){return function(){var e=document.getElementById("menu-list");e.classList.toggle("active");var t=document.getElementById("hamburger");e.classList.contains("active")?t.innerHTML="close":t.innerHTML="menu"}()},children:Object(g.jsx)("span",{id:"hamburger",className:"material-icons-outlined",children:"menu"})})]})},L=(n(61),function(e){return Object(g.jsxs)("div",{className:"Logo",children:[Object(g.jsx)("span",{id:"imageLogo",className:"material-icons-outlined",children:"newspaper"}),"Meu Blog"]})}),S=(n(62),function(e){var t=Object(a.useContext)(p),n=t.showModal,c=t.closeModal,i=t.user,s=t.profileLoggedUser,o=t.toolBarContent;if(o)return Object(g.jsx)("div",{className:"ToolBar",children:o});var r=window.location.pathname;return console.log("location ===> ",r),Object(g.jsxs)("div",{className:"ToolBar",children:[Object(g.jsxs)("div",{className:"user-greetings",children:[Object(g.jsx)("button",{className:"button-back-toolbar button_icon ".concat(i.validToken&&"/"!==r?"active":""),onClick:function(){window.history.back()},children:Object(g.jsx)("span",{className:"material-icons-outlined",children:"arrow_back"})}),Object(g.jsx)("div",{className:"user-name ".concat(i.validToken?"active":""),children:Object(g.jsxs)("span",{children:["Ol\xe1 ",i.name,"! ",Object(g.jsx)(b.b,{className:"text-link-exit",to:"logout",children:"(Sair)"})]})}),Object(g.jsx)("div",{className:"no-user-name ".concat(i.validToken?"":"active"),children:Object(g.jsx)(b.b,{to:"login",children:"Entrar"})})]}),Object(g.jsxs)("div",{className:"toolbar-buttons",children:[Object(g.jsx)("button",{id:"btn-admin",className:"material-icons-outlined ".concat(i.isAdministrator?"active":""),onClick:function(e){return function(e){var t=e.pageX-300;t<0&&(t=10);var i={left:t+"px",width:"300px"},a=Object(g.jsxs)("ul",{id:"menu-admin",style:i,children:[Object(g.jsx)("li",{className:"menu-option",children:Object(g.jsx)(b.b,{to:"categories",onClick:c,children:"Categorias"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"/",children:"Den\xfancias"})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"/",children:"Usu\xe1rios Bloqueados"})})]});n(a)}(e)},children:"settings"}),Object(g.jsx)("button",{id:"btn-notification",className:"material-icons-outlined",children:"notifications_none"}),Object(g.jsx)("button",{id:"btn-profile",children:Object(g.jsx)(b.b,{to:"profile",onClick:c,children:s.id?Object(g.jsx)("img",{className:"tumb-profile",src:"".concat(u.IMAGE_URL_API,"/").concat(s.photo||u.IMAGE_PROFILE_DEFAULT),alt:""}):Object(g.jsx)("span",{className:"tumb-profile material-icons-outlined",children:" account_circle "})})})]})]})}),B=function(e){return Object(g.jsxs)("header",{className:"Header",children:[Object(g.jsxs)("div",{className:"header-title",children:[Object(g.jsx)(L,{}),Object(g.jsx)(P,{})]}),Object(g.jsx)(S,{})]})},R=(n(63),n(64),function(e){var t=e.item.category,n=e.item.children||[],c=y(t.initDate);var i="category_"+t.id;return Object(g.jsxs)("li",{className:"CategoryListItem",children:[Object(g.jsxs)("div",{className:e.position%2===0?"category-list-item-root pair":"category-list-item-root odd",children:[Object(g.jsx)("div",{className:"column-expand","show-icon":n.length>0?"yes":"no",onClick:function(e){return function(e){e.target.classList.toggle("column-expand-down");var t=e.target.parentElement.nextSibling;t&&t.classList.toggle("active")}(e)}}),Object(g.jsx)("div",{className:"column-category",onClick:function(){return e.handleClickListItem(t)},children:t.name}),Object(g.jsx)("div",{className:"column-date",onClick:function(){return e.handleClickListItem(t)},children:c}),Object(g.jsx)("div",{className:"column-action",id:"button-remove",onClick:function(){return e.handleRemoveListItem(t)},children:Object(g.jsx)("span",{className:"material-icons-outlined",children:"delete"})})]}),Object(g.jsx)("div",{className:"category-children",children:n.map((function(t){return Object(g.jsxs)("div",{className:"category-list-item-child-header",children:[Object(g.jsx)("div",{className:"column-space-child",children:"_"}),Object(g.jsxs)("div",{className:"category-list-item-child",children:[Object(g.jsx)("div",{className:"column-category-child",onClick:function(){return e.handleClickListItem(t)},children:t.name}),Object(g.jsx)("div",{className:"column-date-child",onClick:function(){return e.handleClickListItem(t)},children:y(t.initDate)}),Object(g.jsx)("div",{className:"column-action",id:"button-remove",onClick:function(){return e.handleRemoveListItem(t)},children:Object(g.jsx)("span",{className:"material-icons-outlined",children:"delete"})})]})]},"id_"+(n=t).id+"_child_of_"+n.categoryParent);var n}))})]},i)}),T=(n(65),n(66),function(e){var t=Object(a.useContext)(p),n=t.messageVisible,c=t.messageType,i=t.messageText;return Object(g.jsx)("div",{className:"Message",visible:n?"visible":"hidden",children:Object(g.jsx)("div",{className:"message-text",type:c,children:i})})}),U={name:"",categoryParent:null,initDate:null,endDate:null},D=function(e){var t=Object(a.useState)(e.category||U),n=Object(d.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(e.category.categoryParent||""),o=Object(d.a)(s,2),r=o[0],l=o[1];function u(){i(U),l(""),m(document.getElementById("select-category")),document.getElementById("input-name-category").focus()}function m(e){""===e.value?e.classList.contains("place-holder")||e.classList.add("place-holder"):e.classList.remove("place-holder")}return Object(g.jsxs)("div",{className:e.readOnly?"CategoryForm color-readonly":"CategoryForm color-updatable",children:[Object(g.jsxs)("div",{className:"header-form",children:[Object(g.jsx)("div",{className:"form-title",children:e.title||"Formul\xe1rio Categoria"}),Object(g.jsx)("button",{className:"btn-exit",onClick:e.close,children:Object(g.jsx)("span",{className:"material-icons-outlined",children:"close"})})]}),Object(g.jsxs)("form",{className:"form",children:[Object(g.jsxs)("div",{className:"form-fields",children:[Object(g.jsx)("label",{htmlFor:"name",children:"Nome da categoria"}),Object(g.jsx)("input",{id:"input-name-category",placeholder:"Nome da categoria...",type:"text",name:"name",autoComplete:"off",onChange:function(t){return function(t){"input-name-category"!==t.target.id||e.readOnly||i(Object(h.a)(Object(h.a)({},c),{},{name:t.target.value}))}(t)},value:c.name}),Object(g.jsx)("label",{htmlFor:"init-date",visible:e.readOnly?"visible":"hidden",children:"Data de in\xedcio"}),Object(g.jsx)("input",{id:"input-init-date-category",visible:e.readOnly?"visible":"hidden",type:"text",name:"init-date",readOnly:!0,value:y(c.initDate)}),Object(g.jsx)("label",{htmlFor:"categories",children:"Categoria Agrupadora"}),Object(g.jsxs)("select",{className:"select-parent-category place-holder",id:"select-category",name:"categories",onChange:function(t){return function(t){if(t){var n=t.target;m(n),e.readOnly||l(n.value)}}(t)},value:r,children:[Object(g.jsx)("option",{value:"",children:"(Sem categoria agrupadora)"}),e.categories.map((function(e){return null===e.category.categoryParent?Object(g.jsx)("option",{value:e.category.id,children:e.category.name},e.category.id):""}))]})]}),Object(g.jsxs)("div",{className:"buttons-form",visible:e.readOnly?"hidden":"visible",children:[Object(g.jsx)("span",{className:"btn-form btn-form-clear",onClick:u,children:"Limpar"}),Object(g.jsx)("span",{className:"btn-form btn-form-save",onClick:function(){if(e.saveCategory){var t=c;t.categoryParent=""===r?null:r,i(t),e.saveCategory(c),u()}},children:"Adicionar"})]}),Object(g.jsx)(T,{})]})]})},F=(n(67),function(e){return Object(g.jsxs)("div",{className:"Confirmation",children:[Object(g.jsxs)("div",{className:"header-confirmation",children:[Object(g.jsxs)("div",{className:"box-title",children:[Object(g.jsx)("span",{className:"material-icons-outlined",children:"help_outline"}),Object(g.jsx)("p",{className:"title-message",children:"Confirma\xe7\xe3o"})]}),Object(g.jsx)("button",{className:"btn-exit",onClick:e.close,children:Object(g.jsx)("span",{className:"material-icons-outlined",children:"close"})})]}),Object(g.jsxs)("div",{className:"box-body-message",children:[Object(g.jsx)("div",{className:"message",children:e.message}),Object(g.jsxs)("div",{className:"buttons-confirmation",children:[Object(g.jsxs)("button",{className:"btn-confirmation btn-no color-no background-no",onClick:e.cancel,children:[Object(g.jsx)("span",{className:"material-icons-outlined",children:"close"}),"N\xe3o"]}),Object(g.jsxs)("button",{className:"btn-confirmation btn-yes color-yes background-yes",onClick:e.confirm,children:[Object(g.jsx)("span",{className:"material-icons-outlined",children:"done"}),"Sim"]})]})]})]})}),M="".concat(u.OPEN_API_URL,"/categories"),H=function(){return new Promise((function(e,t){j.a.get(M).then((function(n){var c=[],i=[],a=[];n.data.forEach((function(e){null!=e.categoryParent?i.push(e):(c.push({category:e,children:[]}),a.push(e.id))})),i.forEach((function(e){var n=a.indexOf(e.categoryParent);n>-1?c[n].children.push(e):t({error:"ERRO ====> Category parent ".concat(e.categoryParent," n\xe3o encontrada.")})})),e(c)})).catch((function(e){t({error:e.message})}))}))},q="".concat(u.API_URL,"/categories"),G=("".concat(u.OPEN_API_URL,"/categories"),function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)([]),o=Object(d.a)(s,2),r=o[0],l=o[1],u=Object(a.useState)(e.refresh||!0),m=Object(d.a)(u,1)[0],b=Object(a.useContext)(p),h=b.showModal,f=b.closeModal,O=b.showMessage,v=b.user,x=b.setToolBarContent;Object(N.f)();function y(){window.history.back()}function I(){H().then((function(e){console.log("result ====> ",e),i(e),l(e)})).catch((function(e){return O("error",e.message)}))}function C(e){h(Object(g.jsx)(D,{title:"Consulta Categoria",close:k,readOnly:"true",category:e,categories:c}),"center")}function _(e){j.a.post(q,e,{headers:{Authorization:v.token}}).then((function(e){O("info","Registro inclu\xeddo com sucesso!"),I()})).catch((function(e){O("error",e.response.data.message)}))}function k(){f()}function E(e){var t='Tem certeza que deseja excluir a categoria "'+e.name+'"? ';h(Object(g.jsx)(F,{message:t,confirm:function(){return t=e.id,j.a.delete("".concat(q,"/").concat(t),{headers:{Authorization:v.token}}).then((function(e){O("info","Registro exclu\xeddo com sucesso!"),I()})).catch((function(e){O("error",e.response.data.message)})),void f();var t},close:function(){return f()},cancel:function(){return f()}}),"center")}return Object(a.useEffect)((function(){I(),x(Object(g.jsxs)("div",{className:"category_toolbar",children:[Object(g.jsx)("button",{className:"button-back button_icon",onClick:y,children:Object(g.jsx)("span",{className:"material-icons-outlined",children:"arrow_back"})}),Object(g.jsx)("div",{children:" Cadastro de Categoria "})]}))}),[m,v.token]),Object(g.jsxs)("div",{className:"CategoryList",children:[Object(g.jsxs)("div",{className:"list-category",children:[Object(g.jsxs)("div",{className:"list-title",children:[Object(g.jsx)("div",{className:"title-expand",children:Object(g.jsx)("span",{className:"material-icons-outlined",children:"expand_more"})}),Object(g.jsx)("div",{className:"title-category",children:"Categoria"}),Object(g.jsx)("div",{className:"title-date",children:"In\xedcio"}),Object(g.jsx)("div",{className:"title-action",children:Object(g.jsx)("span",{className:"material-icons-outlined",children:"delete"})})]}),Object(g.jsx)("ul",{children:r.map((function(e,t){return Object(g.jsx)(R,{listItemKey:t.toString(),item:e,position:t,handleClickListItem:C,handleRemoveListItem:E},e.category.id.toString())}))})]}),Object(g.jsx)("button",{id:"button-add-category",className:"btn-add-item material-icons-outlined",onClick:function(){h(Object(g.jsx)(D,{title:"Adicionar Categoria",close:k,saveCategory:_,category:{},categories:c}),"center")},children:"add_circle_outline"})]})}),K=n(14),V=n(13),z=(n(68),n(69)),J="".concat(u.API_URL,"/users"),Q="".concat(u.OPEN_API_URL,"/users/profile/image"),W=function(e){var t=Object(a.useContext)(p),n=t.profileLoggedUser,c=t.user,i=t.showMessage,s=t.updateLoggedUser,o=t.setToolBarContent,r=t.setFooterContent,l=Object(a.useState)(n),m=Object(d.a)(l,2),b=m[0],f=m[1],O=Object(a.useRef)(null),v=Object(a.useState)(!0),x=Object(d.a)(v,1)[0],I=Object(N.f)();function C(e,t){f(Object(h.a)(Object(h.a)({},b),{},Object(V.a)({},t,e.target.value)))}function _(e,t){for(var n=document.getElementsByClassName("tab_icon_title"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById(e).classList.add("active"),t&&I(t)}function k(){var e=b;if(e.name=document.getElementById("input-name").value,e.bioDescription=document.getElementById("input-biodescription").value,e.allowEmailNotification=document.getElementById("input-allowemail").checked,e.frequencyEmailNotification=document.getElementById("input-frequency").value,O.current.files.length>=1){var t,n=new z,a=Object(K.a)(O.current.files);try{for(a.s();!(t=a.n()).done;){var o=t.value;n.append("file",o)}}catch(l){a.e(l)}finally{a.f()}j.a.post(Q,n).then((function(t){e.photo=t.data.filename,r(e)}))}else r(e);function r(e){j.a.put(J,e,{headers:{Authorization:c.token}}).then((function(t){var n={userProfile:e,token:c.token,validToken:c.validToken};s(n),i("info",t.data.message)})).catch((function(e){i("error",e.response.data.message)}))}}return Object(a.useEffect)((function(){o(Object(g.jsxs)("div",{className:"profile_toolbar",children:[Object(g.jsxs)("div",{id:"tab_profile",className:"tab_icon_title active",children:[Object(g.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(){return _("tab_profile","/profile")},children:"person"}),Object(g.jsx)("span",{children:"Perfil"})]}),Object(g.jsxs)("div",{id:"tab_blog",className:"tab_icon_title",children:[Object(g.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(){return _("tab_blog","/blogpreferences")},children:"menu_book"}),Object(g.jsx)("span",{children:"Blog"})]}),Object(g.jsxs)("div",{id:"tab_indicators",className:"tab_icon_title",children:[Object(g.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(){return _("tab_indicators","/indicators")},children:"bar_chart"}),Object(g.jsx)("span",{children:"Indicadores"})]}),Object(g.jsxs)("div",{id:"tab_my_articles",className:"tab_icon_title",onClick:function(){return _("tab_my_articles","/myarticles")},children:[Object(g.jsx)("button",{className:"button_icon material-icons-outlined",children:"library_books"}),Object(g.jsx)("span",{children:"Artigos"})]}),Object(g.jsxs)("div",{id:"tab_connections",className:"tab_icon_title",children:[Object(g.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(){return _("tab_connections","/connections")},children:"people"}),Object(g.jsx)("span",{children:"Conex\xf5es"})]})]})),r(Object(g.jsxs)("div",{className:"profile_footer",children:[Object(g.jsxs)("div",{id:"btn-cancel-update",className:"button-link",children:[Object(g.jsx)("button",{className:"button_icon material-icons-outlined",children:"close"}),Object(g.jsx)("span",{children:"Cancelar"})]}),Object(g.jsxs)("div",{id:"btn-save-profile",className:"button-link",onClick:k,children:[Object(g.jsx)("button",{className:"button_icon material-icons-outlined",children:"done"}),Object(g.jsx)("span",{children:"Salvar altera\xe7\xf5es"})]})]}))}),[x]),Object(g.jsx)("div",{className:"Profile",children:Object(g.jsxs)("div",{className:"profile-content",children:[Object(g.jsxs)("form",{action:"",children:[Object(g.jsxs)("div",{className:"div-info-profile",children:[Object(g.jsx)("p",{children:b.email}),Object(g.jsxs)("p",{children:["Inscrito desde: ",y(b.firstAccess)]})]}),Object(g.jsxs)("div",{className:"div-img-profile",children:[Object(g.jsx)("img",{id:"image-profile",src:"".concat(u.IMAGE_URL_API,"/").concat(b.photo||u.IMAGE_PROFILE_DEFAULT),alt:""}),Object(g.jsx)("span",{id:"btn-img-profile",className:"material-icons-outlined",onClick:function(){var e=document.getElementById("select-file-image");e.click(),e.addEventListener("change",(function(){if(e.files.length>0){var t=new FileReader;t.onloadend=function(e){document.getElementById("image-profile").src=e.target.result},t.readAsDataURL(e.files[0])}}))},children:"photo_camera"})]}),Object(g.jsx)("input",{id:"select-file-image",type:"file",accept:"image/png, image/jpeg",ref:O}),Object(g.jsx)("label",{htmlFor:"",children:"Nome:"}),Object(g.jsx)("input",{id:"input-name",type:"text",maxLength:"20",onChange:function(e){return C(e,"name")},value:b.name}),Object(g.jsx)("label",{htmlFor:"",children:"Descri\xe7\xe3o:"}),Object(g.jsx)("textarea",{id:"input-biodescription",type:"text",rows:"3",onChange:function(e){return C(e,"bioDescription")},value:b.bioDescription}),Object(g.jsxs)("div",{className:"div-field-profile",children:[Object(g.jsx)("label",{htmlFor:"",children:"Notifica\xe7\xf5es por email?"}),Object(g.jsx)("input",{id:"input-allowemail",className:"check-box",type:"checkbox",onChange:function(e){return function(e,t,n){f(Object(h.a)(Object(h.a)({},b),{},Object(V.a)({},t,e.target.checked)))}(e,"allowEmailNotification")},checked:b.allowEmailNotification}),Object(g.jsx)("div",{className:"custom-select",children:Object(g.jsxs)("select",{id:"input-frequency",className:"frequency-select ".concat(b.allowEmailNotification?"active":""),onChange:function(e){return C(e,"frequencyEmailNotification")},value:b.frequencyEmailNotification,children:[Object(g.jsx)("option",{value:"SEMANAL",children:"Semanal"}),Object(g.jsx)("option",{value:"QUINZENAL",children:"Quinzenal"}),Object(g.jsx)("option",{value:"MENSAL",children:"Mensal"})]})})]})]}),Object(g.jsx)("a",{href:"#",id:"btn-remove-profile",children:"Quero encerrar minha conta"})]})})},Y=(n(70),function(e){return Object(g.jsxs)("div",{className:"BlogPreferences",children:[Object(g.jsx)("h2",{children:"Prefer\xeancias do blog "}),Object(g.jsx)("h3",{children:"(Em desenvolvimento)"})]})}),X=(n(71),{email:"",password:""}),Z="".concat(u.OPEN_API_URL,"/users/login"),$=function(e){var t=Object(a.useState)(X),n=Object(d.a)(t,2),c=n[0],i=n[1],s=Object(a.useContext)(p).updateLoggedUser,o=Object(a.useState)(""),r=Object(d.a)(o,2),l=r[0],u=r[1],m=Object(N.f)();function f(e,t){i(Object(h.a)(Object(h.a)({},c),{},Object(V.a)({},t,e.target.value)))}function O(e){j.a.post(Z,c).then((function(e){var t={userProfile:e.data.userProfile,token:e.data.token,validToken:e.data.valid};s(t),m("/",{replace:!0})})).catch((function(e){var t,n;t=e.response.data.message,n="user-email",u(t),document.getElementById(n).focus()})),e.preventDefault()}return Object(g.jsxs)("div",{className:"Login",children:[Object(g.jsxs)("form",{className:"form-login",children:[Object(g.jsx)("label",{htmlFor:"user-email",children:"Email:"}),Object(g.jsx)("input",{type:"email",id:"user-email",name:"user-email",value:c.email,onChange:function(e){return f(e,"email")}}),Object(g.jsx)("label",{htmlFor:"user-password",children:"Senha:"}),Object(g.jsx)("input",{type:"password",id:"user-password",name:"user-password",value:c.password,onChange:function(e){return f(e,"password")}}),Object(g.jsx)("div",{id:"message-alert",children:l}),Object(g.jsx)("button",{className:"btn-login",onClick:function(e){return O(e)},children:"Entrar"})]}),Object(g.jsxs)("div",{className:"link-new-account",children:[Object(g.jsx)(b.b,{to:"/signup",children:"Clique aqui"})," para criar uma conta!"]})]})},ee=(n(72),{name:"",email:"",password:"",confirmPassword:""}),te="".concat(u.OPEN_API_URL,"/users/signup"),ne=function(e){var t=Object(a.useState)(ee),n=Object(d.a)(t,2),c=n[0],i=n[1],s=Object(a.useContext)(p).updateLoggedUser,o=Object(a.useState)(""),r=Object(d.a)(o,2),l=r[0],u=r[1],m=Object(N.f)();function b(e,t){i(Object(h.a)(Object(h.a)({},c),{},Object(V.a)({},t,e.target.value))),""!==l&&u("")}function f(e){j.a.post(te,c).then((function(e){var t={userProfile:e.data.userProfile,token:e.data.token,validToken:e.data.valid};s(t),m("/",{replace:!0})})).catch((function(e){var t,n,c="user-email";"password"===e.response.data.column?c="user-password":"name"===e.response.data.column&&(c="user-name"),t=e.response.data.message,n=c,u(t),document.getElementById(n).focus()})),e.preventDefault()}return Object(g.jsx)("div",{className:"Signup",children:Object(g.jsxs)("form",{className:"form-signup",children:[Object(g.jsx)("label",{htmlFor:"user-name",children:"Nome:"}),Object(g.jsx)("input",{type:"name",id:"user-name",name:"user-name",value:c.name,onChange:function(e){return b(e,"name")}}),Object(g.jsx)("label",{htmlFor:"user-email",children:"Email:"}),Object(g.jsx)("input",{type:"email",id:"user-email",name:"user-email",value:c.email,onChange:function(e){return b(e,"email")}}),Object(g.jsx)("label",{htmlFor:"user-password",children:"Senha:"}),Object(g.jsx)("input",{type:"password",id:"user-password",name:"user-password",value:c.password,onChange:function(e){return b(e,"password")}}),Object(g.jsx)("label",{htmlFor:"user-password",children:"Confirma\xe7\xe3o de senha:"}),Object(g.jsx)("input",{type:"password",id:"confirm-password",name:"confirm-password",value:c.confirmPassword,onChange:function(e){return b(e,"confirmPassword")}}),Object(g.jsx)("div",{id:"message-alert",children:l}),Object(g.jsx)("button",{className:"btn-signup",onClick:function(e){return f(e)},children:"Registrar"})]})})},ce=(n(73),function(e){var t=Object(a.useState)(f),n=Object(d.a)(t,1)[0],c=Object(a.useContext)(p).updateLoggedUser,i=Object(N.f)();return Object(a.useEffect)((function(){c({userProfile:f.profileLoggedUser,token:"",validToken:!1}),i("/",{replace:!0})}),[n,i,c]),Object(g.jsx)("div",{className:"Logout"})}),ie=(n(74),n(75),function(e){return Object(g.jsxs)("div",{className:"ToolbarArticle",id:"toolbar-".concat(e.itemId),children:[e.isRemoveButtonVisible&&Object(g.jsx)("button",{className:"button-remove-section material-icons-outlined",onClick:function(){return e.handleRemoveSection(e.itemId)},children:"remove_circle_outline"}),Object(g.jsx)("button",{className:"button-add-section material-icons-outlined",onClick:function(){document.getElementById("btn-section-".concat(e.itemId)).classList.toggle("active")},children:"add_circle_outline"}),Object(g.jsxs)("div",{className:"buttons-section",id:"btn-section-".concat(e.itemId),children:[Object(g.jsx)("button",{title:"Subt\xedtulo",className:"btn-toolbar btn-subtitle material-icons-outlined",onClick:function(){return e.handleAddSection("caption",e.divParent)},children:"short_text"}),Object(g.jsx)("button",{title:"Imagem",className:"btn-toolbar btn-picture material-icons-outlined",onClick:function(){return e.handleAddSection("image",e.divParent)},children:"image"}),Object(g.jsx)("button",{title:"Par\xe1grafo",className:"btn-toolbar btn-paragraph material-icons-outlined",onClick:function(){return e.handleAddSection("paragraph",e.divParent)},children:"notes"}),Object(g.jsx)("button",{title:"Lista",className:"btn-toolbar btn-list material-icons-outlined",onClick:function(){return e.handleAddSection("list",e.divParent)},children:"list"}),Object(g.jsx)("button",{title:"Cita\xe7\xe3o",className:"btn-toolbar btn-quote material-icons-outlined",onClick:function(){return e.handleAddSection("quote",e.divParent)},children:"format_quote"}),Object(g.jsx)("button",{title:"C\xf3digo-fonte",className:"btn-toolbar btn-code material-icons-outlined",onClick:function(){return e.handleAddSection("code",e.divParent)},children:"code"})]})]})}),ae=(n(76),function(e){var t=Object(a.useState)(e.initText||""),n=Object(d.a)(t,2),c=n[0],i=n[1];function s(){var t=document.getElementById(e.itemId);if(t)for(;t.scrollHeight>t.offsetHeight;)console.log("e.target.scrollHeight => ",t.scrollHeight),console.log("e.target.offsetHeight => ",t.offsetHeight),t.rows++}return Object(g.jsxs)("div",{className:"Article-Section",sectiontype:"Paragraph",value:c,id:"div_".concat(e.itemId),children:[Object(g.jsx)("textarea",{className:"input-paragraph",id:e.itemId,type:"text",placeholder:"par\xe1grafo...",multiple:!0,onKeyUp:function(t){return e.onKeyUp(t,e.divParent)},onKeyPress:function(e){e.key&&"ENTER"===e.key.toUpperCase()&&e.preventDefault()},onChange:function(e){s(),i(e.target.value)},onFocus:function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.paragraph_id)).classList.add("active"),s()},value:c}),Object(g.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.paragraph_id),children:e.menu})]})}),se=(n(77),function(e){var t=Object(a.useState)(e.initTitle),n=Object(d.a)(t,2),c=n[0],i=n[1];function s(t){i(t.target.value),function(){var t=document.getElementById(e.itemId);if(t)for(;t.scrollHeight>t.offsetHeight;)console.log("e.target.scrollHeight => ",t.scrollHeight),console.log("e.target.offsetHeight => ",t.offsetHeight),t.rows++}()}return Object(g.jsxs)("div",{className:"Title",children:[Object(g.jsx)("input",{className:"input-title",id:e.itemId,type:"text",placeholder:"T\xedtulo...",value:c,maxLength:"80",autoComplete:"off",rows:"2",onKeyUp:function(t){return e.handleKeyUp(t,e.divParent)},onKeyDown:e.handleKeyDown,onKeyPress:e.handleKeyPress,onFocus:function(t){return function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.itemId)).classList.add("active")}()},onChange:function(e){return s(e)}}),Object(g.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.itemId),children:e.menu})]})}),oe=(n(78),function(e){var t=Object(a.useState)(e.initText||""),n=Object(d.a)(t,2),c=n[0],i=n[1];return Object(g.jsxs)("div",{className:"Article-Section",sectiontype:"Caption",value:c,id:"div_".concat(e.itemId),children:[Object(g.jsx)("input",{className:"input-caption",id:e.itemId,type:"text",placeholder:"Subt\xedtulo...",multiple:!1,onKeyUp:function(t){return e.onKeyUp(t,e.divParent)},onKeyPress:function(e){e.key&&"ENTER"===e.key.toUpperCase()&&e.preventDefault()},onChange:function(e){i(e.target.value)},onFocus:function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.caption_id)).classList.add("active")},value:c}),Object(g.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.caption_id),children:e.menu})]})}),re=(n(79),"".concat(u.OPEN_API_URL,"/sectionInArticle/image/")),le=function(e){var t=Object(a.useState)(e.initText||""),n=Object(d.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(""),o=Object(d.a)(s,2),r=o[0],l=o[1],m=Object(a.useRef)(null),b=Object(a.useState)(!0),h=Object(d.a)(b,1)[0],f=Object(a.useState)(null),O=Object(d.a)(f,2),v=O[0],p=O[1];function x(){for(var t=document.getElementsByClassName("item-toolbar"),n=0;n<t.length;n++)t[n].classList.remove("active");document.getElementById("item-toolbar-".concat(e.image_id)).classList.add("active")}return Object(a.useEffect)((function(){e.src&&""!=e.src?(document.getElementById("image-container-".concat(e.itemId)).classList.add("active"),l("".concat(u.IMAGE_URL_API,"/article/").concat(e.src))):(l(""),function(t){var n=document.getElementById("select-image-".concat(t));n.click(),n.addEventListener("change",(function(){if(n.files.length>0){var c=new FileReader;c.onloadend=function(n){var c=document.getElementById(t);c.src=n.target.result,c.click(),document.getElementById("image-container-".concat(e.itemId)).classList.add("active")},c.readAsDataURL(n.files[0])}}))}(e.itemId))}),[h]),Object(g.jsxs)("div",{className:"Article-Section",sectiontype:"Image",filename:e.src,value:c,buttonupload:"button-upload-".concat(e.itemId),id:"div_".concat(e.itemId),children:[Object(g.jsx)("div",{className:"image-div",children:Object(g.jsxs)("div",{className:"image-container",id:"image-container-".concat(e.itemId),children:[Object(g.jsx)("img",{className:"input-image",id:e.itemId,src:r,alt:c,onClick:function(e){if(x(),!v&&m.current.files.length>=1){var t,n=new FormData,c=Object(K.a)(m.current.files);try{for(c.s();!(t=c.n()).done;){var i=t.value;n.append("file",i)}}catch(a){c.e(a)}finally{c.f()}p(n)}}}),Object(g.jsx)("input",{className:"image-subtitle",type:"text",placeholder:"Legenda...",value:c,onChange:function(e){i(e.target.value)},onFocus:x})]})}),Object(g.jsx)("form",{action:"",children:Object(g.jsx)("input",{className:"invisible-select-image",id:"select-image-".concat(e.itemId),type:"file",accept:"image/png, image/jpeg",ref:m})}),Object(g.jsx)("button",{className:"button-upload-image",id:"button-upload-".concat(e.itemId),onClick:function(){if(console.log("vai fazer upload da imagem"),m.current.files.length>=1){var t,n=new FormData,i=Object(K.a)(m.current.files);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.append("file",a)}}catch(s){i.e(s)}finally{i.f()}n&&j.a.post(re,n).then((function(t){e.saveImageFileName&&e.saveImageFileName("div_".concat(e.itemId),t.data.filename,c)}))}else console.log("vai tentar com src ==> ",e.src),e.src&&e.saveImageFileName("div_".concat(e.itemId),e.src,c)},children:"salvar imagem"}),Object(g.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.image_id),children:e.menu})]})},de=(n(80),1),ue=function(e){var t=Object(a.useState)(e.initList||[]),n=Object(d.a)(t,1)[0],c=Object(a.useState)(!0),i=Object(d.a)(c,1)[0];function s(t){de++;var n=document.createElement("li"),c="section_".concat(e.itemId,"_li_").concat(de);n.id=c,document.getElementById(e.itemId).appendChild(n);var i=document.createElement("input");i.type="text",i.placeholder="Novo item...",i.value=t&&""!==t?t:"",i.classList.add("input-list-item"),i.classList.add("input-list-item-".concat(e.itemId)),i.addEventListener("keypress",r,!1),document.getElementById("section_".concat(e.itemId,"_li_").concat(de)).appendChild(i),i.focus()}function o(){for(var t=document.getElementsByClassName("input-list-item-".concat(e.itemId)),n=[],c=0;c<t.length;c++)n.push(t[c].value);return n}function r(t){t.key&&"ENTER"===t.key.toUpperCase()&&(""===t.target.value?(t.preventDefault(),e.onKeyUp(t,e.divParent)):s())}return Object(a.useEffect)((function(){if(e.initList)for(var t=0;t<e.initList.length;t++)s(e.initList[t]);else s();e.setCallbackGetList&&e.setCallbackGetList(e.itemId,o)}),[i]),Object(g.jsxs)("div",{className:"Article-Section",itemid:e.itemId,sectiontype:"List",value:n,id:"div_".concat(e.itemId),children:[Object(g.jsx)("ul",{className:"input-list",id:e.itemId,type:"text",onKeyDown:function(e){!function(e){e.target.scrollHeight>e.target.offsetHeight&&(console.log("e.target.scrollHeight => ",e.target.scrollHeight),console.log("e.target.offsetHeight => ",e.target.offsetHeight),e.target.rows++)}(e)},onChange:function(e){},onClick:function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.list_id)).classList.add("active")}}),Object(g.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.list_id),children:e.menu})]})},me=(n(81),function(e){var t=Object(a.useState)(e.initText||""),n=Object(d.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(e.complement||""),o=Object(d.a)(s,2),r=o[0],l=o[1];function u(){var t=document.getElementById(e.itemId);if(t)for(;t.scrollHeight>t.offsetHeight;)console.log("e.target.scrollHeight => ",t.scrollHeight),console.log("e.target.offsetHeight => ",t.offsetHeight),t.rows++}return Object(g.jsxs)("div",{className:"Article-Section",sectiontype:"Quote",value:c,author:r,id:"div_".concat(e.itemId),children:[Object(g.jsx)("div",{className:"div-quote-area",children:Object(g.jsxs)("div",{className:"group-quote-items",children:[Object(g.jsx)("span",{className:"quotation-mark",children:'"'}),Object(g.jsx)("textarea",{className:"input-quote",id:e.itemId,type:"text",placeholder:"Cita\xe7\xe3o...",multiple:!0,onKeyUp:function(t){return e.onKeyUp(t,e.divParent)},onKeyPress:function(e){e.key&&"ENTER"===e.key.toUpperCase()&&e.preventDefault()},onChange:function(e){i(e.target.value),u()},onFocus:function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.quote_id)).classList.add("active"),u()},value:c}),Object(g.jsx)("span",{className:"quotation-mark rigth",children:'"'}),Object(g.jsx)("input",{className:"quote-author",type:"text",placeholder:"Autor...",value:r,onChange:function(e){l(e.target.value)}})]})}),Object(g.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.quote_id),children:e.menu})]})}),je=(n(82),function(e){var t=Object(a.useState)(e.initText||""),n=Object(d.a)(t,2),c=n[0],i=n[1];function s(){var t=document.getElementById(e.itemId);if(t)for(;t.scrollHeight>t.offsetHeight;)console.log("e.target.scrollHeight => ",t.scrollHeight),console.log("e.target.offsetHeight => ",t.offsetHeight),t.rows++}return Object(g.jsxs)("div",{className:"Article-Section",sectiontype:"CODE",value:c,id:"div_".concat(e.itemId),children:[Object(g.jsx)("div",{className:"div-source-area",children:Object(g.jsx)("textarea",{className:"input-sourcecode",id:e.itemId,type:"text",placeholder:"C\xf3digo fonte...",multiple:!0,onKeyPress:function(e){},onChange:function(e){i(e.target.value),s()},onFocus:function(t){for(var n=document.getElementsByClassName("item-toolbar"),c=0;c<n.length;c++)n[c].classList.remove("active");document.getElementById("item-toolbar-".concat(e.sourcecode_id)).classList.add("active"),s()},value:c})}),Object(g.jsx)("div",{className:"item-toolbar",id:"item-toolbar-".concat(e.sourcecode_id),children:e.menu})]})}),be="".concat(u.API_URL,"/articles"),he="".concat(u.API_URL,"/sectionInArticle"),fe=0,Oe={id:null,writerId:null,title:"",categoryId:1,htmlFilePath:"sem html",route:"sem rota"},ve=Object(h.a)({},Oe),ge=[],pe=[],xe=[],Ne=function(e){var t=Object(a.useContext)(p),n=t.setFooterContent,c=t.user,s=t.profileLoggedUser,o=t.showMessage,u=(t.setToolBarContent,Object(a.useState)([])),m=Object(d.a)(u,2),f=m[0],O=m[1],v=Object(a.useState)(!0),x=Object(d.a)(v,1)[0];function N(e){return y.apply(this,arguments)}function y(){return(y=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(be,"/").concat(t),{headers:{Authorization:c.token}}).then((function(e){ve={id:e.data.id,writerId:e.data.writerId,title:e.data.title,categoryId:e.data.categoryId,status:e.data.status,statusDate:e.data.statusDate,htmlFilePath:e.data.htmlFilePath,route:e.data.route},e.data.sectionsinarticles.map((function(e){A(e.sectionId.toUpperCase(),null,e)}))})).catch((function(e){console.log("error ====> ",e)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){var t=document.getElementById("title");t&&(ve.title=t.getAttribute("value"));var n=e||ve.status;"RETIRADO"===ve.status&&(ve.status="RASCUNHO"),ve.id?j.a.put(be,ve,{headers:{Authorization:c.token}}).then((function(e){"RETIRADO"===n?"PUBLICADO"===ve.status?o("info","Artigo republicado sem altera\xe7\xe3o!"):o("info","Artigo salvo como rascunho!"):(C(ve.id),o("info","Artigo salvo com sucesso!")),pe&&pe.length>0&&j.a.post("".concat(he,"/images"),pe,{headers:{Authorization:c.token}}).then((function(e){console.log("Dentro do then de removeImageFilesFromServer resp => ",e)})).catch((function(e){o("error","Ocorreu um erro. Contate o administrador!")}))})).catch((function(e){o("error","Erro ao salvar artigo: Contate administrador!"),console.log("Erro: ",e.response.data.message)})):(ve.writerId=s.id,j.a.post(be,ve,{headers:{Authorization:c.token}}).then((function(e){ve.id=e.data.id,C(e.data.id),o("info","Artigo salvo com sucesso!")})).catch((function(e){o("error","Ocorreu um erro. Contate o Administrador!"),console.log("Erro: ",e.response.data.message)})))}function C(e){ge=[],j.a.delete("".concat(be,"/sections/").concat(e),{headers:{Authorization:c.token}}).then((function(t){!function(e){for(var t=document.getElementsByClassName("Article-Section"),n=0;n<t.length;n++){var i=t[n],a=i.getAttribute("sectiontype").toUpperCase(),s=n+1;if("IMAGE"===a)_(i,e,s);else{var r=i.getAttribute("value"),l="";if("LIST"===a)for(var d=i.getAttribute("itemid"),u=0;u<xe.length;u++){var m=xe[u];m.itemId===d&&(r=m.getListFunction().join("#!#"))}else"QUOTE"===a&&(l=i.getAttribute("author"));var b={articleId:e,sectionId:a,text:r,complement:l,sequence:s};j.a.post(he,b,{headers:{Authorization:c.token}}).then((function(e){console.log("SectionInArticle salvo com sucesso.")})).catch((function(e){console.log("Error => ",e.response.data.message),o("error","Ocorreu um erro. Contate o administrador!")}))}}}(e)})).catch((function(e){console.log("Ocorreu um erro ao salvar o artigo. Contate o administrador!",e)}))}function _(e,t,n){var c=e.getAttribute("id"),i=e.getAttribute("buttonupload"),a=document.getElementById(i),s={sectionId:c,articleId:t,sequence:n};ge.push(s),a.click()}function k(e,t,n){console.log("Vai salvar as nomes das imagens ==> ",ge);for(var i=0;i<ge.length;i++)if(ge[i].sectionId===e){var a={articleId:ge[i].articleId,sectionId:"IMAGE",text:n,imagePath:t,sequence:ge[i].sequence};j.a.post(he,a,{headers:{Authorization:c.token}}).then((function(e){console.log("SectionInArticle salvo com sucesso. ")})).catch((function(e){o("error","Ocorreu um erro. Contate o administrador!")}))}}function E(){var e=document.getElementById("title");if(e&&(ve.title=e.getAttribute("value")),ve.title&&""!==ve.title){var t=ve.status;ve.status="PUBLICADO",I(t)}else{o("error","Por favor, informe um t\xedtulo para o artigo!"),document.getElementById("title").focus()}}function A(e,t,n){switch(e.toUpperCase()){case"PARAGRAPH":L(t,n);break;case"CAPTION":!function(e,t){console.log("dentro de addCaption ==> ",t);var n=P(e,t),c=n.divItem,a=n.sequenceId,s=n.itemId,o=n.initText;i.a.render(Object(g.jsx)(oe,{caption_id:a,itemId:s,divParent:c.id,onKeyUp:B,initText:o,menu:Object(g.jsx)(ie,{id:"nav-add-section",itemId:s,handleAddSection:A,handleRemoveSection:w,isRemoveButtonVisible:!0,divParent:c.id})}),c),document.getElementById(s).focus(),c.id}(t,n);break;case"IMAGE":!function(e,t){var n=P(e,t),c=n.divItem,a=n.sequenceId,s=n.itemId,o=n.initText,r=n.imagePath;console.log("***** Carregando a imagem => ",r),i.a.render(Object(g.jsx)(le,{image_id:a,itemId:s,divParent:c.id,initText:o,src:r,saveImageFileName:k,menu:Object(g.jsx)(ie,{id:"nav-add-section",itemId:s,handleAddSection:A,handleRemoveSection:w,isRemoveButtonVisible:!0,divParent:c.id})}),c),c.id}(t,n);break;case"LIST":!function(e,t){var n=P(e,t),c=n.divItem,a=n.sequenceId,s=n.itemId,o=n.initText.split("#!#");i.a.render(Object(g.jsx)(ue,{paragraph_id:a,itemId:s,divParent:c.id,onKeyUp:B,initList:o,setCallbackGetList:S,menu:Object(g.jsx)(ie,{id:"nav-add-section",itemId:s,handleAddSection:A,handleRemoveSection:w,isRemoveButtonVisible:!0,divParent:c.id})}),c),document.getElementById(s).click(),c.id}(t,n);break;case"QUOTE":!function(e,t){var n=P(e,t),c=n.divItem,a=n.sequenceId,s=n.itemId,o=n.initText,r=n.complement;i.a.render(Object(g.jsx)(me,{quote_id:a,itemId:s,divParent:c.id,onKeyUp:B,initText:o,complement:r,menu:Object(g.jsx)(ie,{id:"nav-add-section",itemId:s,handleAddSection:A,handleRemoveSection:w,isRemoveButtonVisible:!0,divParent:c.id})}),c),document.getElementById(s).focus(),c.id}(t,n);break;case"CODE":!function(e,t){var n=P(e,t),c=n.divItem,a=n.sequenceId,s=n.itemId,o=n.initText;i.a.render(Object(g.jsx)(je,{sourcecode_id:a,itemId:s,divParent:c.id,onKeyUp:B,initText:o,menu:Object(g.jsx)(ie,{id:"nav-add-section",itemId:s,handleAddSection:A,handleRemoveSection:w,isRemoveButtonVisible:!0,divParent:c.id})}),c),document.getElementById(s).focus(),c.id}(t,n)}}function w(e){var t=document.getElementById("div_"+e),n=t.getAttribute("sectiontype");if(n&&"IMAGE"===n.toUpperCase()){var c=t.getAttribute("filename");c&&""!=c&&pe.push(c)}t.remove()}function P(e,t){var n="",c="",i="";t&&(n=t.text||"",c=t.complement||"",i=t.imagePath||"");var a=document.getElementById("article-body");fe++;var s=document.createElement("div"),o="section_".concat(fe);if(s.id="div_"+fe,e)if("div-title"===e){var r=a.firstElementChild;r?a.insertBefore(s,r):a.appendChild(s)}else{var l=document.getElementById(e);a.insertBefore(s,l.nextSibling)}else a.appendChild(s);return{divItem:s,sequenceId:fe,itemId:o,initText:n,complement:c,imagePath:i}}function L(e,t){var n=P(e,t),c=n.divItem,a=n.sequenceId,s=n.itemId,o=n.initText;return i.a.render(Object(g.jsx)(ae,{paragraph_id:a,itemId:s,divParent:c.id,onKeyUp:B,initText:o,menu:Object(g.jsx)(ie,{id:"nav-add-section",itemId:s,handleAddSection:A,handleRemoveSection:w,isRemoveButtonVisible:!0,divParent:c.id})}),c),document.getElementById(s).focus(),c.id}function S(e,t){var n={itemId:e,getListFunction:t};xe.push(n)}function B(e,t){e.key&&"ENTER"===e.key.toUpperCase()&&L(t)}function R(e){e.target.scrollHeight>e.target.offsetHeight&&e.target.rows++}function T(e){e.key&&"ENTER"===e.key.toUpperCase()&&e.preventDefault()}function U(e){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(r.a.mark((function e(t){var n,c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("div-title"),c="title",e.next=4,i.a.render(Object(g.jsx)(se,{id:"input-title",handleKeyUp:B,handleKeyDow:R,handleKeyPress:T,itemId:c,initTitle:t||"",divParent:"div-title",menu:Object(g.jsx)(ie,{id:"nav-add-section",itemId:c,handleAddSection:A,isRemoveButtonVisible:!1,divParent:"div-title"})}),n);case 4:return(a=document.getElementById(c))&&a.focus(),e.abrupt("return",n.id);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)(Object(l.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ge=[],xe=[],ve=Object(h.a)({},Oe),!(t=window.location.search)||""==t.trim()){e.next=9;break}if(null==(c=t.replace("?param=","").trim())||""==c){e.next=9;break}return e.next=9,N(c);case 9:U(ve.title),n(Object(g.jsxs)("div",{className:"profile_footer",children:[Object(g.jsxs)("div",{id:"btn-undo",className:"button-link",children:[Object(g.jsx)("button",{className:"button_icon material-icons-outlined",children:"undo"}),Object(g.jsx)("span",{children:"Desfazer"})]}),Object(g.jsxs)("div",{id:"btn-save-draft",className:"button-link",children:[Object(g.jsx)("button",{className:"button_icon material-icons-outlined",onClick:I,children:"save"}),Object(g.jsx)("span",{children:"Salvar"})]}),Object(g.jsxs)("div",{id:"btn-publish",className:"button-link",children:[Object(g.jsx)("button",{className:"button_icon material-icons-outlined",onClick:E,children:"public"}),Object(g.jsx)("span",{children:"Publicar"})]}),Object(g.jsxs)(b.b,{className:"button-link",to:"myarticles",children:[Object(g.jsx)("span",{className:"material-icons-outlined",children:" library_books "}),Object(g.jsx)("label",{children:"Meus Artigos"})]})]})),H().then((function(e){var t=[];e.forEach((function(e){t.push(e.category),e.children&&e.children.forEach((function(e){t.push(e)}))})),O(t)})).catch((function(e){return console.log("Erro ao ler categorias: ",e.message)}));case 12:case"end":return e.stop()}}),e)}))),[x]),Object(g.jsxs)("div",{className:"Article",children:[Object(g.jsxs)("div",{className:"div-category",children:[Object(g.jsx)("label",{htmlFor:"categories",children:" Categoria: "}),Object(g.jsx)("select",{id:"categories",className:"category-select",children:f.map((function(e){return e.categoryParent?Object(g.jsx)("option",{value:e.id,children:"+--".concat(e.name)},e.id):Object(g.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(g.jsx)("div",{id:"div-title"}),Object(g.jsx)("div",{id:"article-body"})]})},ye=(n(83),n(84),function(e){var t=Object(a.useState)(function(){var t="";t="PUBLICADO"===e.article.status.toUpperCase()?"Publicado em "+y(e.article.statusDate):"RETIRADO"===e.article.status.toUpperCase()?"Retirado do ar em "+y(e.article.statusDate):"Criado em "+y(e.article.statusDate);return t}()),n=Object(d.a)(t,2),c=n[0];n[1];return Object(g.jsx)("div",{className:"",children:Object(g.jsxs)("div",{className:"MyArticlesItem",children:[Object(g.jsxs)("div",{className:"div-content-article",onClick:function(){return e.handleClickArticleItem(e.article.id)},children:[Object(g.jsx)("div",{className:"title",children:e.article.title}),Object(g.jsxs)("div",{className:"div-details",children:[Object(g.jsx)("div",{className:"status",children:c}),Object(g.jsx)("div",{className:"comments",children:"Sem coment\xe1rios"}),Object(g.jsx)("div",{className:"likes",children:"Sem curtidas"})]})]}),Object(g.jsx)("div",{className:"div-buttons",children:Object(g.jsx)("div",{className:"button-delete-article material-icons-outlined",onClick:function(){return e.deleteArticle(e.article)},children:"delete"})})]},"key_".concat(e.article.id))})}),Ie="".concat(u.API_URL,"/articles"),Ce=function(e){var t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)("RASCUNHO"),o=Object(d.a)(s,2),r=o[0],l=o[1],u=Object(a.useState)("Artigos no Rascunho"),m=Object(d.a)(u,2),b=m[0],h=m[1],f=Object(a.useState)(e.refresh||!0),O=Object(d.a)(f,1)[0],v=Object(a.useContext)(p),x=v.setFooterContent,y=v.user,I=v.profileLoggedUser,C=v.showMessage,_=v.showModal,E=v.closeModal,A=Object(N.f)();function w(e){A("/article?param=".concat(e))}function P(){var e="draftArticlesByWriter";switch(r){default:e="draftArticlesByWriter";break;case"PUBLICADO":e="publishedArticlesByWriter";break;case"RETIRADO":e="unpublisheArticlesByWriter"}j.a.get("".concat(Ie,"/").concat(e,"/").concat(I.id),{headers:{Authorization:y.token}}).then((function(e){200===e.status?i(e.data):i([])})).catch((function(e){console.log("Erro ao selecionar articles => ",e)}))}function L(e){if("PUBLICADO"===e.status){var t='Tem certeza que deseja retirar do ar o artigo "'+e.title+'"? ';_(Object(g.jsx)(F,{message:t,confirm:function(){return function(e){var t=e;e.status="RETIRADO",j.a.put(Ie,t,{headers:{Authorization:y.token}}).then((function(e){C("info","O Artigo foi retirado do ar com sucesso!")})).catch((function(e){C("error","Erro retirar o artigo do ar: Contate administrador!"),console.log("Erro: ",e.response.data.message)})),E()}(e)},close:function(){return E()},cancel:function(){return E()}}),"center")}else{var n='Tem certeza que deseja excluir o artigo "'+e.title+'"? ';_(Object(g.jsx)(F,{message:n,confirm:function(){return t=e.id,j.a.delete("".concat(Ie,"/").concat(t),{headers:{Authorization:y.token}}).then((function(e){console.log("Depois de deletar o artigo: ",e),P()})).catch((function(e){console.log("Erro ao selecionar articles => ",e)})),void E();var t},close:function(){return E()},cancel:function(){return E()}}),"center")}}function S(e,t,n){if(l(e),h(t),n){for(var c=document.getElementsByClassName("button-link"),i=0;i<c.length;i++)c[i].classList.remove("active");document.getElementById(n).classList.add("active")}}return Object(a.useEffect)((function(){var e=window.location.search;e&&""!==e.trim()&&l(e.replace("?param=","").trim()),P(),x(Object(g.jsxs)("div",{className:"profile_footer",children:[Object(g.jsxs)("div",{id:"btn-list-draft",className:"button-link active",children:[Object(g.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(e){return S("RASCUNHO","Artigos no Rascunho","btn-list-draft")},children:"receipt"}),Object(g.jsx)("span",{children:"Rascunhos"})]}),Object(g.jsxs)("div",{id:"btn-list-published",className:"button-link",children:[Object(g.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(e){return S("PUBLICADO","Artigos Publicados","btn-list-published")},children:"task"}),Object(g.jsx)("span",{children:"Publicados"})]}),Object(g.jsxs)("div",{id:"btn-list-unpublished",className:"button-link",children:[Object(g.jsx)("button",{className:"button_icon material-icons-outlined",onClick:function(e){return S("RETIRADO","Artigos Retirados do Ar","btn-list-unpublished")},children:"unpublished"}),Object(g.jsx)("span",{children:"Retirados"})]})]}))}),[O,r]),Object(g.jsxs)("div",{className:"MyArticles",children:[Object(g.jsx)("div",{className:"tab-title",children:b}),"PUBLICADO"===r?Object(g.jsx)(k,{writerIdOnly:I.id}):Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"list-articles",children:c.map((function(e,t){return Object(g.jsx)(ye,{article:e,handleClickArticleItem:w,deleteArticle:L},"item_".concat(t))}))}),Object(g.jsx)("button",{id:"button-add-article",className:"btn-add-item material-icons-outlined",onClick:function(){return A("/article")},children:"add_circle_outline"})]})]})},_e=(n(85),function(e){return Object(g.jsx)("div",{className:"PageError",children:Object(g.jsx)("p",{children:e.message})})}),ke=function(e){var t=Object(a.useContext)(p).user;return t.validToken?t.isAdministrator?e.element:Object(g.jsx)(_e,{message:"Acesso n\xe3o permitido! Por favor, entre em contato com o administrador do sistema!"}):Object(g.jsx)($,{})},Ee=function(e){return Object(a.useContext)(p).user.validToken?e.element:Object(g.jsx)($,{})},Ae=(n(86),function(e){return Object(g.jsxs)("div",{className:"Indicators",children:[Object(g.jsx)("h2",{children:"Indicadores"}),Object(g.jsx)("h3",{children:"(Em desenvolvimento)"})]})}),we=(n(87),function(e){return Object(g.jsxs)("div",{className:"Connections",children:[Object(g.jsx)("h2",{children:"Conex\xf5es"}),Object(g.jsx)("h3",{children:"(Em desenvolvimento)"})]})}),Pe=(n(88),{id:null,writerId:null,title:"teste de titulo",categoryId:1,htmlFilePath:"sem html",route:"sem rota",writer:{id:"",name:"",bioDescription:"",photo:""},sectionsinarticles:[]}),Le="".concat(u.OPEN_API_URL,"/articles"),Se=function(e){var t=Object(a.useContext)(p),n=t.setFooterContent,c=t.profileLoggedUser,i=t.showModal,s=t.closeModal,o=t.user,m=t.showMessage,b=Object(a.useState)(Pe),h=Object(d.a)(b,2),f=h[0],O=h[1],v=Object(a.useState)(""),x=Object(d.a)(v,2),N=x[0],I=x[1],C=Object(a.useState)(""),_=Object(d.a)(C,2),k=_[0],E=_[1],A=Object(a.useState)(!0),w=Object(d.a)(A,1)[0],P=Object(a.useState)(null),L=Object(d.a)(P,2),S=L[0],B=L[1];function R(){return R=Object(l.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(Le,"/").concat(t)).then(function(){var e=Object(l.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=6;break}return n=t.data,e.next=4,j.a.get("".concat(u.OPEN_API_URL,"/users/").concat(n.writerId)).then((function(e){var t=e.data;n.writer=t,B(t.id)}));case 4:O(n),n.writer&&(I("".concat(n.writer.name," em ").concat(y(n.statusDate))),E(n.writer.bioDescription||""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("error ====> ",e)}));case 2:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function T(){if(f&&c&&f.writerId===c.id){var e='Tem certeza que deseja retirar do ar o artigo "'+f.title+'"? ';i(Object(g.jsx)(F,{message:e,confirm:function(){return function(e){var t=e;e.status="RETIRADO",j.a.put("".concat(u.API_URL,"/articles"),t,{headers:{Authorization:o.token}}).then((function(e){m("info","O Artigo foi retirado do ar com sucesso!")})).catch((function(e){m("error","Erro retirar o artigo do ar: Contate administrador!"),console.log("Erro: ",e.response.data.message)})),s()}(f)},close:function(){return s()},cancel:function(){return s()}}),"center")}}return Object(a.useEffect)((function(){var e=window.location.search;if(e&&""!==e.trim()){console.log("window.location => ",window.location);var t=e.replace("?param=","").trim();console.log("***** artigo para editar ===> ",t),null!==t&&""!==t&&function(e){R.apply(this,arguments)}(t)}}),[w]),Object(a.useEffect)((function(){console.log("Dentro de UseEffect writerId ==> ",S),n(null);var e=document.getElementById("button-unpublish-article");e.classList.remove("active"),S&&c&&S===c.id&&e.classList.add("active")}),[S]),Object(g.jsxs)("div",{className:"ArticleView",children:[Object(g.jsxs)("div",{className:"div-writer-article-view",children:[Object(g.jsx)("div",{className:"div-profile-img-article-view",children:Object(g.jsx)("img",{className:"image-profile-article-view",src:"".concat(u.IMAGE_URL_API,"/").concat(f.writer.photo||u.IMAGE_PROFILE_DEFAULT),alt:""})}),Object(g.jsxs)("div",{className:"div-details-article-view",children:[Object(g.jsx)("div",{className:"author-article-view",children:N}),Object(g.jsx)("p",{className:"bio-writer-article-view",children:k}),Object(g.jsx)("a",{href:"#",className:"link-follow",children:"(Seguir +)"})]})]}),Object(g.jsxs)("div",{className:"ArticleViewBody",children:[Object(g.jsx)("h1",{children:f.title}),f.sectionsinarticles.map((function(e,t){switch(e.sectionId){case"CAPTION":return Object(g.jsx)("h2",{children:e.text},"{h2_".concat(t,"}"));case"PARAGRAPH":return Object(g.jsx)("p",{children:e.text},"{p_".concat(t,"}"));case"IMAGE":return Object(g.jsxs)("div",{className:"div-img-view",children:[Object(g.jsx)("img",{className:"img-view",src:"".concat(u.IMAGE_URL_API,"/article/").concat(e.imagePath),alt:""}),Object(g.jsx)("p",{children:e.text})]},"{div_".concat(t,"}"));case"CODE":return Object(g.jsx)("pre",{children:e.text},"{pre_".concat(t,"}"));case"QUOTE":return Object(g.jsxs)("div",{className:"div-quote-view",children:[Object(g.jsxs)("p",{className:"text-quote-view",children:[Object(g.jsx)("span",{children:'"'}),e.text,Object(g.jsx)("span",{children:'"'})]}),Object(g.jsxs)("p",{className:"author-quote-view",children:["--",e.complement]})]},"{div_".concat(t,"}"));case"LIST":return function(e,t){var n=e.split("#!#");return Object(g.jsx)("ul",{children:n.map((function(e,n){return Object(g.jsx)("li",{children:e},"list_".concat(t,"_item_").concat(n))}))},"{ul_".concat(t,"}"))}(e.text,t);default:return Object(g.jsx)("p",{children:e.sectionId})}})),Object(g.jsxs)("div",{className:"ArticleViewFooter",children:[Object(g.jsxs)("div",{className:"div-button-like",children:[Object(g.jsx)("button",{children:Object(g.jsx)("span",{className:"material-icons-outlined",children:"thumb_up"})}),Object(g.jsx)("span",{children:"Gostei"})]}),Object(g.jsxs)("div",{className:"div-icon-comment",children:[Object(g.jsx)("span",{className:"material-icons-outlined",children:"campaign"}),Object(g.jsx)("span",{children:"Coment\xe1rios:"})]}),Object(g.jsx)("div",{className:"div-form-comments",children:Object(g.jsx)("p",{children:"Seja o primeiro a comentar..."})})]})]}),Object(g.jsx)("button",{id:"button-unpublish-article",className:"btn-unpublish-article material-icons-outlined",onClick:T,children:"highlight_off"})]})},Be=function(e){return Object(g.jsxs)("div",{className:"Content",children:[Object(g.jsx)(B,{}),Object(g.jsxs)(N.c,{children:[Object(g.jsx)(N.a,{path:"/",element:Object(g.jsx)(E,{})}),Object(g.jsx)(N.a,{path:"categories",element:Object(g.jsx)(ke,{element:Object(g.jsx)(G,{})})}),Object(g.jsx)(N.a,{path:"profile",element:Object(g.jsx)(Ee,{element:Object(g.jsx)(W,{})})}),Object(g.jsx)(N.a,{path:"blogpreferences",element:Object(g.jsx)(Ee,{element:Object(g.jsx)(Y,{})})}),Object(g.jsx)(N.a,{path:"indicators",element:Object(g.jsx)(Ee,{element:Object(g.jsx)(Ae,{})})}),Object(g.jsx)(N.a,{path:"connections",element:Object(g.jsx)(Ee,{element:Object(g.jsx)(we,{})})}),Object(g.jsx)(N.a,{path:"article",element:Object(g.jsx)(Ee,{element:Object(g.jsx)(Ne,{})})}),Object(g.jsx)(N.a,{path:"myarticles",element:Object(g.jsx)(Ee,{element:Object(g.jsx)(Ce,{})})}),Object(g.jsx)(N.a,{path:"articleview",element:Object(g.jsx)(Se,{})}),Object(g.jsx)(N.a,{path:"login",element:Object(g.jsx)($,{})}),Object(g.jsx)(N.a,{path:"signup",element:Object(g.jsx)(ne,{})}),"s",Object(g.jsx)(N.a,{path:"logout",element:Object(g.jsx)(ce,{})})]})]})},Re="".concat(u.OPEN_API_URL,"/users/validate"),Te="blog_token_key",Ue=function(){var e=Object(a.useState)(!0),t=Object(d.a)(e,1)[0],n=Object(a.useContext)(p).updateLoggedUser;return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=localStorage.getItem(Te))&&j.a.post(Re,{token:t}).then((function(e){var c={userProfile:e.data.userProfile,token:t,validToken:e.data.valid};n(c)})).catch((function(e){console.log("error",e.message)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(g.jsx)("div",{className:"App",id:"app",children:Object(g.jsxs)(b.a,{children:[Object(g.jsx)(Be,{}),Object(g.jsx)(A,{}),Object(g.jsx)(w,{}),Object(g.jsx)(T,{})]})})};i.a.render(Object(g.jsx)(x,{children:Object(g.jsx)(Ue,{})}),document.getElementById("root"))}],[[89,1,2]]]);
//# sourceMappingURL=main.c420a56c.chunk.js.map